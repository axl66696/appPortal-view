(self.webpackChunkapp_portal=self.webpackChunkapp_portal||[]).push([[3107],{3107:(st,_e,N)=>{N.r(_e),N.d(_e,{ForgotPasswordComponent:()=>tt,ForgotPasswordService:()=>et,LoginComponent:()=>ut,LoginService:()=>Je,ResetPasswordComponent:()=>it,ResetPasswordService:()=>nt});var $=N(5861),t=N(5863),ee=N(9159),Se=N(2285),W=N(575),Me=N(7069),Q=N(6345),y=N(1183),R=N(1189),L=N(4008),F=N(8426),de=N(6701),V=N(25),Ae=N(2182),P=N(6390);class re{userCode=new P.Coding;token="";constructor(r){Object.assign(this,structuredClone(r))}}class Ie{orgNo="";userCode=new P.Coding;passwordHash="";constructor(r){Object.assign(this,structuredClone(r))}}class ne extends P.IndexObject{_id=crypto.randomUUID();hospital=new P.Coding;userCode=new P.Coding;gender=new P.Coding;birthDate;eMail="";passwordHash="";passwordTime=new Date("2999-12-31 23:59");period=new P.Period({end:new Date("2999-12-31 23:59")});remark="";updatedBy=new P.Coding;updatedAt=new Date;static#e=(()=>{ne.INDEXES.push({name:"UserAccountKey1",key:{"userCode.code":1,"hospital.code":1}}),ne.INDEXES.push({name:"UserAccountKey2",key:{"hospital.code":1}})})();constructor(r){super(),Object.assign(this,structuredClone(r))}}class ae extends P.IndexObject{_id=crypto.randomUUID();userCode=new P.Coding;appId="";isFavorite=!1;updatedBy=new P.Coding;updatedAt=new Date;static#e=(()=>{ae.INDEXES.push({name:"UserAppStoreKey1",key:{"userCode.code":1}}),ae.INDEXES.push({name:"UserAppStoreKey2",key:{appId:1}})})();constructor(r){super(),Object.assign(this,structuredClone(r))}}class xe extends P.IndexObject{_id=crypto.randomUUID();userCode=new P.Coding;appId="";profile={};updatedBy=new P.Coding;updatedAt=new Date;static#e=xe.INDEXES.push({name:"UserProfileKey1",key:{"userCode.code":1,appId:1}});constructor(r){super(),Object.assign(this,structuredClone(r))}}var J=N(3171),ie=N(2998);const pe=":";const M=function(n,...r){if(M.translate){const u=M.translate(n,r);n=u[0],r=u[1]}let o=B(n[0],n.raw[0]);for(let u=1;u<n.length;u++)o+=r[u-1]+B(n[u],n.raw[u]);return o},I=":";function B(n,r){return r.charAt(0)===I?n.substring(function l(n,r){for(let o=1,u=1;o<n.length;o++,u++)if("\\"===r[u])u++;else if(n[o]===pe)return o;throw new Error(`Unterminated $localize metadata block in "${r}".`)}(n,r)+1):n}globalThis.$localize=M;var x=N(3433),H=N(4620);function O(n,r){if(1&n){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",8),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onCloseClick())}),t.\u0275\u0275elementEnd()()}2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"\u5fd8\u8a18\u5bc6\u78bc")))}function K(n,r){if(1&n){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onCloseClick())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"button",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onSubmitClick())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(1,2,"\u53d6\u6d88")),t.\u0275\u0275advance(2),t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(3,4,"\u78ba\u5b9a\u9001\u51fa")))}const oe=function(){return{"960px":"75vw"}};function We(n,r){if(1&n){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",8),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onCloseClick())}),t.\u0275\u0275elementEnd()()}2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"\u91cd\u7f6e\u5bc6\u78bc")))}function ot(n,r){if(1&n){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onCancelClick())}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"button",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onSubmitClick())}),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(1,2,"\u53d6\u6d88")),t.\u0275\u0275advance(2),t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(3,4,"\u78ba\u5b9a\u9001\u51fa")))}let Je=(()=>{class n{#e=(0,t.inject)(ee.JetstreamWsService);getUserToken(o){return this.#e.request("appPortal.userAccount.userToken",o)}getHashPassword(o){const u=new Se.Z("SHA3-256","TEXT",{encoding:"UTF8"});return u.update(o),u.getHash("HEX")}getUserAccount(o){return this.#e.request("appPortal.userAccount.find",o)}static#t=this.\u0275fac=function(u){return new(u||n)};static#n=this.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let rt=(()=>{class n{#e="ws://localhost:8080";#t=(0,t.inject)(ee.JetstreamWsService);connect(){var o=this;return(0,$.Z)(function*(){yield o.#t.connect(o.#e)})()}disconnect(){var o=this;return(0,$.Z)(function*(){yield o.#t.drain()})()}static#n=this.\u0275fac=function(u){return new(u||n)};static#i=this.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),et=(()=>{class n{#e=(0,t.inject)(ee.JetstreamWsService);getUserMail(o,u){return this.#e.request("appPortal.userAccount.userMail",{userCode:o,eMail:u})}pubSendMail(o,u){var d=this;return(0,$.Z)(function*(){yield d.#e.publish("appPortal.userAccount.sendMail",{userCode:o,eMail:u})})()}static#t=this.\u0275fac=function(u){return new(u||n)};static#n=this.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tt=(()=>{class n{constructor(){this.hideForgot=new t.EventEmitter,this.userCode="",this.eMail="",this.userMail="",this.messageService=(0,t.inject)(V.MessageService),this.#e=(0,t.inject)(et),this.#t=(0,t.inject)(x.TranslateService)}#e;#t;onSubmitClick(){this.#e.getUserMail(this.userCode,this.eMail).subscribe(o=>{this.userMail=o,this.userMail!==this.eMail?this.messageService.add({severity:"error",summary:"Error",detail:this.#t.instant("\u5e33\u865f\u6216\u4fe1\u7bb1\u4e0d\u6b63\u78ba")}):(this.#e.pubSendMail(this.userCode,this.userMail),this.messageService.add({severity:"success",summary:"Success",detail:this.#t.instant("\u91cd\u7f6e\u9023\u7d50\u5df2\u767c\u9001\u5230\u4fe1\u7bb1")}),this.hideForgot.emit()),this.userCode="",this.eMail=""})}onCloseClick(){this.userCode="",this.eMail="",this.hideForgot.emit()}static#n=this.\u0275fac=function(u){return new(u||n)};static#i=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["his-forgot-password"]],inputs:{isVisibleForgot:"isVisibleForgot"},outputs:{hideForgot:"hideForgot"},standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:18,vars:15,consts:[["showEffect","fade",1,"profile",3,"visible","modal","breakpoints","visibleChange"],["pTemplate","header"],[1,"profileContent","lg:col-12","mb-2","p-0","flex","justify-content-center"],[1,"fromList","flex","flex-wrap","justify-content-center","w-full"],[1,"fromColumn","flex"],["type","text","pInputText","",3,"ngModel","ngModelChange"],["pTemplate","footer"],[1,"dialog-header"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded",3,"click"],["pButton","","pRipple","","type","button",1,"p-button-secondary",3,"label","click"],["pButton","","pRipple","","type","button",3,"label","click"]],template:function(u,d){1&u&&(t.\u0275\u0275elementStart(0,"p-dialog",0),t.\u0275\u0275listener("visibleChange",function(A){return d.isVisibleForgot=A}),t.\u0275\u0275template(1,O,5,3,"ng-template",1),t.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"input",5),t.\u0275\u0275listener("ngModelChange",function(A){return d.userCode=A}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",4)(10,"h6"),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"input",5),t.\u0275\u0275listener("ngModelChange",function(A){return d.eMail=A}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"div"),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(17,K,4,6,"ng-template",6),t.\u0275\u0275elementEnd()),2&u&&(t.\u0275\u0275property("visible",d.isVisibleForgot)("modal",!0)("breakpoints",t.\u0275\u0275pureFunction0(14,oe)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,8,"\u5e33\u865f")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",d.userCode),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,10,"\u96fb\u5b50\u4fe1\u7bb1")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",d.eMail),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("\u203b ",t.\u0275\u0275pipeBind1(16,12,"\u8f38\u5165\u9a57\u8b49\u8cc7\u6599\u5c07\u6703\u6536\u5230\u4fee\u6539\u5bc6\u78bc\u78ba\u8a8d\u4fe1"),""))},dependencies:[W.CommonModule,J.DialogModule,J.Dialog,V.PrimeTemplate,F.FormsModule,F.DefaultValueAccessor,F.NgControlStatus,F.NgModel,R.ButtonModule,R.ButtonDirective,ie.InputTextModule,ie.InputText,x.TranslateModule,x.TranslatePipe],styles:["[_nghost-%COMP%]     .p-dialog{width:25vw}[_nghost-%COMP%]     .p-dialog-content{padding:10%}[_nghost-%COMP%]     .p-dialog-header .dialog-header{display:flex;width:100%;justify-content:space-between;align-items:center}[_nghost-%COMP%]     .p-dialog-header-icon.p-dialog-header-close{display:none}.fromList[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.fromList[_ngcontent-%COMP%]   .fromColumn[_ngcontent-%COMP%]{flex-direction:column;gap:4px}"]})}return n})(),nt=(()=>{class n{#e="ws://localhost:8080";#t=(0,t.inject)(ee.JetstreamWsService);getUserCode(o){return this.#t.request("appPortal.userAccount.userCode",o)}pubPassword(o,u){var d=this;return(0,$.Z)(function*(){yield d.#t.publish("appPortal.userAccount.modifyPassword",{userCode:o,passwordHash:u})})()}connect(){var o=this;return(0,$.Z)(function*(){yield o.#t.connect(o.#e)})()}disconnect(){var o=this;return(0,$.Z)(function*(){yield o.#t.drain()})()}static#n=this.\u0275fac=function(u){return new(u||n)};static#i=this.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),it=(()=>{class n{constructor(){this.hideReset=new t.EventEmitter,this.password="",this.passwordConfirm="",this.userCode="",this.passwordHash="",this.router=(0,t.inject)(de.Router),this.messageService=(0,t.inject)(V.MessageService),this.loginService=(0,t.inject)(Je),this.#e=(0,t.inject)(nt),this.#t=(0,t.inject)(x.TranslateService)}#e;#t;ngOnInit(){var o=this;return(0,$.Z)(function*(){o.token&&(yield o.#e.connect(),o.checkUserCode())})()}ngOnDestroy(){var o=this;return(0,$.Z)(function*(){yield o.#e.disconnect()})()}onCloseClick(){this.hideReset.emit(),this.router.navigate(["login"])}checkPassword(){const o=this.loginService.getHashPassword(this.password);return o===this.loginService.getHashPassword(this.passwordConfirm)&&""!==this.password&&(this.passwordHash=o,!0)}onCancelClick(){this.password="",this.passwordConfirm="",this.hideReset.emit(),this.router.navigate(["login"])}onSubmitClick(){this.checkPassword()?(history.replaceState("","","login"),this.isVisibleReset=!1,this.messageService.add({severity:"success",summary:"Success",detail:this.#t.instant("\u91cd\u7f6e\u6210\u529f")}),this.#e.pubPassword(this.userCode,this.passwordHash)):this.messageService.add({severity:"error",summary:"Error",detail:this.#t.instant("\u8acb\u8f38\u5165\u76f8\u540c\u5bc6\u78bc")}),this.password="",this.passwordConfirm=""}checkUserCode(){this.#e.getUserCode(this.token).subscribe(o=>{this.userCode=o,""===this.userCode?(history.replaceState("","","login"),this.messageService.add({severity:"error",summary:"Error",detail:this.#t.instant("\u91cd\u7f6e\u9023\u7d50\u9a57\u8b49\u5931\u6557")})):this.isVisibleReset=!0})}static#n=this.\u0275fac=function(u){return new(u||n)};static#i=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["his-reset-password"]],inputs:{isVisibleReset:"isVisibleReset",token:"token"},outputs:{hideReset:"hideReset"},standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:20,vars:25,consts:[["showEffect","fade",1,"profile",3,"visible","modal","breakpoints","visibleChange"],["pTemplate","header"],[1,"profileContent","lg:col-12","mb-2","p-0","flex","justify-content-center"],[1,"fromList","flex","flex-wrap","justify-content-center","w-full"],[1,"fromColumn","flex"],[3,"ngModel","placeholder","feedback","toggleMask","ngModelChange"],["pTemplate","footer"],[1,"dialog-header"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded",3,"click"],["pButton","","pRipple","","type","button",1,"p-button-secondary",3,"label","click"],["pButton","","pRipple","","type","button",3,"label","click"]],template:function(u,d){1&u&&(t.\u0275\u0275elementStart(0,"p-dialog",0),t.\u0275\u0275listener("visibleChange",function(A){return d.isVisibleReset=A}),t.\u0275\u0275template(1,We,5,3,"ng-template",1),t.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"p-password",5),t.\u0275\u0275listener("ngModelChange",function(A){return d.password=A}),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",4)(11,"h6"),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"p-password",5),t.\u0275\u0275listener("ngModelChange",function(A){return d.passwordConfirm=A}),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(16,"div"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(19,ot,4,6,"ng-template",6),t.\u0275\u0275elementEnd()),2&u&&(t.\u0275\u0275property("visible",d.isVisibleReset)("modal",!0)("breakpoints",t.\u0275\u0275pureFunction0(24,oe)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,14,"\u65b0\u5bc6\u78bc")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",d.password)("placeholder",t.\u0275\u0275pipeBind1(9,16,"\u8acb\u8f38\u5165\u65b0\u5bc6\u78bc"))("feedback",!0)("toggleMask",!0),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,18,"\u8acb\u518d\u6b21\u8f38\u5165")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",d.passwordConfirm)("placeholder",t.\u0275\u0275pipeBind1(15,20,"\u8acb\u518d\u6b21\u8f38\u5165"))("feedback",!1)("toggleMask",!0),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("\u203b ",t.\u0275\u0275pipeBind1(18,22,"\u8acb\u6ce8\u610f\u8f38\u5165\u76f8\u540c\u5bc6\u78bc"),""))},dependencies:[W.CommonModule,J.DialogModule,J.Dialog,V.PrimeTemplate,F.FormsModule,F.NgControlStatus,F.NgModel,R.ButtonModule,R.ButtonDirective,ie.InputTextModule,L.PasswordModule,L.Password,x.TranslateModule,x.TranslatePipe],styles:["[_nghost-%COMP%]     .p-dialog{width:25vw}[_nghost-%COMP%]     .p-dialog-content{padding:10%}[_nghost-%COMP%]     .p-dialog-header .dialog-header{display:flex;width:100%;justify-content:space-between;align-items:center}[_nghost-%COMP%]     .p-dialog-header-icon.p-dialog-header-close{display:none}[_nghost-%COMP%]     .p-password{width:100%}[_nghost-%COMP%]     .p-input-icon-right>.p-inputtext{width:100%}[_nghost-%COMP%]     .p-input-icon-right>.p-icon-wrapper{right:15px;cursor:pointer}.fromList[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.fromList[_ngcontent-%COMP%]   .fromColumn[_ngcontent-%COMP%]{flex-direction:column;gap:4px}"]})}return n})();var lt=Object.freeze({__proto__:null,default:["\u7af9\u9298\u91ab\u9662"]});let ut=(()=>{class n{constructor(){this.branchesOption=[],this.password="",this.loginReq=new Ie,this.userToken=new re,this.isVisibleForgot=!1,this.isVisibleReset=!1,this.userAccount=new ne,this.messageService=(0,t.inject)(V.MessageService),this.router=(0,t.inject)(de.Router),this.userAccountService=(0,t.inject)(H.UserAccountService),this.userProfileService=(0,t.inject)(H.UserProfileService),this.#e=(0,t.inject)(Je),this.#t=(0,t.inject)(rt),this.#n=(0,t.inject)(Ae.SharedService),this.#i=(0,t.inject)(x.TranslateService)}#e;#t;#n;#i;ngOnInit(){var o=this;return(0,$.Z)(function*(){o.branchesOption=Object.values(lt)[0],yield o.#t.connect(),document.getElementById("theme-css").href="app/styles/theme.css"})()}onLoginClick(){try{this.loginReq.passwordHash=this.#e.getHashPassword(this.password),this.#e.getUserToken(this.loginReq).subscribe(o=>{this.userToken=o,this.checkUserToken(this.userToken),this.getUserProfile(this.userToken)})}catch{this.messageService.add({severity:"error",summary:"Error",detail:this.#i.instant("\u767b\u5165\u5931\u6557")})}}checkUserToken(o){""!==o.token?(this.#n.sharedValue=null,this.#e.getUserAccount(o.userCode.code).subscribe(u=>{this.userAccount=u,this.userAccountService.userAccount.set(u),console.log("this.userAccountService.userAccount<========",this.userAccountService.userAccount()),this.router.navigate(["/home"])})):this.messageService.add({severity:"error",summary:"Error",detail:this.#i.instant("\u5e33\u865f\u6216\u5bc6\u78bc\u932f\u8aa4")})}getUserProfile(o){""!==o.token&&this.userProfileService.getUserProfile(o.userCode.code,"app-portal").subscribe(u=>{this.userProfileService.userProfile.set(u)})}onForgotClick(){this.isVisibleForgot=!0}onHideForgot(){this.isVisibleForgot=!1}onHideReset(){this.isVisibleReset=!1}static#s=this.\u0275fac=function(u){return new(u||n)};static#o=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["his-login"]],inputs:{token:"token"},standalone:!0,features:[t.\u0275\u0275ProvidersFeature([V.MessageService]),t.\u0275\u0275StandaloneFeature],decls:39,vars:32,consts:[[1,"login-page-container"],[1,"login-container"],[1,"welcome-container"],[1,"welcome-style"],[1,"logo-container"],["src","assets/companyLogo.png","alt","Image"],[1,"title-style"],[1,"form-container"],[1,"input-text"],["htmlFor","branchSelector",1,"input-label"],["id","branchSelector",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","UserName",1,"input-label"],["pInputText","","id","UserName","type","text",1,"p-inputtext","p-element","p-component",3,"placeholder","ngModel","ngModelChange"],["htmlFor","Password",1,"input-label"],["id","password",1,"p-fluid",3,"placeholder","ngModel","feedback","ngModelChange","keyup.enter"],[1,"button-group"],["styleClass","p-button-link",3,"label","onClick"],["pButton","","pRipple-label","",3,"label","click"],[1,"image-container"],[1,"image-box"],["src","assets/loginImage.png","alt","Image",1,"image-style"],[3,"isVisibleForgot","hideForgot"],[3,"isVisibleReset","token","hideReset"]],template:function(u,d){1&u&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275text(4,"Welcome!"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",4),t.\u0275\u0275element(6,"img",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",6),t.\u0275\u0275text(8,"\u96f2\u884c\u81f3\u5584\u91ab\u7642\u7cfb\u7d71"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",7)(10,"div",8)(11,"label",9),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"p-dropdown",10),t.\u0275\u0275listener("ngModelChange",function(A){return d.loginReq.orgNo=A}),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(16,"div",8)(17,"label",11),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"input",12),t.\u0275\u0275listener("ngModelChange",function(A){return d.loginReq.userCode.code=A}),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"div",8)(23,"label",13),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"p-password",14),t.\u0275\u0275listener("ngModelChange",function(A){return d.password=A})("keyup.enter",function(){return d.onLoginClick()}),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",15)(29,"p-button",16),t.\u0275\u0275listener("onClick",function(){return d.onForgotClick()}),t.\u0275\u0275pipe(30,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"button",17),t.\u0275\u0275listener("click",function(){return d.onLoginClick()}),t.\u0275\u0275pipe(32,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(33,"div",18)(34,"div",19),t.\u0275\u0275element(35,"img",20),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(36,"p-toast"),t.\u0275\u0275elementStart(37,"his-forgot-password",21),t.\u0275\u0275listener("hideForgot",function(){return d.onHideForgot()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(38,"his-reset-password",22),t.\u0275\u0275listener("hideReset",function(){return d.onHideReset()}),t.\u0275\u0275elementEnd()),2&u&&(t.\u0275\u0275advance(12),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,16,"\u9662\u5340")),t.\u0275\u0275advance(2),t.\u0275\u0275property("options",d.branchesOption)("ngModel",d.loginReq.orgNo)("placeholder",t.\u0275\u0275pipeBind1(15,18,"\u8acb\u9078\u64c7\u9662\u5340")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(19,20,"\u5e33\u865f")),t.\u0275\u0275advance(2),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(21,22,"\u8acb\u8f38\u5165\u5e33\u865f"))("ngModel",d.loginReq.userCode.code),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(25,24,"\u5bc6\u78bc")),t.\u0275\u0275advance(2),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(27,26,"\u8acb\u8f38\u5165\u5bc6\u78bc"))("ngModel",d.password)("feedback",!1),t.\u0275\u0275advance(3),t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(30,28,"\u5fd8\u8a18\u5bc6\u78bc")),t.\u0275\u0275advance(2),t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(32,30,"\u767b\u5165")),t.\u0275\u0275advance(6),t.\u0275\u0275property("isVisibleForgot",d.isVisibleForgot),t.\u0275\u0275advance(1),t.\u0275\u0275property("isVisibleReset",d.isVisibleReset)("token",d.token))},dependencies:[W.CommonModule,R.ButtonModule,R.ButtonDirective,R.Button,L.PasswordModule,L.Password,F.FormsModule,F.DefaultValueAccessor,F.NgControlStatus,F.NgModel,Me.ImageModule,Q.DropdownModule,Q.Dropdown,y.ToastModule,y.Toast,tt,it,ie.InputTextModule,ie.InputText,x.TranslateModule,x.TranslatePipe],styles:["[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items .p-dropdown-item{padding:.5rem .75rem}[_nghost-%COMP%]     .p-dropdown, [_nghost-%COMP%]     .p-inputtext{width:100%;background:var(--white)!important}[_nghost-%COMP%]     .button-group{display:flex;gap:var(--spacing-lg)}[_nghost-%COMP%]     .button-group .p-button{max-width:142px;width:calc(50% - 8px)}[_nghost-%COMP%]     .button-group p-button{width:calc(50% - 8px)}[_nghost-%COMP%]     .button-group p-button .p-button{width:100%}[_nghost-%COMP%]     .p-dropdown{border-color:var(--outline);max-height:40px}[_nghost-%COMP%]     .p-dropdown .p-inputtext{padding:10px 16px}input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-box-shadow:0 0 0 40px white inset!important}.login-page-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}.login-container[_ngcontent-%COMP%]{width:33%;height:100%;padding:var(--spacing-xxl);display:flex;flex-direction:column;align-items:center;background-color:var(--surface-card)}.welcome-container[_ngcontent-%COMP%]{position:relative;width:100%;display:flex}.welcome-style[_ngcontent-%COMP%]{color:#13141461;font-size:32px;font-style:normal;font-weight:700;line-height:44px;letter-spacing:1.28px}.logo-container[_ngcontent-%COMP%]{width:44.79%;object-fit:cover;padding:var(--spacing-xxl) 0}.logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.form-container[_ngcontent-%COMP%]{width:52%;min-width:250px;display:flex;flex-direction:column;justify-content:center;gap:var(--spacing-lg)}.title-style[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:700;line-height:32px;display:flex;justify-content:center;padding-bottom:var(--spacing-xxl)}.input-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.input-label[_ngcontent-%COMP%]{color:var(--surface-on-surface);font-size:20px;font-style:normal;font-weight:700;line-height:28px;letter-spacing:.4px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:var(--spacing-lg)}.image-container[_ngcontent-%COMP%]{width:67%;height:100%}.image-box[_ngcontent-%COMP%]{width:100%;height:100%}.image-style[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}"]})}return n})()},2285:(st,_e,N)=>{N.d(_e,{Z:()=>Ze});const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="ARRAYBUFFER not supported by this environment",ee="UINT8ARRAY not supported by this environment";function Se(a,e,s,i){let l,h,f;const v=e||[0],g=(s=s||0)>>>3,w=-1===i?3:0;for(l=0;l<a.length;l+=1)f=l+g,h=f>>>2,v.length<=h&&v.push(0),v[h]|=a[l]<<8*(w+i*(f%4));return{value:v,binLen:8*a.length+s}}function W(a,e,s){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(a){case"HEX":return function(i,l,h){return function(f,v,g,w){let b,p,m,S;if(f.length%2!=0)throw new Error("String of HEX type must be in byte increments");const _=v||[0],M=(g=g||0)>>>3,I=-1===w?3:0;for(b=0;b<f.length;b+=2){if(p=parseInt(f.substr(b,2),16),isNaN(p))throw new Error("String of HEX type contains invalid characters");for(S=(b>>>1)+M,m=S>>>2;_.length<=m;)_.push(0);_[m]|=p<<8*(I+w*(S%4))}return{value:_,binLen:4*f.length+g}}(i,l,h,s)};case"TEXT":return function(i,l,h){return function(f,v,g,w,b){let p,m,S,_,M,I,B,x,H=0;const O=g||[0],K=(w=w||0)>>>3;if("UTF8"===v)for(B=-1===b?3:0,S=0;S<f.length;S+=1)for(p=f.charCodeAt(S),m=[],128>p?m.push(p):2048>p?(m.push(192|p>>>6),m.push(128|63&p)):55296>p||57344<=p?m.push(224|p>>>12,128|p>>>6&63,128|63&p):(S+=1,p=65536+((1023&p)<<10|1023&f.charCodeAt(S)),m.push(240|p>>>18,128|p>>>12&63,128|p>>>6&63,128|63&p)),_=0;_<m.length;_+=1){for(I=H+K,M=I>>>2;O.length<=M;)O.push(0);O[M]|=m[_]<<8*(B+b*(I%4)),H+=1}else for(B=-1===b?2:0,x="UTF16LE"===v&&1!==b||"UTF16LE"!==v&&1===b,S=0;S<f.length;S+=1){for(p=f.charCodeAt(S),!0===x&&(_=255&p,p=_<<8|p>>>8),I=H+K,M=I>>>2;O.length<=M;)O.push(0);O[M]|=p<<8*(B+b*(I%4)),H+=2}return{value:O,binLen:8*H+w}}(i,e,l,h,s)};case"B64":return function(i,l,h){return function(f,v,g,w){let b,p,m,S,_,M,I,B=0;const x=v||[0],H=(g=g||0)>>>3,O=-1===w?3:0,K=f.indexOf("=");if(-1===f.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(f=f.replace(/=/g,""),-1!==K&&K<f.length)throw new Error("Invalid '=' found in base-64 string");for(p=0;p<f.length;p+=4){for(_=f.substr(p,4),S=0,m=0;m<_.length;m+=1)b=$.indexOf(_.charAt(m)),S|=b<<18-6*m;for(m=0;m<_.length-1;m+=1){for(I=B+H,M=I>>>2;x.length<=M;)x.push(0);x[M]|=(S>>>16-8*m&255)<<8*(O+w*(I%4)),B+=1}}return{value:x,binLen:8*B+g}}(i,l,h,s)};case"BYTES":return function(i,l,h){return function(f,v,g,w){let b,p,m,S;const _=v||[0],M=(g=g||0)>>>3,I=-1===w?3:0;for(p=0;p<f.length;p+=1)b=f.charCodeAt(p),S=p+M,m=S>>>2,_.length<=m&&_.push(0),_[m]|=b<<8*(I+w*(S%4));return{value:_,binLen:8*f.length+g}}(i,l,h,s)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(t)}return function(i,l,h){return v=l,g=h,w=s,Se(new Uint8Array(i),v,g,w);var v,g,w};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(ee)}return function(i,l,h){return Se(i,l,h,s)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function Me(a,e,s,i){switch(a){case"HEX":return function(l){return function(h,f,v,g){const w="0123456789abcdef";let b,p,m="";const S=f/8,_=-1===v?3:0;for(b=0;b<S;b+=1)p=h[b>>>2]>>>8*(_+v*(b%4)),m+=w.charAt(p>>>4&15)+w.charAt(15&p);return g.outputUpper?m.toUpperCase():m}(l,e,s,i)};case"B64":return function(l){return function(h,f,v,g){let w,b,p,m,S,_="";const M=f/8,I=-1===v?3:0;for(w=0;w<M;w+=3)for(m=w+1<M?h[w+1>>>2]:0,S=w+2<M?h[w+2>>>2]:0,p=(h[w>>>2]>>>8*(I+v*(w%4))&255)<<16|(m>>>8*(I+v*((w+1)%4))&255)<<8|S>>>8*(I+v*((w+2)%4))&255,b=0;b<4;b+=1)_+=8*w+6*b<=f?$.charAt(p>>>6*(3-b)&63):g.b64Pad;return _}(l,e,s,i)};case"BYTES":return function(l){return function(h,f,v){let g,w,b="";const p=f/8,m=-1===v?3:0;for(g=0;g<p;g+=1)w=h[g>>>2]>>>8*(m+v*(g%4))&255,b+=String.fromCharCode(w);return b}(l,e,s)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(t)}return function(l){return function(h,f,v){let g;const w=f/8,b=new ArrayBuffer(w),p=new Uint8Array(b),m=-1===v?3:0;for(g=0;g<w;g+=1)p[g]=h[g>>>2]>>>8*(m+v*(g%4))&255;return b}(l,e,s)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(ee)}return function(l){return function(h,f,v){let g;const w=f/8,b=-1===v?3:0,p=new Uint8Array(w);for(g=0;g<w;g+=1)p[g]=h[g>>>2]>>>8*(b+v*(g%4))&255;return p}(l,e,s)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const Q=4294967296,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],R=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],L=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],F="Chosen SHA variant is not supported",de="Cannot set numRounds with MAC";function V(a,e){let s,i;const l=a.binLen>>>3,h=e.binLen>>>3,f=l<<3,v=4-l<<3;if(l%4!=0){for(s=0;s<h;s+=4)i=l+s>>>2,a.value[i]|=e.value[s>>>2]<<f,a.value.push(0),a.value[i+1]|=e.value[s>>>2]>>>v;return(a.value.length<<2)-4>=h+l&&a.value.pop(),{value:a.value,binLen:a.binLen+e.binLen}}return{value:a.value.concat(e.value),binLen:a.binLen+e.binLen}}function Ae(a){const e={outputUpper:!1,b64Pad:"=",outputLen:-1},s=a||{},i="Output length must be a multiple of 8";if(e.outputUpper=s.outputUpper||!1,s.b64Pad&&(e.b64Pad=s.b64Pad),s.outputLen){if(s.outputLen%8!=0)throw new Error(i);e.outputLen=s.outputLen}else if(s.shakeLen){if(s.shakeLen%8!=0)throw new Error(i);e.outputLen=s.shakeLen}if("boolean"!=typeof e.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw new Error("Invalid b64Pad formatting option");return e}function P(a,e,s,i){const l=a+" must include a value and format";if(!e){if(!i)throw new Error(l);return i}if(void 0===e.value||!e.format)throw new Error(l);return W(e.format,e.encoding||"UTF8",s)(e.value)}class re{constructor(e,s,i){const l=i||{};if(this.t=s,this.i=l.encoding||"UTF8",this.numRounds=l.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=e,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(e){let s,i=0;const l=this.m>>>5,h=this.C(e,this.h,this.u),f=h.binLen,v=h.value,g=f>>>5;for(s=0;s<g;s+=l)i+this.m<=f&&(this.U=this.v(v.slice(s,s+l),this.U),i+=this.m);return this.A+=i,this.h=v.slice(i>>>5),this.u=f%this.m,this.l=!0,this}getHash(e,s){let i,l,h=this.R;const f=Ae(s);if(this.K){if(-1===f.outputLen)throw new Error("Output length must be specified in options");h=f.outputLen}const v=Me(e,h,this.T,f);if(this.H&&this.g)return v(this.g(f));for(l=this.F(this.h.slice(),this.u,this.A,this.L(this.U),h),i=1;i<this.numRounds;i+=1)this.K&&h%32!=0&&(l[l.length-1]&=16777215>>>24-h%32),l=this.F(l,h,0,this.B(this.o),h);return v(l)}setHMACKey(e,s,i){if(!this.M)throw new Error("Variant does not support HMAC");if(this.l)throw new Error("Cannot set MAC key after calling update");const l=W(s,(i||{}).encoding||"UTF8",this.T);this.k(l(e))}k(e){const s=this.m>>>3,i=s/4-1;let l;if(1!==this.numRounds)throw new Error(de);if(this.H)throw new Error("MAC key already set");for(s<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.o),this.R));e.value.length<=i;)e.value.push(0);for(l=0;l<=i;l+=1)this.S[l]=909522486^e.value[l],this.p[l]=1549556828^e.value[l];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(e,s){const i=Ae(s);return Me(e,this.R,this.T,i)(this.Y())}Y(){let e;if(!this.H)throw new Error("Cannot call getHMAC without first setting MAC key");const s=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return e=this.v(this.p,this.B(this.o)),e=this.F(s,this.R,this.m,e,this.R),e}}function te(a,e){return a<<e|a>>>32-e}function z(a,e){return a>>>e|a<<32-e}function Oe(a,e){return a>>>e}function Ie(a,e,s){return a^e^s}function ne(a,e,s){return a&e^~a&s}function ae(a,e,s){return a&e^a&s^e&s}function xe(a){return z(a,2)^z(a,13)^z(a,22)}function U(a,e){const s=(65535&a)+(65535&e);return(65535&(a>>>16)+(e>>>16)+(s>>>16))<<16|65535&s}function Qe(a,e,s,i){const l=(65535&a)+(65535&e)+(65535&s)+(65535&i);return(65535&(a>>>16)+(e>>>16)+(s>>>16)+(i>>>16)+(l>>>16))<<16|65535&l}function J(a,e,s,i,l){const h=(65535&a)+(65535&e)+(65535&s)+(65535&i)+(65535&l);return(65535&(a>>>16)+(e>>>16)+(s>>>16)+(i>>>16)+(l>>>16)+(h>>>16))<<16|65535&h}function ie(a){return z(a,7)^z(a,18)^Oe(a,3)}function pe(a){return z(a,6)^z(a,11)^z(a,25)}function je(a){return[1732584193,4023233417,2562383102,271733878,3285377520]}function fe(a,e){let s,i,l,h,f,v,g;const w=[];for(s=e[0],i=e[1],l=e[2],h=e[3],f=e[4],g=0;g<80;g+=1)w[g]=g<16?a[g]:te(w[g-3]^w[g-8]^w[g-14]^w[g-16],1),v=g<20?J(te(s,5),ne(i,l,h),f,1518500249,w[g]):g<40?J(te(s,5),Ie(i,l,h),f,1859775393,w[g]):g<60?J(te(s,5),ae(i,l,h),f,2400959708,w[g]):J(te(s,5),Ie(i,l,h),f,3395469782,w[g]),f=h,h=l,l=te(i,30),i=s,s=v;return e[0]=U(s,e[0]),e[1]=U(i,e[1]),e[2]=U(l,e[2]),e[3]=U(h,e[3]),e[4]=U(f,e[4]),e}function Le(a,e,s,i){let l;const h=15+(e+65>>>9<<4),f=e+s;for(;a.length<=h;)a.push(0);for(a[e>>>5]|=128<<24-e%32,a[h]=4294967295&f,a[h-1]=f/Q|0,l=0;l<a.length;l+=16)i=fe(a.slice(l,l+16),i);return i}let q=class extends re{constructor(a,e,s){if("SHA-1"!==a)throw new Error(F);super(a,e,s);const i=s||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=W(this.t,this.i,this.T),this.v=fe,this.L=function(l){return l.slice()},this.B=je,this.F=Le,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,i.hmacKey&&this.k(P("hmacKey",i.hmacKey,this.T))}};function ge(a){let e;return e="SHA-224"==a?R.slice():L.slice(),e}function Te(a,e){let s,i,l,h,f,v,g,w,b,p,m;const S=[];for(s=e[0],i=e[1],l=e[2],h=e[3],f=e[4],v=e[5],g=e[6],w=e[7],m=0;m<64;m+=1)S[m]=m<16?a[m]:Qe(z(_=S[m-2],17)^z(_,19)^Oe(_,10),S[m-7],ie(S[m-15]),S[m-16]),b=J(w,pe(f),ne(f,v,g),y[m],S[m]),p=U(xe(s),ae(s,i,l)),w=g,g=v,v=f,f=U(h,b),h=l,l=i,i=s,s=U(b,p);var _;return e[0]=U(s,e[0]),e[1]=U(i,e[1]),e[2]=U(l,e[2]),e[3]=U(h,e[3]),e[4]=U(f,e[4]),e[5]=U(v,e[5]),e[6]=U(g,e[6]),e[7]=U(w,e[7]),e}let le=class extends re{constructor(a,e,s){if("SHA-224"!==a&&"SHA-256"!==a)throw new Error(F);super(a,e,s);const i=s||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=W(this.t,this.i,this.T),this.v=Te,this.L=function(l){return l.slice()},this.B=ge,this.F=function(l,h,f,v){return function(g,w,b,p,m){let S,_;const M=15+(w+65>>>9<<4),I=w+b;for(;g.length<=M;)g.push(0);for(g[w>>>5]|=128<<24-w%32,g[M]=4294967295&I,g[M-1]=I/Q|0,S=0;S<g.length;S+=16)p=Te(g.slice(S,S+16),p);return _="SHA-224"===m?[p[0],p[1],p[2],p[3],p[4],p[5],p[6]]:p,_}(l,h,f,v,a)},this.U=ge(a),this.m=512,this.R="SHA-224"===a?224:256,this.K=!1,i.hmacKey&&this.k(P("hmacKey",i.hmacKey,this.T))}};class c{constructor(e,s){this.N=e,this.I=s}}function Ee(a,e){let s;return e>32?(s=64-e,new c(a.I<<e|a.N>>>s,a.N<<e|a.I>>>s)):0!==e?(s=32-e,new c(a.N<<e|a.I>>>s,a.I<<e|a.N>>>s)):a}function Y(a,e){let s;return e<32?(s=32-e,new c(a.N>>>e|a.I<<s,a.I>>>e|a.N<<s)):(s=64-e,new c(a.I>>>e|a.N<<s,a.N>>>e|a.I<<s))}function Ne(a,e){return new c(a.N>>>e,a.I>>>e|a.N<<32-e)}function He(a,e,s){return new c(a.N&e.N^a.N&s.N^e.N&s.N,a.I&e.I^a.I&s.I^e.I&s.I)}function De(a){const e=Y(a,28),s=Y(a,34),i=Y(a,39);return new c(e.N^s.N^i.N,e.I^s.I^i.I)}function D(a,e){let s,i;s=(65535&a.I)+(65535&e.I),i=(a.I>>>16)+(e.I>>>16)+(s>>>16);const l=(65535&i)<<16|65535&s;return s=(65535&a.N)+(65535&e.N)+(i>>>16),i=(a.N>>>16)+(e.N>>>16)+(s>>>16),new c((65535&i)<<16|65535&s,l)}function Ke(a,e,s,i){let l,h;l=(65535&a.I)+(65535&e.I)+(65535&s.I)+(65535&i.I),h=(a.I>>>16)+(e.I>>>16)+(s.I>>>16)+(i.I>>>16)+(l>>>16);const f=(65535&h)<<16|65535&l;return l=(65535&a.N)+(65535&e.N)+(65535&s.N)+(65535&i.N)+(h>>>16),h=(a.N>>>16)+(e.N>>>16)+(s.N>>>16)+(i.N>>>16)+(l>>>16),new c((65535&h)<<16|65535&l,f)}function $e(a,e,s,i,l){let h,f;h=(65535&a.I)+(65535&e.I)+(65535&s.I)+(65535&i.I)+(65535&l.I),f=(a.I>>>16)+(e.I>>>16)+(s.I>>>16)+(i.I>>>16)+(l.I>>>16)+(h>>>16);const v=(65535&f)<<16|65535&h;return h=(65535&a.N)+(65535&e.N)+(65535&s.N)+(65535&i.N)+(65535&l.N)+(f>>>16),f=(a.N>>>16)+(e.N>>>16)+(s.N>>>16)+(i.N>>>16)+(l.N>>>16)+(h>>>16),new c((65535&f)<<16|65535&h,v)}function X(a,e){return new c(a.N^e.N,a.I^e.I)}function Ve(a){const e=Y(a,19),s=Y(a,61),i=Ne(a,6);return new c(e.N^s.N^i.N,e.I^s.I^i.I)}function Pe(a){const e=Y(a,1),s=Y(a,8),i=Ne(a,7);return new c(e.N^s.N^i.N,e.I^s.I^i.I)}function Be(a){const e=Y(a,14),s=Y(a,18),i=Y(a,41);return new c(e.N^s.N^i.N,e.I^s.I^i.I)}const ke=[new c(y[0],3609767458),new c(y[1],602891725),new c(y[2],3964484399),new c(y[3],2173295548),new c(y[4],4081628472),new c(y[5],3053834265),new c(y[6],2937671579),new c(y[7],3664609560),new c(y[8],2734883394),new c(y[9],1164996542),new c(y[10],1323610764),new c(y[11],3590304994),new c(y[12],4068182383),new c(y[13],991336113),new c(y[14],633803317),new c(y[15],3479774868),new c(y[16],2666613458),new c(y[17],944711139),new c(y[18],2341262773),new c(y[19],2007800933),new c(y[20],1495990901),new c(y[21],1856431235),new c(y[22],3175218132),new c(y[23],2198950837),new c(y[24],3999719339),new c(y[25],766784016),new c(y[26],2566594879),new c(y[27],3203337956),new c(y[28],1034457026),new c(y[29],2466948901),new c(y[30],3758326383),new c(y[31],168717936),new c(y[32],1188179964),new c(y[33],1546045734),new c(y[34],1522805485),new c(y[35],2643833823),new c(y[36],2343527390),new c(y[37],1014477480),new c(y[38],1206759142),new c(y[39],344077627),new c(y[40],1290863460),new c(y[41],3158454273),new c(y[42],3505952657),new c(y[43],106217008),new c(y[44],3606008344),new c(y[45],1432725776),new c(y[46],1467031594),new c(y[47],851169720),new c(y[48],3100823752),new c(y[49],1363258195),new c(y[50],3750685593),new c(y[51],3785050280),new c(y[52],3318307427),new c(y[53],3812723403),new c(y[54],2003034995),new c(y[55],3602036899),new c(y[56],1575990012),new c(y[57],1125592928),new c(y[58],2716904306),new c(y[59],442776044),new c(y[60],593698344),new c(y[61],3733110249),new c(y[62],2999351573),new c(y[63],3815920427),new c(3391569614,3928383900),new c(3515267271,566280711),new c(3940187606,3454069534),new c(4118630271,4000239992),new c(116418474,1914138554),new c(174292421,2731055270),new c(289380356,3203993006),new c(460393269,320620315),new c(685471733,587496836),new c(852142971,1086792851),new c(1017036298,365543100),new c(1126000580,2618297676),new c(1288033470,3409855158),new c(1501505948,4234509866),new c(1607167915,987167468),new c(1816402316,1246189591)];function me(a){return"SHA-384"===a?[new c(3418070365,R[0]),new c(1654270250,R[1]),new c(2438529370,R[2]),new c(355462360,R[3]),new c(1731405415,R[4]),new c(41048885895,R[5]),new c(3675008525,R[6]),new c(1203062813,R[7])]:[new c(L[0],4089235720),new c(L[1],2227873595),new c(L[2],4271175723),new c(L[3],1595750129),new c(L[4],2917565137),new c(L[5],725511199),new c(L[6],4215389547),new c(L[7],327033209)]}function ue(a,e){let s,i,l,h,f,v,g,w,b,p,m,S;const _=[];for(s=e[0],i=e[1],l=e[2],h=e[3],f=e[4],v=e[5],g=e[6],w=e[7],m=0;m<80;m+=1)m<16?(S=2*m,_[m]=new c(a[S],a[S+1])):_[m]=Ke(Ve(_[m-2]),_[m-7],Pe(_[m-15]),_[m-16]),b=$e(w,Be(f),new c((M=f).N&(I=v).N^~M.N&(B=g).N,M.I&I.I^~M.I&B.I),ke[m],_[m]),p=D(De(s),He(s,i,l)),w=g,g=v,v=f,f=D(h,b),h=l,l=i,i=s,s=D(b,p);var M,I,B;return e[0]=D(s,e[0]),e[1]=D(i,e[1]),e[2]=D(l,e[2]),e[3]=D(h,e[3]),e[4]=D(f,e[4]),e[5]=D(v,e[5]),e[6]=D(g,e[6]),e[7]=D(w,e[7]),e}let G=class extends re{constructor(a,e,s){if("SHA-384"!==a&&"SHA-512"!==a)throw new Error(F);super(a,e,s);const i=s||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=W(this.t,this.i,this.T),this.v=ue,this.L=function(l){return l.slice()},this.B=me,this.F=function(l,h,f,v){return function(g,w,b,p,m){let S,_;const M=31+(w+129>>>10<<5),I=w+b;for(;g.length<=M;)g.push(0);for(g[w>>>5]|=128<<24-w%32,g[M]=4294967295&I,g[M-1]=I/Q|0,S=0;S<g.length;S+=32)p=ue(g.slice(S,S+32),p);return _="SHA-384"===m?[p[0].N,p[0].I,p[1].N,p[1].I,p[2].N,p[2].I,p[3].N,p[3].I,p[4].N,p[4].I,p[5].N,p[5].I]:[p[0].N,p[0].I,p[1].N,p[1].I,p[2].N,p[2].I,p[3].N,p[3].I,p[4].N,p[4].I,p[5].N,p[5].I,p[6].N,p[6].I,p[7].N,p[7].I],_}(l,h,f,v,a)},this.U=me(a),this.m=1024,this.R="SHA-384"===a?384:512,this.K=!1,i.hmacKey&&this.k(P("hmacKey",i.hmacKey,this.T))}};const Re=[new c(0,1),new c(0,32898),new c(2147483648,32906),new c(2147483648,2147516416),new c(0,32907),new c(0,2147483649),new c(2147483648,2147516545),new c(2147483648,32777),new c(0,138),new c(0,136),new c(0,2147516425),new c(0,2147483658),new c(0,2147516555),new c(2147483648,139),new c(2147483648,32905),new c(2147483648,32771),new c(2147483648,32770),new c(2147483648,128),new c(0,32778),new c(2147483648,2147483658),new c(2147483648,2147516545),new c(2147483648,32896),new c(0,2147483649),new c(2147483648,2147516424)],ze=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function se(a){let e;const s=[];for(e=0;e<5;e+=1)s[e]=[new c(0,0),new c(0,0),new c(0,0),new c(0,0),new c(0,0)];return s}function Ye(a){let e;const s=[];for(e=0;e<5;e+=1)s[e]=a[e].slice();return s}function ce(a,e){let s,i,l,h;const f=[],v=[];if(null!==a)for(i=0;i<a.length;i+=2)e[(i>>>1)%5][(i>>>1)/5|0]=X(e[(i>>>1)%5][(i>>>1)/5|0],new c(a[i+1],a[i]));for(s=0;s<24;s+=1){for(h=se(),i=0;i<5;i+=1)f[i]=new c((g=e[i][0]).N^(w=e[i][1]).N^(b=e[i][2]).N^(p=e[i][3]).N^(m=e[i][4]).N,g.I^w.I^b.I^p.I^m.I);for(i=0;i<5;i+=1)v[i]=X(f[(i+4)%5],Ee(f[(i+1)%5],1));for(i=0;i<5;i+=1)for(l=0;l<5;l+=1)e[i][l]=X(e[i][l],v[i]);for(i=0;i<5;i+=1)for(l=0;l<5;l+=1)h[l][(2*i+3*l)%5]=Ee(e[i][l],ze[i][l]);for(i=0;i<5;i+=1)for(l=0;l<5;l+=1)e[i][l]=X(h[i][l],new c(~h[(i+1)%5][l].N&h[(i+2)%5][l].N,~h[(i+1)%5][l].I&h[(i+2)%5][l].I));e[0][0]=X(e[0][0],Re[s])}var g,w,b,p,m;return e}function we(a){let e,s,i=0;const l=[0,0],h=[4294967295&a,a/Q&2097151];for(e=6;e>=0;e--)s=h[e>>2]>>>8*e&255,0===s&&0===i||(l[i+1>>2]|=s<<8*(i+1),i+=1);return i=0!==i?i:1,l[0]|=i,{value:i+1>4?l:[l[0]],binLen:8+8*i}}function Ce(a){return V(we(a.binLen),a)}function ve(a,e){let s,i=we(e);i=V(i,a);const l=e>>>2,h=(l-i.value.length%l)%l;for(s=0;s<h;s++)i.value.push(0);return i.value}let Xe=class extends re{constructor(a,e,s){let i=6,l=0;super(a,e,s);const h=s||{};if(1!==this.numRounds){if(h.kmacKey||h.hmacKey)throw new Error(de);if("CSHAKE128"===this.o||"CSHAKE256"===this.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=W(this.t,this.i,this.T),this.v=ce,this.L=Ye,this.B=se,this.U=se(),this.K=!1,a){case"SHA3-224":this.m=l=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=l=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=l=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=l=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":i=31,this.m=l=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":i=31,this.m=l=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":i=4,this.m=l=1344,this.X(s),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":i=4,this.m=l=1088,this.X(s),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=l=1344,i=this.O(s),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=l=1088,i=this.O(s),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(F)}this.F=function(f,v,g,w,b){return function(p,m,S,_,M,I,B){let x,H,O=0;const K=[],oe=M>>>5,We=m>>>5;for(x=0;x<We&&m>=M;x+=oe)_=ce(p.slice(x,x+oe),_),m-=M;for(p=p.slice(x),m%=M;p.length<oe;)p.push(0);for(x=m>>>3,p[x>>2]^=I<<x%4*8,p[oe-1]^=2147483648,_=ce(p,_);32*K.length<B&&(H=_[O%5][O/5|0],K.push(H.I),!(32*K.length>=B));)K.push(H.N),O+=1,64*O%M==0&&(ce(null,_),O=0);return K}(f,v,0,w,l,i,b)},h.hmacKey&&this.k(P("hmacKey",h.hmacKey,this.T))}O(a,e){const s=function(l){const h=l||{};return{funcName:P("funcName",h.funcName,1,{value:[],binLen:0}),customization:P("Customization",h.customization,1,{value:[],binLen:0})}}(a||{});e&&(s.funcName=e);const i=V(Ce(s.funcName),Ce(s.customization));if(0!==s.customization.binLen||0!==s.funcName.binLen){const l=ve(i,this.m>>>3);for(let h=0;h<l.length;h+=this.m>>>5)this.U=this.v(l.slice(h,h+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(a){const e=function(i){const l=i||{};return{kmacKey:P("kmacKey",l.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:P("Customization",l.customization,1,{value:[],binLen:0})}}(a||{});this.O(a,e.funcName);const s=ve(Ce(e.kmacKey),this.m>>>3);for(let i=0;i<s.length;i+=this.m>>>5)this.U=this.v(s.slice(i,i+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(a){const e=V({value:this.h.slice(),binLen:this.u},function(s){let i,l,h=0;const f=[0,0],v=[4294967295&s,s/Q&2097151];for(i=6;i>=0;i--)l=v[i>>2]>>>8*i&255,0===l&&0===h||(f[h>>2]|=l<<8*h,h+=1);return h=0!==h?h:1,f[h>>2]|=h<<8*h,{value:h+1>4?f:[f[0]],binLen:8+8*h}}(a.outputLen));return this.F(e.value,e.binLen,this.A,this.L(this.U),a.outputLen)}};class Ze{constructor(e,s,i){if("SHA-1"==e)this.P=new q(e,s,i);else if("SHA-224"==e||"SHA-256"==e)this.P=new le(e,s,i);else if("SHA-384"==e||"SHA-512"==e)this.P=new G(e,s,i);else{if("SHA3-224"!=e&&"SHA3-256"!=e&&"SHA3-384"!=e&&"SHA3-512"!=e&&"SHAKE128"!=e&&"SHAKE256"!=e&&"CSHAKE128"!=e&&"CSHAKE256"!=e&&"KMAC128"!=e&&"KMAC256"!=e)throw new Error(F);this.P=new Xe(e,s,i)}}update(e){return this.P.update(e),this}getHash(e,s){return this.P.getHash(e,s)}setHMACKey(e,s,i){this.P.setHMACKey(e,s,i)}getHMAC(e,s){return this.P.getHMAC(e,s)}}}}]);