(self.webpackChunkapp_portal=self.webpackChunkapp_portal||[]).push([[4754,4864,9191,8877],{4754:(Me,ie,f)=>{f.r(ie),f.d(ie,{NavigationViewComponent:()=>A});var s=f(5861),g=f(9191),e=f(5863),K=f(575),$=f(1189),V=f(6701),q=f(5126),C=f(5617);let H=(()=>{class l{constructor(){this.isCollapsed=(0,e.signal)(!0),this.router=(0,e.inject)(V.Router),this.event$=this.router.events.pipe((0,q.filter)(i=>i instanceof V.NavigationEnd)),this.routerSignal=(0,C.toSignal)(this.event$),this.isShowBody=(0,e.computed)(()=>{if(!(this.routerSignal()&&this.routerSignal()instanceof V.NavigationEnd))return!1;let i=this.routerSignal();return"/appStore"!==i.urlAfterRedirects&&"/home"!==i.urlAfterRedirects&&"/news"!==i.urlAfterRedirects})}onCollapsClick(){this.isCollapsed.set(!this.isCollapsed())}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var X=f(6107),J=f(7842),pe=f(8093),ne=f(3171),re=f(2175),G=f(7069),ee=f(4009),oe=f(2998),Q=f(6827),le=f(8426),D=f(743),z=f(4008);let k=(()=>{class l{constructor(){this.isDockVisible=(0,e.signal)(!0),this.isUserProfileVisible=(0,e.signal)(!1)}initialUserProfile(i){document.getElementById("theme-css").href=`app/styles/theme-${i.selectedTheme}.css`,document.documentElement.style.fontSize=i.fontSize+"px"}setDockVisible(i){this.isDockVisible.set(i)}getDockVisible(){return this.isDockVisible()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var W=f(6488),F=f(2285),ae=f(6753);let U=(()=>{class l{#e=(0,e.inject)(ae.JetstreamWsService);getHashPassword(i){const _=new F.Z("SHA3-256","TEXT",{encoding:"UTF8"});return _.update(i),_.getHash("HEX")}getAuth(i){var _=this;return(0,s.Z)(function*(){return yield(0,q.lastValueFrom)(_.#e.request("auth.request",i))})()}static#t=this.\u0275fac=function(_){return new(_||l)};static#n=this.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var ce=f(931);let T=(()=>{class l{#e=(0,e.inject)(ae.JetstreamWsService);pubUserAccount(i){var _=this;return(0,s.Z)(function*(){yield _.#e.publish("appPortal.userProfile.modify",i)})()}static#t=this.\u0275fac=function(_){return new(_||l)};static#n=this.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const j=JSON.parse('[{"label":"\u500b\u4eba\u8a2d\u5b9a","code":"PROFILE"},{"label":"\u5e6b\u52a9\u4e2d\u5fc3","code":"HELP"}]');var B=f.t(j,2),R=f(25);const te=function(){return{width:"24px",height:"24px"}};function fe(l,y){if(1&l&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275element(1,"p-avatar",7),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&l){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(4,te)),e.\u0275\u0275propertyInterpolate("image",i.userAccountService.userImage().image),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.userAccountService.userAccount().userCode.display," ")}}function ve(l,y){if(1&l&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const i=y.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.label," ")}}function Se(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"p-listbox",18),e.\u0275\u0275listener("onClick",function(p){e.\u0275\u0275restoreView(i);const M=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(M.onUserDialogListClick(p))}),e.\u0275\u0275template(1,ve,2,1,"ng-template",19),e.\u0275\u0275elementEnd()}if(2&l){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("options",i.userDialogList)}}function c(l,y){1&l&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(1,"svg",21)(2,"g",22),e.\u0275\u0275element(3,"path",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"defs")(5,"clipPath",24),e.\u0275\u0275element(6,"rect",25),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(7,"h6"),e.\u0275\u0275text(8,"\u7a0b\u5f0f\u96c6"),e.\u0275\u0275elementEnd()())}function ge(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"div",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext().$implicit,M=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(M.onNavAppClick(p.url))}),e.\u0275\u0275elementStart(2,"div",33)(3,"span",34),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()}if(2&l){const i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",i.icon," "),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.title," ")}}function se(l,y){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ge,6,2,"div",30),e.\u0275\u0275elementContainerEnd()),2&l){const i=y.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===i.isFavorite)}}function Ce(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"span",35)(2,"div",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext().$implicit,M=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(M.onNavAppClick(p.url))}),e.\u0275\u0275elementStart(3,"div",33)(4,"span",34),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",36),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext().$implicit,M=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(M.onCloseApp(p.appId))}),e.\u0275\u0275elementEnd()()()}if(2&l){const i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",i.icon," "),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.title," ")}}function S(l,y){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ce,8,2,"div",30),e.\u0275\u0275elementContainerEnd()),2&l){const i=y.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===i.isOpen)}}function Z(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",26),e.\u0275\u0275text(1," \u67e5\u770b\u5168\u90e8 "),e.\u0275\u0275elementStart(2,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onAppStoreClick())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(3,"p-divider"),e.\u0275\u0275elementStart(4,"div",28),e.\u0275\u0275text(5,"\u6211\u7684\u6700\u611b"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,se,2,1,"ng-container",29),e.\u0275\u0275element(7,"p-divider"),e.\u0275\u0275elementStart(8,"div",28),e.\u0275\u0275text(9,"\u5df2\u958b\u555f"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,S,2,1,"ng-container",29)}if(2&l){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",i.appStoreService.myAppStores()),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",i.appStoreService.myAppStores())}}const v=function(l){return{"collapsed-active":l}},I=function(l){return{"collapsed-inactive":l}},P=function(){return{width:"240px"}};let N=(()=>{class l{constructor(){this.isUserDialogVisible=!1,this.isAppListDialogVisible=!1,this.navigationService=(0,e.inject)(H),this.navigationViewService=(0,e.inject)(k),this.userAccountService=(0,e.inject)(W.UserAccountService),this.userProfileService=(0,e.inject)(W.UserProfileService),this.newsService=(0,e.inject)(ce.NewsService),this.appStoreService=(0,e.inject)(g.AppStoreService),this.#e=(0,e.inject)(T),this.#t=(0,e.inject)(V.Router),this.#n=(0,e.inject)(U)}#e;#t;#n;ngOnInit(){this.userDialogList=Object.values(B)[Object.values(B).length-1]}onHomeIconClick(){this.navigationService.isCollapsed.set(!0),this.#t.navigate(["/home"])}onUserIconClick(){this.isUserDialogVisible=!this.isUserDialogVisible}onUserDialogListClick(i){this.isUserDialogVisible=!this.isUserDialogVisible,"PROFILE"===i.option.code&&this.navigationViewService.isUserProfileVisible.set(!0)}onNewsIconClick(){this.#t.navigate(["/news"])}onAppListIconClick(){this.isAppListDialogVisible=!this.isAppListDialogVisible}onAppStoreClick(){this.#t.navigate(["/appStore"])}onNavAppClick(i){this.#t.navigate([i])}onCloseApp(i){this.appStoreService.setAppClose(i)}onLogoutIconClick(){this.#t.navigate(["/login"])}static#o=this.\u0275fac=function(_){return new(_||l)};static#i=this.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["his-footer"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:27,vars:16,consts:[[1,"navigation-footer"],[1,"logo"],["src","assets/companyLogo.png","alt","Image",1,"logo-style"],[3,"ngClass"],[1,"wrapNavitem",3,"ngClass"],["pButton","","pRipple","","type","button","icon","pi pi-home",1,"p-button-rounded","p-button-text","p-button-icon-only",3,"click"],["pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-text","p-button-icon-only",3,"click"],["shape","circle",3,"image"],["header","Header",1,"userSetting",3,"visible","visibleChange"],["pTemplate","header"],["pTemplate","content"],["pButton","","pRipple","","type","button","icon","pi pi-bell",1,"p-button-rounded","p-button-text",3,"click"],[1,"badge-container"],["severity","danger",1,"badge-style",3,"value"],[1,"pi","pi-th-large"],["header","Header",1,"appList",3,"visible","visibleChange"],["pButton","","pRipple","","type","button","icon","pi pi-sign-out ",1,"p-button-rounded","p-button-text",3,"click"],[1,"dialog-header"],["optionLabel","label",3,"options","onClick"],["pTemplate","item"],[1,"labellist"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["clip-path","url(#clip0_2927_3142)"],["d","M4 8H8V4H4V8ZM10 20H14V16H10V20ZM4 20H8V16H4V20ZM4 14H8V10H4V14ZM10 14H14V10H10V14ZM16 4V8H20V4H16ZM10 8H14V4H10V8ZM16 14H20V10H16V14ZM16 20H20V16H16V20Z","fill","white"],["id","clip0_2927_3142"],["width","24","height","24","fill","white"],[1,"see-all-style"],["pButton","","pRipple","","type","button","icon","pi pi-angle-right",1,"p-button-text",3,"click"],[1,"title-style","label-m"],[4,"ngFor","ngForOf"],["class","dialog-content-title",4,"ngIf"],[1,"dialog-content-title"],[1,"app-container",3,"click"],[1,"p-image","p-component"],[1,"material-symbols-outlined","icon-style"],[1,"flex","opend","w-full"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click"]],template:function(_,p){1&_&&(e.\u0275\u0275elementStart(0,"ul",0)(1,"li",1),e.\u0275\u0275element(2,"img",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275text(4," \u96f2\u884c\u81f3\u5584 "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(5,"hr"),e.\u0275\u0275elementStart(6,"div",4)(7,"li")(8,"button",5),e.\u0275\u0275listener("click",function(){return p.onHomeIconClick()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"li")(10,"button",6),e.\u0275\u0275listener("click",function(){return p.onUserIconClick()}),e.\u0275\u0275element(11,"p-avatar",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"p-dialog",8),e.\u0275\u0275listener("visibleChange",function(L){return p.isUserDialogVisible=L}),e.\u0275\u0275template(13,fe,3,5,"ng-template",9),e.\u0275\u0275template(14,Se,2,1,"ng-template",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"li")(16,"button",11),e.\u0275\u0275listener("click",function(){return p.onNewsIconClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",12),e.\u0275\u0275element(18,"p-badge",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"li")(20,"button",6),e.\u0275\u0275listener("click",function(){return p.onAppListIconClick()}),e.\u0275\u0275element(21,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"p-dialog",15),e.\u0275\u0275listener("visibleChange",function(L){return p.isAppListDialogVisible=L}),e.\u0275\u0275template(23,c,9,0,"ng-template",9),e.\u0275\u0275template(24,Z,11,2,"ng-template",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"li")(26,"button",16),e.\u0275\u0275listener("click",function(){return p.onLogoutIconClick()}),e.\u0275\u0275elementEnd()()()()),2&_&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,v,p.navigationService.isCollapsed())),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(12,I,!p.navigationService.isCollapsed())),e.\u0275\u0275advance(5),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(14,te)),e.\u0275\u0275propertyInterpolate("image",p.userAccountService.userImage().image),e.\u0275\u0275advance(1),e.\u0275\u0275property("visible",p.isUserDialogVisible),e.\u0275\u0275advance(6),e.\u0275\u0275propertyInterpolate("value",p.newsService.normalNews().length+p.newsService.toDoList().length),e.\u0275\u0275advance(4),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(15,P)),e.\u0275\u0275property("visible",p.isAppListDialogVisible))},dependencies:[K.CommonModule,K.NgClass,K.NgForOf,K.NgIf,X.AvatarModule,X.Avatar,J.DividerModule,J.Divider,V.RouterModule,$.ButtonModule,$.ButtonDirective,R.PrimeTemplate,ne.DialogModule,ne.Dialog,re.BadgeModule,re.Badge,G.ImageModule,ee.ListboxModule,ee.Listbox,oe.InputTextModule,Q.InputSwitchModule,le.FormsModule,D.SelectButtonModule,z.PasswordModule,pe.FileUploadModule],styles:[".navigation-footer[_ngcontent-%COMP%]{width:100%;margin:0;padding:0;list-style-type:none;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;gap:6px}.navigation-footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-bottom:4px}.navigation-footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .collapsed-active[_ngcontent-%COMP%]{display:none}.navigation-footer[_ngcontent-%COMP%]   .wrapNavitem[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:center;transition:all .3s;gap:5px}.navigation-footer[_ngcontent-%COMP%]   .wrapNavitem.collapsed-inactive[_ngcontent-%COMP%]{flex-direction:row}.navigation-footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{position:relative;width:100%;margin:0}.navigation-footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]:after{position:absolute;width:100%;height:.5px;background-color:var(--outline-variant);left:50%;top:50%;transform:translate(-50%,-50%)}.navigation-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none}.logo-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.logo-style[_ngcontent-%COMP%]{width:34px;height:24px}.badge-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.badge-style[_ngcontent-%COMP%]{font-size:12px;min-width:1rem;height:1rem;line-height:.5rem;position:absolute;top:-28px;right:-2px;pointer-events:none}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:4px}.dialog-content-title[_ngcontent-%COMP%]{padding:4px var(--spacing-md)}.see-all-style[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;align-items:center;padding:0 var(--spacing-md) 2px}.see-all-style[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2rem;height:2rem;margin:0}.title-style[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);line-height:24px;letter-spacing:.16px}.app-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:4px;cursor:pointer}.profileContent[_ngcontent-%COMP%]{gap:var(--spacing-xxl)}.profileContent[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:700}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]{width:20%;min-width:160px}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]   .Img[_ngcontent-%COMP%]{position:relative}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]   .Img[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:3px;padding:4px}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]   .Img[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:hover{background-color:var(--primary-300)}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]   .Img[_ngcontent-%COMP%]   .pencil[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:3px;padding:4px}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .formBox[_ngcontent-%COMP%]{column-gap:32px}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .formBox[_ngcontent-%COMP%]   .formList[_ngcontent-%COMP%]{width:calc(50% - 16px);display:flex;flex-direction:column}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .formBox[_ngcontent-%COMP%]   .formList[_ngcontent-%COMP%]   .fromColumn[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .formBox[_ngcontent-%COMP%]   .formList[_ngcontent-%COMP%]   .fromColumn[_ngcontent-%COMP%]   .fulid[_ngcontent-%COMP%]{width:100%}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .typeBox[_ngcontent-%COMP%]{border-top:1px solid var(--outline-variant);padding-top:var(--spacing-xl);justify-content:space-between;padding-right:30px}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .typeBox[_ngcontent-%COMP%]   .typeForm.column[_ngcontent-%COMP%]{gap:10px;flex-direction:column}.profileContent[_ngcontent-%COMP%]   .p-button.p-button-outlined.p-button-hover-outlined[_ngcontent-%COMP%]{margin:0 1px}.profileContent[_ngcontent-%COMP%]   .p-button.p-button-outlined.p-button-hover-outlined.active[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px}.opend[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .p-button{min-width:0}[_nghost-%COMP%]     .p-dialog{position:absolute;border-radius:4px;border:1px solid var(--outline-variant);font-size:1.125rem;box-shadow:0 2px 1px -1px #00000005,0 1px 1px #00000024,0 1px 3px #0000001f}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:var(--primary-main);color:var(--white);font-size:18px;font-style:normal;font-weight:700;line-height:26px;letter-spacing:.36px}[_nghost-%COMP%]     .p-dialog .p-dialog-content{display:flex;flex-direction:column;padding:4px 0;gap:0}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{display:flex;align-items:center;padding:4px 12px}[_nghost-%COMP%]     #large-font .p-button-label{font-size:20px}[_nghost-%COMP%]     #medium-font .p-button-label{font-size:18px}[_nghost-%COMP%]     #small-font .p-button-label{font-size:16px}[_nghost-%COMP%]     .appList .p-dialog{left:45px;bottom:20px}[_nghost-%COMP%]     .appList .p-dialog .p-dialog-footer{justify-content:space-between}[_nghost-%COMP%]     .appList .p-dialog .p-dialog-footer button{width:2rem;height:2rem;margin:0}[_nghost-%COMP%]     .userSetting{min-width:180px}[_nghost-%COMP%]     .userSetting .p-dialog{bottom:100px}[_nghost-%COMP%]     .userSetting .p-dialog-content{padding:0}[_nghost-%COMP%]     .userSetting .p-dialog-content .p-listbox{border:none}[_nghost-%COMP%]     .userSetting .p-dialog-content .p-listbox .p-listbox-list .p-listbox-item{padding:4px 12px;min-height:40px}[_nghost-%COMP%]     .userSetting .p-dialog{left:45px;bottom:110px}[_nghost-%COMP%]     .profile .p-dialog{width:800px}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content{padding:20px 12px}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid{display:block;width:100%}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid .p-password{width:100%}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid .p-password .p-disabled{pointer-events:none;opacity:1;background-color:#1314141f;border-color:var(--outline-variant)}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid .p-password .p-disabled+.p-icon-wrapper{pointer-events:none}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid .p-input-icon-right>.p-icon-wrapper{right:15px;cursor:pointer}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-footer{padding:16px 12px;justify-content:flex-end}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-footer button{min-width:88px}[_nghost-%COMP%]     .p-divider.p-divider-horizontal{margin:0}[_nghost-%COMP%]     .p-image.p-component{display:block;width:30px;height:30px;background-color:var(--primary-main);border-radius:8px;overflow:hidden;padding:8px;position:relative;background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--primary-main);box-shadow:0 2px 1px -1px #00000005,0 1px 1px #00000024,0 1px 3px #0000001f}[_nghost-%COMP%]     .p-image.p-component img{display:block;width:100%;height:100%}[_nghost-%COMP%]     .p-badge{min-width:1rem!important;height:1rem;line-height:16px;font-size:10px;padding:0}[_nghost-%COMP%]     p-avatar{height:24px}[_nghost-%COMP%]     .p-avatar.p-avatar-circle{background-color:var(--primary-main)}[_nghost-%COMP%]     .p-avatar.p-avatar-circle .pi-pencil{color:var(--white)}[_nghost-%COMP%]     .p-avatar.p-avatar-circle:hover{background-color:var(--primary-300);cursor:pointer}[_nghost-%COMP%]     .formBox .p-inputtext{width:100%}[_nghost-%COMP%]     .opend .p-button.p-button-icon-only .pi{font-size:1rem}.icon-style[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;color:var(--surface-a);font-size:18px}"]})}return l})();var Y=f(2743);function de(l,y){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",3)(2,"span",4),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div")(5,"div"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&l){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",i.appInfo().icon," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.appInfo().title)}}function xe(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.changeCollapsed())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&l){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("icon",i.collapsedButtonIcon())}}const we=function(l){return{"collapsed-inactive":l}};let me=(()=>{class l{constructor(){this.appInfo=(0,e.signal)({}),this.navigationService=(0,e.inject)(H),this.collapsedButtonIcon=(0,e.computed)(()=>!this.navigationService.isCollapsed()&&this.navigationService.isShowBody()?"pi pi-angle-double-left":"pi pi-angle-double-right"),this.appStoreService=(0,e.inject)(g.AppStoreService),this.wsNatsService=(0,e.inject)(Y.S)}ngOnInit(){var i=this;return(0,s.Z)(function*(){yield i.wsNatsService.connect()})()}changeCollapsed(){this.navigationService.onCollapsClick()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["his-navigation"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:5,vars:5,consts:[[1,"navigation-container"],[1,"navigation-header",3,"ngClass"],[4,"ngIf"],[1,"m-1"],[1,"material-symbols-outlined"],["pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-text",3,"icon","click"]],template:function(_,p){1&_&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,de,7,2,"ng-container",2),e.\u0275\u0275template(3,xe,2,1,"ng-container",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"his-footer"),e.\u0275\u0275elementEnd()),2&_&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,we,!p.navigationService.isCollapsed())),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.navigationService.isCollapsed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.navigationService.isShowBody()))},dependencies:[K.CommonModule,K.NgClass,K.NgIf,$.ButtonModule,$.ButtonDirective,N],styles:["[_nghost-%COMP%]     .navigation-header .p-button.p-button-icon-only.p-button-rounded.p-button-text{color:var(--primary-main)}[_nghost-%COMP%]     .appList .p-dialog-content .p-button.p-button-icon-only .pi, [_nghost-%COMP%]     .navigation-footer .p-button.p-button-icon-only .pi{font-size:1.2rem}.layout-sidebar[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;width:60px;height:100%;z-index:999;overflow-y:auto;-webkit-user-select:none;user-select:none;top:0;left:0;transition:transform .2s,left .2s;background-color:var(--surface-overlay);border-right:1px solid var(--outline-variant);padding:.5rem 0rem;border-radius:0;box-shadow:none}.layout-sidebar.collapsed-inactive[_ngcontent-%COMP%]{width:200px}.layout-content[_ngcontent-%COMP%]{margin-left:60px;height:100%}.layout-content.collapsed-inactive[_ngcontent-%COMP%]{margin-left:200px}.systemTitle[_ngcontent-%COMP%]{font-size:20px;font-style:normal;font-weight:500;line-height:100%}.navigation-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between;gap:2px;padding-bottom:10px}.navigation-body[_ngcontent-%COMP%]{flex:1}.navigation-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.navigation-header.collapsed-inactive[_ngcontent-%COMP%]{justify-content:space-between}"]})}return l})();var he=f(2182),_e=f(6409),ue=f(7724);const Ae=(0,ue.trigger)("slideDown",[(0,ue.state)("void",(0,ue.style)({top:"0",transform:"translate(-50%,-50%)",opacity:0})),(0,ue.state)("*",(0,ue.style)({transform:"translate(-50%,-100%)",opacity:1})),(0,ue.transition)("void <=> *",[(0,ue.animate)("0.4s ease-out")])]);function Pe(l,y){if(1&l&&(e.\u0275\u0275elementStart(0,"div",13)(1,"p",14),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&l){const i=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",i.title," ")}}function ke(l,y){1&l&&e.\u0275\u0275element(0,"div",15)}function be(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",8),e.\u0275\u0275listener("mouseover",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext().$implicit,M=e.\u0275\u0275nextContext(2);return M.hoveredAppId=p.appId,e.\u0275\u0275resetView(M.onMouseOver(p.appId))})("mouseout",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext(3);return p.hoveredItemIndex=null,e.\u0275\u0275resetView(p.onMouseLeave())})("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext().$implicit,M=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(M.onIconClick(p.url))}),e.\u0275\u0275template(1,Pe,3,1,"div",9),e.\u0275\u0275elementStart(2,"div",10)(3,"span",11),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(5,ke,1,0,"div",12),e.\u0275\u0275elementEnd()}if(2&l){const i=e.\u0275\u0275nextContext().$implicit,_=e.\u0275\u0275nextContext(2);e.\u0275\u0275styleProp("transform",_.getTransform(i.appId)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",_.hoveredAppId==i.appId),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",i.icon," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isOpen)}}function Oe(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",16)(1,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext().$implicit,M=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(M.onCancelClick(p.appId))}),e.\u0275\u0275elementEnd()()}}function ye(l,y){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",5),e.\u0275\u0275template(2,be,6,5,"button",6),e.\u0275\u0275template(3,Oe,2,0,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&l){const i=y.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",1==i.isFavorite),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isOpen)}}function Ie(l,y){if(1&l&&(e.\u0275\u0275elementStart(0,"div",13)(1,"p",14),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&l){const i=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",i.title," ")}}function Te(l,y){1&l&&e.\u0275\u0275element(0,"div",15)}function De(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",16)(1,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext(2).$implicit,M=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(M.onCancelClick(p.appId))}),e.\u0275\u0275elementEnd()()}}function r(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"button",8),e.\u0275\u0275listener("mouseover",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext().$implicit,M=e.\u0275\u0275nextContext(2);return M.hoveredAppId=p.appId,e.\u0275\u0275resetView(M.onMouseOver(p.appId))})("mouseout",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext(3);return p.hoveredItemIndex=null,e.\u0275\u0275resetView(p.onMouseLeave())})("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext().$implicit,M=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(M.onIconClick(p.url))}),e.\u0275\u0275template(2,Ie,3,1,"div",9),e.\u0275\u0275elementStart(3,"div",10)(4,"span",11),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,Te,1,0,"div",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,De,2,0,"div",7),e.\u0275\u0275elementEnd()}if(2&l){const i=e.\u0275\u0275nextContext().$implicit,_=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275styleProp("transform",_.getTransform(i.appId)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",_.hoveredAppId==i.appId),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",i.icon," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isOpen),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isOpen)}}function t(l,y){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,r,8,6,"div",18),e.\u0275\u0275elementContainerEnd()),2&l){const i=y.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1===i.isFavorite&&!0===i.isOpen)}}function o(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275listener("mouseenter",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onMouseOverDock())})("mouseleave",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onMouseLeaveDock())}),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275template(3,ye,4,2,"ng-container",3),e.\u0275\u0275element(4,"p-divider",4),e.\u0275\u0275template(5,t,2,1,"ng-container",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&l){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("@slideDown",void 0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.appStoreService.myAppStores()),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.appStoreService.myAppStores())}}let n=(()=>{class l{constructor(){this.hoveredItemIndex=null,this.hoveredAppId=null,this.focusedIndex="",this.isShiftKeyPressed=!0,this.isDockDisplay=!0,this.isCursorOnDock=!1,this.appStoreService=(0,e.inject)(g.AppStoreService),this.navigationViewService=(0,e.inject)(k),this.#e=(0,e.inject)(V.Router)}#e;handleKeyDownEvent(i){i.shiftKey&&"Tab"===i.key&&(i.preventDefault(),this.isDockDisplay=!1!==this.navigationViewService.getDockVisible()),("F5"===i.key||i.metaKey&&"r"===i.key||"Tab"===i.key)&&i.preventDefault()}handleKeyUpEvent(i){"Shift"===i.key&&(this.isDockDisplay=!1)}handleMouseMove(i){this.isCursorOnDock||(this.isDockDisplay=i.clientY<20&&1==this.navigationViewService.getDockVisible())}onMouseOver(i){this.focusedIndex=i}onMouseLeave(){this.focusedIndex="",this.hoveredAppId=null}onMouseOverDock(){this.isCursorOnDock=!0}onMouseLeaveDock(){this.isCursorOnDock=!1}onIconClick(i){this.#e.navigate([i])}onCancelClick(i){this.appStoreService.setAppClose(i)}getTransform(i){return i===this.focusedIndex?"scale(1.15)":"scale(1) translateY(0px)"}static#t=this.\u0275fac=function(_){return new(_||l)};static#n=this.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["his-dock"]],hostBindings:function(_,p){1&_&&e.\u0275\u0275listener("keydown",function(L){return p.handleKeyDownEvent(L)},!1,e.\u0275\u0275resolveWindow)("keyup",function(L){return p.handleKeyUpEvent(L)},!1,e.\u0275\u0275resolveWindow)("mousemove",function(L){return p.handleMouseMove(L)},!1,e.\u0275\u0275resolveWindow)},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:1,vars:1,consts:[[4,"ngIf"],[1,"dock-container",3,"mouseenter","mouseleave"],[1,"dock"],[4,"ngFor","ngForOf"],["layout","vertical"],[1,"button-box"],["class","app-icon-style",3,"transform","mouseover","mouseout","click",4,"ngIf"],["class","cancel-ico",4,"ngIf"],[1,"app-icon-style",3,"mouseover","mouseout","click"],["class","systemBox",4,"ngIf"],[1,"p-image","p-component"],[1,"material-symbols-outlined","icon-style"],["class","active",4,"ngIf"],[1,"systemBox"],[1,"name"],[1,"active"],[1,"cancel-ico"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger",3,"click"],["class","button-box",4,"ngIf"]],template:function(_,p){1&_&&e.\u0275\u0275template(0,o,6,3,"ng-container",0),2&_&&e.\u0275\u0275property("ngIf",p.isDockDisplay)},dependencies:[K.CommonModule,K.NgForOf,K.NgIf,$.ButtonModule,$.ButtonDirective,J.DividerModule,J.Divider,G.ImageModule],styles:['[_nghost-%COMP%]     .p-image.p-component{display:block;width:48px;height:48px;background-color:var(--primary-main);border-radius:12px;overflow:hidden;padding:8px;position:relative;background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--primary-main);box-shadow:0 2px 1px -1px #00000005,0 1px 1px #00000024,0 1px 3px #0000001f}[_nghost-%COMP%]     .p-image.p-component img{display:block;width:100%;height:100%}.icon-style[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;color:var(--surface-a);font-size:48px}.dock-container[_ngcontent-%COMP%]{width:auto;height:72px;border-radius:16px;display:flex;justify-content:center;position:absolute;top:87px;left:50%;transform:translate(-50%,-50%);z-index:99}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]{padding:8px 16px;width:auto;height:100%;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.2);gap:16px;border-radius:20px;background-color:#0000001a;box-shadow:0 4px 15px #00000040}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]   .app-icon-style[_ngcontent-%COMP%]{list-style:none;display:flex;align-items:center;justify-content:center;width:100%;height:100%;vertical-align:bottom;transition:.2s;transform-origin:50% 100%;border:none;background-color:transparent}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]   .app-icon-style[_ngcontent-%COMP%]   .systemBox[_ngcontent-%COMP%]{bottom:-40px;position:absolute;white-space:nowrap;background:rgba(0,0,0,.5);height:10px;padding:10px 15px;backdrop-filter:blur(13px);-webkit-backdrop-filter:blur(13px);display:flex;align-items:center;justify-content:center;border-radius:5px}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]   .app-icon-style[_ngcontent-%COMP%]   .systemBox[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid rgba(0,0,0,.5)}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]   .app-icon-style[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:12px;color:#ffffffe6}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]   .app-icon-style[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:after{position:absolute;content:"";bottom:-10px;left:50%;transform:translate(-50%);width:5px;height:5px;border-radius:50%;background-color:#000c}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]   .app-icon-style[_ngcontent-%COMP%]   .ico[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover;transition:.2s}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]   .button-box[_ngcontent-%COMP%]{position:relative;transition:all .3s}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]   .button-box[_ngcontent-%COMP%]:hover{margin:0 13px}.dock-container[_ngcontent-%COMP%]   .dock[_ngcontent-%COMP%]   .button-box[_ngcontent-%COMP%]   .cancel-ico[_ngcontent-%COMP%]{width:18px;height:18px;position:absolute;top:-12px;right:-8px}[_nghost-%COMP%]     .p-divider.p-divider-vertical{padding:12px 0;margin:0}[_nghost-%COMP%]     .p-button.p-button-icon-only .pi{font-size:1px}[_nghost-%COMP%]     .cancel-ico .p-button.p-button-icon-only{width:18px;height:18px}[_nghost-%COMP%]     .cancel-ico .p-button.p-button-icon-only .pi{font-size:1px}'],data:{animation:[Ae]}})}return l})();const a=JSON.parse('[{"name":"\u6dfa\u8272\u6a21\u5f0f","value":"light"},{"name":"\u6df1\u8272\u6a21\u5f0f","value":"dark"}]');var d=f.t(a,2);let m=(()=>{class l{#e=(0,e.inject)(ae.JetstreamWsService);pubUserAccount(i){var _=this;return(0,s.Z)(function*(){yield _.#e.publish("appPortal.userProfile.modify",i)})()}static#t=this.\u0275fac=function(_){return new(_||l)};static#n=this.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function b(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",28)(1,"h5",29),e.\u0275\u0275text(2,"\u500b\u4eba\u8a2d\u5b9a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p-avatar",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onCancelSaveClick())}),e.\u0275\u0275elementEnd()()}}function h(l,y){if(1&l){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onCancelSaveClick())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"button",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onProfileSaveClick())}),e.\u0275\u0275elementEnd()}}const w=function(){return{"960px":"75vw"}},O=function(){return{width:"160px",height:"160px"}},u=function(l){return{active:l}};let x=(()=>{class l{constructor(){this.isDockVisible=!0,this.isRestDisabled=!0,this.enteredPassword="",this.resetPassword="",this.resetPasswordVerify="",this.themeOptions=[],this.editableUserImage=(0,e.signal)(""),this.preview="",this.selectedTheme="",this.selectedScale=16,this.activeScaleButton=16,this.userAccountService=(0,e.inject)(W.UserAccountService),this.userProfileService=(0,e.inject)(W.UserProfileService),this.navigationViewService=(0,e.inject)(k),this.userProfileDialogService=(0,e.inject)(m),this.#e=(0,e.inject)(U)}#e;ngOnInit(){this.themeOptions=Object.values(d)[Object.values(d).length-1],this.editableUserAccount=Object.assign({},this.userAccountService.userAccount()),this.editableUserImage.set(this.userAccountService.userImage().image),this.editableAppPortalProfile=Object.assign({},this.userProfileService.userProfile().profile),this.selectedScale=this.editableAppPortalProfile.fontSize,this.activeScaleButton=this.editableAppPortalProfile.fontSize,this.selectedTheme=this.editableAppPortalProfile.selectedTheme,this.isDockVisible=this.editableAppPortalProfile.isDockVisible}ngOnChanges(){this.editableUserImage.set(this.userAccountService.userImage().image)}onSelectFile(i){if(this.selectedFiles=i.files,this.selectedFiles){const _=this.selectedFiles.item(0);if(_){this.preview="",this.currentFile=_;const p=new FileReader;p.readAsDataURL(this.currentFile),p.onload=M=>{this.preview=M.target.result,this.editableUserImage.set(this.preview)}}}}verityPassword(){const i=this.userAccountService.userAccount().passwordHash;this.#e.getHashPassword(this.enteredPassword)===i?this.isRestDisabled=!1:alert("\u5bc6\u78bc\u4e0d\u6b63\u78ba")}verityResetPassword(){const i=this.#e.getHashPassword(this.resetPassword),_=this.#e.getHashPassword(this.resetPasswordVerify);""!==this.enteredPassword&&i===_&&""!==this.resetPassword&&(this.editableUserAccount.passwordHash=i,alert("\u5bc6\u78bc\u4fee\u6539\u6210\u529f")),this.enteredPassword="",this.resetPassword="",this.resetPasswordVerify="",this.isRestDisabled=!0}onCancelSaveClick(){this.navigationViewService.isUserProfileVisible.set(!this.navigationViewService.isUserProfileVisible()),this.editableUserAccount=Object.assign({},this.userAccountService.userAccount()),this.editableUserImage.set(this.userAccountService.userImage().image),this.verityResetPassword();const i=this.userProfileService.userProfile().profile;this.selectedScale=i.fontSize,this.selectedTheme=i.selectedTheme,this.isDockVisible=i.isDockVisible,this.onThemeChange(),this.onScaleChange(this.selectedScale),this.onDockVisible()}onProfileSaveClick(){this.verityResetPassword(),this.navigationViewService.isUserProfileVisible.set(!this.navigationViewService.isUserProfileVisible()),this.userAccountService.userAccount.set(this.editableUserAccount),this.userAccountService.userImage.set({_id:this.userAccountService.userImage()._id,userCode:this.userAccountService.userImage().userCode,image:this.editableUserImage()}),this.editableUserAccount=Object.assign({},this.userAccountService.userAccount()),this.editableAppPortalProfile=Object.assign({},{selectedTheme:this.selectedTheme,isDockVisible:this.isDockVisible,fontSize:this.selectedScale}),this.userProfileService.userProfile.set({_id:this.userProfileService.userProfile()._id,userCode:this.userProfileService.userProfile().userCode,appId:this.userProfileService.userProfile().appId,profile:this.editableAppPortalProfile,updatedAt:new Date,updatedBy:this.userAccountService.userAccount().userCode}),this.userProfileDialogService.pubUserAccount(this.userProfileService.userProfile())}onThemeChange(){document.getElementById("theme-css").href="light"===this.selectedTheme?"app/styles/theme-light.css":"app/styles/theme-dark.css"}onScaleChange(i){document.documentElement.style.fontSize=i+"px",this.selectedScale=i,this.activeScaleButton=i}isScaleActive(i){return this.activeScaleButton===i}onDockVisible(){this.navigationViewService.setDockVisible(this.isDockVisible)}static#t=this.\u0275fac=function(_){return new(_||l)};static#n=this.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["his-user-profile-dialog"]],inputs:{isUserProfileVisible:"isUserProfileVisible"},standalone:!0,features:[e.\u0275\u0275NgOnChangesFeature,e.\u0275\u0275StandaloneFeature],decls:56,vars:37,consts:[["showEffect","fade",1,"profile",3,"visible","closable","modal","breakpoints","visibleChange"],["pTemplate","header"],[1,"profileContent","lg:col-12","mb-2","p-0","flex"],[1,"ImgBox"],[1,"Img"],["shape","circle",3,"image"],[1,"pencil"],["type","file","accept","image/*",2,"display","none",3,"change"],["icon","pi pi-pencil","shape","circle"],[1,"content"],[1,"formBox","flex","flex-wrap"],[1,"formList","flex","flex-wrap"],[1,"fromColumn"],["type","text","pInputText","",3,"ngModel","disabled","ngModelChange"],["type","text","pInputText","",3,"ngModel","ngModelChange"],[1,"fulid"],[3,"ngModel","feedback","toggleMask","ngModelChange","keydown.enter"],["placeholder","\u8acb\u8f38\u5165\u65b0\u5bc6\u78bc",3,"ngModel","feedback","toggleMask","disabled","ngModelChange"],["placeholder","\u8acb\u518d\u6b21\u8f38\u5165\u65b0\u5bc6\u78bc",3,"ngModel","feedback","toggleMask","disabled","ngModelChange"],[1,"typeBox","flex"],[1,"typeForm"],["optionLabel","name","optionValue","value",3,"options","ngModel","ngModelChange","onOptionClick"],[1,"typeForm","flex","column"],[3,"ngModel","ngModelChange","onChange"],["pButton","","pRipple","","type","button","label","A","id","small-font",1,"p-button-outlined","p-button-hover-outlined",3,"ngClass","click"],["pButton","","pRipple","","type","button","label","A","id","medium-font",1,"p-button-outlined","p-button-hover-outlined","active",3,"ngClass","click"],["pButton","","pRipple","","type","button","label","A","id","large-font",1,"p-button-outlined","p-button-hover-outlined",3,"ngClass","click"],["pTemplate","footer"],[1,"flex","justify-content-between","align-items-start","flex-wrap",2,"width","100%"],[1,"titel-m"],["icon","pi pi-times","shape","circle",3,"click"],["pButton","","pRipple","","type","button","label","\u53d6\u6d88",1,"p-button-secondary",3,"click"],["pButton","","pRipple","","type","button","label","\u78ba\u5b9a",3,"click"]],template:function(_,p){1&_&&(e.\u0275\u0275elementStart(0,"p-dialog",0),e.\u0275\u0275listener("visibleChange",function(L){return p.isUserProfileVisible=L}),e.\u0275\u0275template(1,b,4,0,"ng-template",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4),e.\u0275\u0275element(5,"p-avatar",5),e.\u0275\u0275elementStart(6,"label",6)(7,"input",7),e.\u0275\u0275listener("change",function(L){return p.onSelectFile(L.target)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"p-avatar",8),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"h6"),e.\u0275\u0275text(14,"\u59d3\u540d"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"input",13),e.\u0275\u0275listener("ngModelChange",function(L){return p.userAccountService.userAccount().userCode.display=L}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",12)(17,"h6"),e.\u0275\u0275text(18,"\u5e33\u865f"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"input",13),e.\u0275\u0275listener("ngModelChange",function(L){return p.userAccountService.userAccount().userCode.code=L}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",12)(21,"h6"),e.\u0275\u0275text(22,"\u96fb\u5b50\u4fe1\u7bb1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"input",14),e.\u0275\u0275listener("ngModelChange",function(L){return p.editableUserAccount.eMail=L}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(24,"div",11)(25,"div",12)(26,"h6"),e.\u0275\u0275text(27,"\u539f\u672c\u5bc6\u78bc"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"span",15)(29,"p-password",16),e.\u0275\u0275listener("ngModelChange",function(L){return p.enteredPassword=L})("keydown.enter",function(){return p.verityPassword()}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(30,"div",12)(31,"h6"),e.\u0275\u0275text(32,"\u65b0\u5bc6\u78bc"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"span",15)(34,"p-password",17),e.\u0275\u0275listener("ngModelChange",function(L){return p.resetPassword=L}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(35,"div",12)(36,"h6"),e.\u0275\u0275text(37,"\u518d\u6b21\u8f38\u5165\u5bc6\u78bc"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"span",15)(39,"p-password",18),e.\u0275\u0275listener("ngModelChange",function(L){return p.resetPasswordVerify=L}),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(40,"div",19)(41,"div",20)(42,"h6"),e.\u0275\u0275text(43,"\u8272\u5f69\u4e3b\u984c"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"p-selectButton",21),e.\u0275\u0275listener("ngModelChange",function(L){return p.selectedTheme=L})("onOptionClick",function(){return p.onThemeChange()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"div",22)(46,"h6"),e.\u0275\u0275text(47,"Dock\u986f\u793a"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"p-inputSwitch",23),e.\u0275\u0275listener("ngModelChange",function(L){return p.isDockVisible=L})("onChange",function(){return p.onDockVisible()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(49,"div",20)(50,"h6"),e.\u0275\u0275text(51,"\u5b57\u9ad4\u5927\u5c0f"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"button",24),e.\u0275\u0275listener("click",function(){return p.onScaleChange(14)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"button",25),e.\u0275\u0275listener("click",function(){return p.onScaleChange(16)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"button",26),e.\u0275\u0275listener("click",function(){return p.onScaleChange(18)}),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(55,h,2,0,"ng-template",27),e.\u0275\u0275elementEnd()),2&_&&(e.\u0275\u0275property("visible",p.isUserProfileVisible)("closable",!1)("modal",!0)("breakpoints",e.\u0275\u0275pureFunction0(29,w)),e.\u0275\u0275advance(5),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(30,O)),e.\u0275\u0275propertyInterpolate("image",p.editableUserImage()),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngModel",p.userAccountService.userAccount().userCode.display)("disabled",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",p.userAccountService.userAccount().userCode.code)("disabled",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",p.editableUserAccount.eMail),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",p.enteredPassword)("feedback",!1)("toggleMask",!0),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",p.resetPassword)("feedback",!0)("toggleMask",!0)("disabled",p.isRestDisabled),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",p.resetPasswordVerify)("feedback",!1)("toggleMask",!0)("disabled",p.isRestDisabled),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",p.themeOptions)("ngModel",p.selectedTheme),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",p.isDockVisible),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(31,u,p.isScaleActive(14))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(33,u,p.isScaleActive(16))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(35,u,p.isScaleActive(18))))},dependencies:[K.CommonModule,K.NgClass,X.AvatarModule,X.Avatar,J.DividerModule,V.RouterModule,$.ButtonModule,$.ButtonDirective,R.PrimeTemplate,ne.DialogModule,ne.Dialog,re.BadgeModule,G.ImageModule,ee.ListboxModule,oe.InputTextModule,oe.InputText,Q.InputSwitchModule,Q.InputSwitch,le.FormsModule,le.DefaultValueAccessor,le.NgControlStatus,le.NgModel,D.SelectButtonModule,D.SelectButton,z.PasswordModule,z.Password,pe.FileUploadModule],styles:[".profileContent[_ngcontent-%COMP%]{gap:var(--spacing-xxl)}.profileContent[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:700}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]{width:20%;min-width:160px}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]   .Img[_ngcontent-%COMP%]{position:relative}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]   .Img[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:3px;padding:4px}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]   .Img[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:hover{background-color:var(--primary-300)}.profileContent[_ngcontent-%COMP%]   .ImgBox[_ngcontent-%COMP%]   .Img[_ngcontent-%COMP%]   .pencil[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:3px;padding:4px}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .formBox[_ngcontent-%COMP%]{column-gap:32px}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .formBox[_ngcontent-%COMP%]   .formList[_ngcontent-%COMP%]{width:calc(50% - 16px);display:flex;flex-direction:column}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .formBox[_ngcontent-%COMP%]   .formList[_ngcontent-%COMP%]   .fromColumn[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .formBox[_ngcontent-%COMP%]   .formList[_ngcontent-%COMP%]   .fromColumn[_ngcontent-%COMP%]   .fulid[_ngcontent-%COMP%]{width:100%}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .typeBox[_ngcontent-%COMP%]{border-top:1px solid var(--outline-variant);padding-top:var(--spacing-xl);justify-content:space-between;padding-right:30px}.profileContent[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .typeBox[_ngcontent-%COMP%]   .typeForm.column[_ngcontent-%COMP%]{gap:10px;flex-direction:column}.profileContent[_ngcontent-%COMP%]   .p-button.p-button-outlined.p-button-hover-outlined[_ngcontent-%COMP%]{margin:0 1px}.profileContent[_ngcontent-%COMP%]   .p-button.p-button-outlined.p-button-hover-outlined.active[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px}[_nghost-%COMP%]     .p-button{min-width:0}[_nghost-%COMP%]     .p-dialog{position:absolute;border-radius:4px;border:1px solid var(--outline-variant);font-size:1.125rem;box-shadow:0 2px 1px -1px #00000005,0 1px 1px #00000024,0 1px 3px #0000001f}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:var(--primary-main);color:var(--white);font-size:18px;font-style:normal;font-weight:700;line-height:26px;letter-spacing:.36px}[_nghost-%COMP%]     .p-dialog .p-dialog-content{display:flex;flex-direction:column;padding:4px 0;gap:0}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{display:flex;align-items:center;padding:4px 12px}[_nghost-%COMP%]     #large-font .p-button-label{font-size:20px}[_nghost-%COMP%]     #medium-font .p-button-label{font-size:18px}[_nghost-%COMP%]     #small-font .p-button-label{font-size:16px}[_nghost-%COMP%]     .appList .p-dialog{left:45px;bottom:20px}[_nghost-%COMP%]     .appList .p-dialog .p-dialog-footer{justify-content:space-between}[_nghost-%COMP%]     .appList .p-dialog .p-dialog-footer button{width:2rem;height:2rem;margin:0}[_nghost-%COMP%]     .userSetting{min-width:180px}[_nghost-%COMP%]     .userSetting .p-dialog{bottom:100px}[_nghost-%COMP%]     .userSetting .p-dialog-content{padding:0}[_nghost-%COMP%]     .userSetting .p-dialog-content .p-listbox{border:none}[_nghost-%COMP%]     .userSetting .p-dialog-content .p-listbox .p-listbox-list .p-listbox-item{padding:4px 12px;min-height:40px}[_nghost-%COMP%]     .userSetting .p-dialog{left:45px;bottom:110px}[_nghost-%COMP%]     .profile .p-dialog{width:800px}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content{padding:20px 12px}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid{display:block;width:100%}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid .p-password{width:100%}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid .p-password .p-disabled{pointer-events:none;opacity:1;background-color:#1314141f;border-color:var(--outline-variant)}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid .p-password .p-disabled+.p-icon-wrapper{pointer-events:none}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-content .fromColumn .fulid .p-input-icon-right>.p-icon-wrapper{right:15px;cursor:pointer}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-footer{padding:16px 12px;justify-content:flex-end}[_nghost-%COMP%]     .profile .p-dialog .p-dialog-footer button{min-width:88px}[_nghost-%COMP%]     .p-divider.p-divider-horizontal{margin:0}[_nghost-%COMP%]     .p-image.p-component{display:block;width:30px;height:30px;background-color:var(--primary-main);border-radius:8px;overflow:hidden;padding:8px;position:relative;background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--primary-main);box-shadow:0 2px 1px -1px #00000005,0 1px 1px #00000024,0 1px 3px #0000001f}[_nghost-%COMP%]     .p-image.p-component img{display:block;width:100%;height:100%}[_nghost-%COMP%]     .p-badge{min-width:1rem!important;height:1rem;line-height:16px;font-size:10px;padding:0}[_nghost-%COMP%]     p-avatar{height:24px}[_nghost-%COMP%]     .p-avatar.p-avatar-circle{background-color:var(--primary-main)}[_nghost-%COMP%]     .p-avatar.p-avatar-circle .pi-pencil{color:var(--white)}[_nghost-%COMP%]     .p-avatar.p-avatar-circle:hover{background-color:var(--primary-300);cursor:pointer}[_nghost-%COMP%]     .formBox .p-inputtext{width:100%}[_nghost-%COMP%]     .opend .p-button.p-button-icon-only .pi{font-size:1rem}"]})}return l})();const E=function(l){return{"collapsed-inactive":l}};let A=(()=>{class l{constructor(){this.navigationService=(0,e.inject)(H),this.navigationViewService=(0,e.inject)(k),this.newsService=(0,e.inject)(_e.NewsService),this.appStoreService=(0,e.inject)(g.AppStoreService),this.userAccountService=(0,e.inject)(W.UserAccountService),this.userProfileService=(0,e.inject)(W.UserProfileService),this.#e=(0,e.inject)(he.SharedService),this.#t=(0,e.inject)(Y.S)}#e;#t;ngOnInit(){var i=this;return(0,s.Z)(function*(){const _=i.userProfileService.userProfile().profile;i.navigationViewService.initialUserProfile(_),yield i.#t.connect(),yield i.newsService.subMyNews(i.userAccountService.userAccount().userCode),i.userAccountService.getUserImage(i.userAccountService.userAccount().userCode.code).subscribe(p=>{i.userAccountService.userImage.set(p)}),i.appStoreService.getAppStoreList(i.userAccountService.userAccount().userCode.code).subscribe(p=>{i.appStoreService.myAppStores.set(i.appStoreService.convertToExtendedAppStores(p))}),i.appStoreService.getUserStoreList(i.userAccountService.userAccount().userCode.code).subscribe(p=>{i.appStoreService.userAppStores.set(p)}),i.newsService.getInitNews(i.userAccountService.userAccount().userCode).subscribe(p=>{i.newsService.upsertAllNews(i.newsService.formatNews(p))})})()}static#n=this.\u0275fac=function(_){return new(_||l)};static#o=this.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-navigation-view"]],standalone:!0,features:[e.\u0275\u0275ProvidersFeature([k]),e.\u0275\u0275StandaloneFeature],decls:6,vars:7,consts:[[1,"layout-sidebar",3,"ngClass"],[3,"setCollapsed"],[1,"layout-content",3,"ngClass"],[3,"isUserProfileVisible"]],template:function(_,p){1&_&&(e.\u0275\u0275elementStart(0,"div",0)(1,"his-navigation",1),e.\u0275\u0275listener("setCollapsed",function(){return p.navigationService.onCollapsClick()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275element(3,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"his-dock")(5,"his-user-profile-dialog",3)),2&_&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,E,!p.navigationService.isCollapsed())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,E,!p.navigationService.isCollapsed())),e.\u0275\u0275advance(3),e.\u0275\u0275property("isUserProfileVisible",p.navigationViewService.isUserProfileVisible()))},dependencies:[K.CommonModule,K.NgClass,me,V.RouterOutlet,n,x],styles:[".layout-sidebar[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;width:60px;height:100%;z-index:999;overflow-y:auto;-webkit-user-select:none;user-select:none;top:0;left:0;transition:transform .2s,left .2s;background-color:var(--surface-overlay);border-right:1px solid var(--outline-variant);padding:.5rem 0rem;border-radius:0;box-shadow:none}.layout-sidebar.collapsed-inactive[_ngcontent-%COMP%]{width:200px}.layout-content[_ngcontent-%COMP%]{margin-left:60px;height:100%}.layout-content.collapsed-inactive[_ngcontent-%COMP%]{margin-left:200px}"]})}return l})()},9191:(Me,ie,f)=>{f.r(ie),f.d(ie,{AppStoreComponent:()=>ae,AppStoreService:()=>k});var s=f(5861),g=f(5863),e=f(6701),K=f(9159),$=f(4620),V=f(575),q=f(8426),C=f(743),H=f(1189),X=f(2998),J=f(7842),pe=f(6107),ne=f(6984),re=f(3433),G=f(6488),ee=f(25);function oe(U,ce){if(1&U&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&U){const T=ce.$implicit;g.\u0275\u0275classMap(T.icon),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",T.label," ")}}function Q(U,ce){if(1&U){const T=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementContainerStart(0),g.\u0275\u0275elementStart(1,"his-card-list",19),g.\u0275\u0275listener("setChange",function(B){g.\u0275\u0275restoreView(T);const R=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(R.appStoreService.onFavoriteClick(B))})("clickCard",function(B){g.\u0275\u0275restoreView(T);const R=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(R.appStoreService.onNavAppClick(B))}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementContainerEnd()}if(2&U){const T=ce.$implicit;g.\u0275\u0275advance(1),g.\u0275\u0275property("myAppStore",T)}}function le(U,ce){if(1&U&&(g.\u0275\u0275elementContainerStart(0),g.\u0275\u0275elementStart(1,"div",15),g.\u0275\u0275element(2,"p-divider",16),g.\u0275\u0275elementStart(3,"div",17),g.\u0275\u0275template(4,Q,2,1,"ng-container",18),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementContainerEnd()),2&U){const T=g.\u0275\u0275nextContext();g.\u0275\u0275advance(4),g.\u0275\u0275property("ngForOf",T.appStoreService.myAppStores())}}function D(U,ce){if(1&U){const T=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementContainerStart(0),g.\u0275\u0275elementStart(1,"his-card-list",22),g.\u0275\u0275listener("setChange",function(B){g.\u0275\u0275restoreView(T);const R=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(R.appStoreService.onFavoriteClick(B))})("clickCard",function(B){g.\u0275\u0275restoreView(T);const R=g.\u0275\u0275nextContext(2);return g.\u0275\u0275resetView(R.appStoreService.onNavAppClick(B))}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementContainerEnd()}if(2&U){const T=ce.$implicit;g.\u0275\u0275advance(1),g.\u0275\u0275property("myAppStore",T)("isListView",!0)}}function z(U,ce){if(1&U&&(g.\u0275\u0275elementStart(0,"div",20),g.\u0275\u0275element(1,"p-divider",16),g.\u0275\u0275elementStart(2,"div",21),g.\u0275\u0275template(3,D,2,2,"ng-container",18),g.\u0275\u0275elementEnd()()),2&U){const T=g.\u0275\u0275nextContext();g.\u0275\u0275advance(3),g.\u0275\u0275property("ngForOf",T.appStoreService.myAppStores())}}let k=(()=>{class U{constructor(){this.myAppStores=(0,g.signal)([]),this.userAppStores=(0,g.signal)([]),this.appOpenedIndex=[],this.#e=(0,g.inject)(e.Router),this.#t=(0,g.inject)(K.JetstreamWsService),this.#n=(0,g.inject)($.UserAccountService)}#e;#t;#n;convertToExtendedAppStores(T){return T.map(j=>({...j,isOpen:!1}))}getAppStoreList(T){return this.#t.request("appPortal.appStore.myAppStores",T)}getUserStoreList(T){return this.#t.request("appPortal.appStore.userAppStores",T)}getAppStoresByKeyword(T){return T?this.myAppStores().filter(j=>j.title.includes(T)):this.myAppStores()}getAppStore(T){return this.myAppStores().filter(B=>B.url===T)[0]}pubUserAppStoreFavorite(T){var j=this;return(0,s.Z)(function*(){yield j.#t.publish("appPortal.appStore.userFavorite",T)})()}onFavoriteClick(T){this.myAppStores.update(j=>j.map(B=>{if(B.appId===T){B.isFavorite=!B.isFavorite;const R=this.userAppStores().find(te=>te.appId===T);console.log("appId",T),console.log("userAppStoreID",R?.appId),R&&(R.isFavorite=B.isFavorite,this.pubUserAppStoreFavorite(R))}return B}))}onNavAppClick(T){this.#e.navigate([T])}setAppClose(T){if(this.myAppStores.update(j=>j.map(B=>(B.appId===T&&(B.isOpen=!1),B))),console.log(this.appOpenedIndex),this.appOpenedIndex.length>1){const j=this.appOpenedIndex.findIndex(B=>B.appId===T);this.appOpenedIndex.splice(j,1),this.#e.navigate([this.appOpenedIndex[this.appOpenedIndex.length-1].url])}else this.appOpenedIndex.splice(1,1),this.#e.navigateByUrl("/home")}setAppOpen(T){const j=this.myAppStores().filter(R=>R.appId===T)[0];j&&(this.myAppStores.update(R=>R.map(te=>(te.appId===T&&(te.isOpen=!0),te))),this.appOpenedIndex.find(R=>((R,te)=>R.url===te.url)(R,j))||this.appOpenedIndex.push(j))}static#o=this.\u0275fac=function(j){return new(j||U)};static#i=this.\u0275prov=g.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();var F=Object.freeze({__proto__:null,default:[{icon:"material-symbols-outlined",label:"grid_view",value:"grid"},{icon:"material-symbols-outlined",label:"view_agenda",value:"list"}]});let ae=(()=>{class U{constructor(){this.isGridView=(0,g.signal)(!0),this.Options=[],this.value="grid",this.appStoreService=(0,g.inject)(k),this.userAccountService=(0,g.inject)(G.UserAccountService),this.#e=(0,g.inject)(re.TranslateService)}#e;ngOnInit(){var T=this;return(0,s.Z)(function*(){T.Options=Object.values(F)[0]})()}onBackClick(){window.history.back()}onSelectedChange(){this.isGridView.set("grid"===this.value)}static#t=this.\u0275fac=function(j){return new(j||U)};static#n=this.\u0275cmp=g.\u0275\u0275defineComponent({type:U,selectors:[["his-app-store"]],standalone:!0,features:[g.\u0275\u0275StandaloneFeature],decls:21,vars:9,consts:[[1,"content-container"],[1,"top-bar-container"],["styleClass","mr-2","size","xlarge","shape","circle",3,"image"],[1,"title"],[1,"toolbar-container"],[1,"icon-container","title-box"],["pButton","","pRipple","","type","button","icon","pi pi-angle-left",1,"p-button-rounded","p-button-secondary","p-button-outlined",3,"click"],[1,"icon-container"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","\u67e5\u8a62"],["optionLabel","name","optionValue","value",3,"options","ngModel","ngModelChange","onOptionClick"],["pTemplate",""],[4,"ngIf","ngIfElse"],["listView",""],[1,"appstore-container"],[1,"first-class"],[1,"flex","flex-wrap","card-content"],[4,"ngFor","ngForOf"],[1,"grid-style",3,"myAppStore","setChange","clickCard"],[1,"appstore-container","listView"],[1,"flex","flex-wrap","list-content"],[1,"list-style",3,"myAppStore","isListView","setChange","clickCard"]],template:function(j,B){if(1&j&&(g.\u0275\u0275elementStart(0,"div",0)(1,"div",1),g.\u0275\u0275element(2,"p-avatar",2),g.\u0275\u0275elementStart(3,"div",3),g.\u0275\u0275text(4),g.\u0275\u0275pipe(5,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(6,"div",4)(7,"div",5)(8,"button",6),g.\u0275\u0275listener("click",function(){return B.onBackClick()}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(9,"div")(10,"h3"),g.\u0275\u0275text(11,"\u7a0b\u5f0f\u96c6"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(12,"div",7)(13,"span",8),g.\u0275\u0275element(14,"i",9)(15,"input",10),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(16,"p-selectButton",11),g.\u0275\u0275listener("ngModelChange",function(te){return B.value=te})("onOptionClick",function(){return B.onSelectedChange()}),g.\u0275\u0275template(17,oe,2,3,"ng-template",12),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275template(18,le,5,1,"ng-container",13),g.\u0275\u0275template(19,z,4,1,"ng-template",null,14,g.\u0275\u0275templateRefExtractor),g.\u0275\u0275elementEnd()),2&j){const R=g.\u0275\u0275reference(20);g.\u0275\u0275advance(2),g.\u0275\u0275propertyInterpolate("image",B.userAccountService.userImage().image),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate2(" ",B.userAccountService.userAccount().userCode.display,",",g.\u0275\u0275pipeBind1(5,7,"\u6b61\u8fce\u56de\u4f86")," "),g.\u0275\u0275advance(12),g.\u0275\u0275property("options",B.Options)("ngModel",B.value),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",B.isGridView())("ngIfElse",R)}},dependencies:[V.CommonModule,V.NgForOf,V.NgIf,H.ButtonModule,H.ButtonDirective,ee.PrimeTemplate,J.DividerModule,J.Divider,C.SelectButtonModule,C.SelectButton,q.FormsModule,q.NgControlStatus,q.NgModel,X.InputTextModule,X.InputText,pe.AvatarModule,pe.Avatar,ne.D,re.TranslateModule,re.TranslatePipe],styles:["[_nghost-%COMP%]     .grid-style{margin:6px;width:calc(20% - 12px);max-width:320px}[_nghost-%COMP%]     .grid-style.second-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--tertiary-main)}[_nghost-%COMP%]     .grid-style.third-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--indigo-500)}[_nghost-%COMP%]     .grid-style.fourth-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--orange-500)}[_nghost-%COMP%]     .list-style .p-image.p-component{width:56px;height:56px}[_nghost-%COMP%]     .p-selectbutton .p-button{border-radius:0}[_nghost-%COMP%]     .p-selectbutton .p-button:first-child{border-radius:6px 0 0 6px}[_nghost-%COMP%]     .p-selectbutton .p-button:last-child{border-radius:0 6px 6px 0}.content-container[_ngcontent-%COMP%]{padding:32px;height:100%;display:flex;flex-direction:column;background-color:var(--surface-ground);overflow:auto}.appstore-container[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-lg)}.appstore-container.listView[_ngcontent-%COMP%]{width:100%;margin:0 auto}.appstore-container[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{width:95%;margin:0 auto;transform:translate(-6px);padding-bottom:var(--spacing-md)}.appstore-container[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]{gap:12px}.top-bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.icon-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.icon-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-style:normal;font-weight:700;line-height:2rem;letter-spacing:.03rem;color:var(--surface-on-surface)}.list-style[_ngcontent-%COMP%]{cursor:pointer;width:100%}[_nghost-%COMP%]     .p-buttonset .p-button-icon-only{justify-content:center;width:2rem;height:2rem}[_nghost-%COMP%]     .p-buttonset .p-button-icon-only .p-button-icon{font-size:1rem;padding-left:3px}[_nghost-%COMP%]     .p-divider.p-divider-horizontal{margin:12px 0}[_nghost-%COMP%]     .first-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--primary-main);border-width:4px}[_nghost-%COMP%]     .second-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--tertiary-main);border-width:4px}[_nghost-%COMP%]     .third-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--indigo-500);border-width:4px}[_nghost-%COMP%]     .fourth-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--orange-500);border-width:4px}.title[_ngcontent-%COMP%]{padding-left:24px;font-size:28px;font-weight:700;line-height:40px;letter-spacing:1.12px;color:var(--primary-main)}.toolbar-container[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-lg);display:flex;justify-content:space-between;width:100%;margin:var(--spacing-lg) 0 var(--spacing-sm)}"]})}return U})()},931:(Me,ie,f)=>{f.r(ie),f.d(ie,{NewsInfoComponent:()=>Ce,NewsListComponent:()=>se,NewsService:()=>ge});var s=f(5861),g=f(6296),e=f(5863),K=f(5126),$=f(6753),V=f(575),q=f(1496),C=f(1189),H=f(3433),X=f(6701),J=f(2182),ne=(f(4679),f(25)),re=f(9891),G=f(6107),ee=f(8426),oe=f(6488);function Q(S,Z){1&S&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"h1",4),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementContainerEnd()),2&S&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("innerText",e.\u0275\u0275pipeBind1(2,1,"\u6c92\u6709\u6700\u65b0\u6d88\u606f")))}function le(S,Z){if(1&S){const v=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span")(1,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(v);const P=e.\u0275\u0275nextContext().$implicit,N=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(N.onChangeStatus(P))}),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()()}2&S&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(2,1,"\u5b8c\u6210")))}function D(S,Z){if(1&S){const v=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",7),e.\u0275\u0275template(2,le,3,3,"span",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",9),e.\u0275\u0275listener("click",function(){const N=e.\u0275\u0275restoreView(v).$implicit,Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.onNavNewsClick(N.url,N.sharedData))}),e.\u0275\u0275elementStart(4,"span",10),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"td",11),e.\u0275\u0275listener("click",function(){const N=e.\u0275\u0275restoreView(v).$implicit,Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.onNavNewsClick(N.url,N.sharedData))}),e.\u0275\u0275elementStart(7,"span",10),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()()}if(2&S){const v=Z.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","10"===v.execStatus.code),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(v.period.start.formatString("YYYY-MM-DD HH:mm")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(v.subject)}}const z=function(){return{width:"100%"}};function k(S,Z){if(1&S&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"p-table",5),e.\u0275\u0275template(2,D,9,3,"ng-template",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&S){const v=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("value",v.news)("tableStyle",e.\u0275\u0275pureFunction0(2,z))}}function W(S,Z){if(1&S&&e.\u0275\u0275template(0,k,3,3,"ng-container",0),2&S){const v=e.\u0275\u0275nextContext(),I=e.\u0275\u0275reference(4);e.\u0275\u0275property("ngIf",v.news&&"10"===v.news[0].execStatus.code)("ngIfElse",I)}}function F(S,Z){if(1&S){const v=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",13),e.\u0275\u0275listener("click",function(){const N=e.\u0275\u0275restoreView(v).$implicit,Y=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(Y.onNavNewsClick(N.url,N.sharedData))}),e.\u0275\u0275elementStart(2,"span",10),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"td",14),e.\u0275\u0275listener("click",function(){const N=e.\u0275\u0275restoreView(v).$implicit,Y=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(Y.onNavNewsClick(N.url,N.sharedData))}),e.\u0275\u0275elementStart(5,"span",10),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()}if(2&S){const v=Z.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(v.period.start.formatString("YYYY-MM-DD HH:mm")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(v.subject)}}function ae(S,Z){if(1&S&&(e.\u0275\u0275elementStart(0,"p-table",5),e.\u0275\u0275template(1,F,7,2,"ng-template",6),e.\u0275\u0275elementEnd()),2&S){const v=e.\u0275\u0275nextContext();e.\u0275\u0275property("value",v.news)("tableStyle",e.\u0275\u0275pureFunction0(2,z))}}function U(S,Z){if(1&S){const v=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span")(1,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(v);const P=e.\u0275\u0275nextContext().$implicit,N=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(N.onChangeStatus(P))}),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()()}2&S&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(2,1,"\u5b8c\u6210")))}function ce(S,Z){if(1&S){const v=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",7),e.\u0275\u0275template(2,U,3,3,"span",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",9),e.\u0275\u0275listener("click",function(){const N=e.\u0275\u0275restoreView(v).$implicit,Y=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(Y.onNavNewsClick(N.url,N.sharedData))}),e.\u0275\u0275elementStart(4,"span",10),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"td",11),e.\u0275\u0275listener("click",function(){const N=e.\u0275\u0275restoreView(v).$implicit,Y=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(Y.onNavNewsClick(N.url,N.sharedData))}),e.\u0275\u0275elementStart(7,"span",10),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()()}if(2&S){const v=Z.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","10"===v.execStatus.code),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(v.period.start.formatString("YYYY-MM-DD HH:mm")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(v.subject)}}function T(S,Z){if(1&S&&(e.\u0275\u0275elementStart(0,"p-table",5),e.\u0275\u0275template(1,ce,9,3,"ng-template",6),e.\u0275\u0275elementEnd()),2&S){const v=e.\u0275\u0275nextContext();e.\u0275\u0275property("value",v.news)("tableStyle",e.\u0275\u0275pureFunction0(2,z))}}function j(S,Z){1&S&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",19),e.\u0275\u0275elementEnd())}function B(S,Z){1&S&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",20),e.\u0275\u0275elementEnd())}function R(S,Z){1&S&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",19),e.\u0275\u0275elementEnd())}function te(S,Z){1&S&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",20),e.\u0275\u0275elementEnd())}function fe(S,Z){1&S&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",19),e.\u0275\u0275elementEnd())}function ve(S,Z){1&S&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",20),e.\u0275\u0275elementEnd())}function Se(S,Z){1&S&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",19),e.\u0275\u0275elementEnd())}function c(S,Z){1&S&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",20),e.\u0275\u0275elementEnd())}let ge=(()=>{class S{constructor(){this.originalNews=(0,e.signal)({}),this.allNormalNews=(0,e.signal)({}),this.allTodoList=(0,e.signal)({}),this.normalNews=(0,e.signal)({}),this.toDoList=(0,e.signal)({}),this.checkedNormalNews=(0,e.signal)({}),this.checkedToDoList=(0,e.signal)({}),this.#e=new K.Subject,this.#n=(0,e.inject)($.JetstreamWsService)}#e;#t;#n;getInitNews(v){return this.#n.request("news.news.find",v)}changeStatus(v){const I=new Date;this.originalNews.mutate(P=>{const N=P.findIndex(Y=>Y._id==v._id);P.splice(N,1)}),v.execStatus={code:"60",display:"\u5df2\u8b80/\u5df2\u5b8c\u6210"},v.execTime=I,this.#n.publish(`news.news.setNews.${v.userCode.code}`,v)}filterType(v,I){return I?v.filter(P=>P.type.code==I):v}filterStatus(v,I){return I?v.filter(P=>P.execStatus.code==I):v}filterOverdue(v){const I=new Date;return v.filter(N=>I.valueOf()-N.execTime.valueOf()<864e5)}filterSubject(v){const I=this.originalNews();this.upsertNews(I.filter(P=>P.subject.match(v)))}filterReset(){this.upsertNews(this.originalNews())}upsertNews(v){this.allNormalNews.set(this.filterType(v,"10")),this.allTodoList.set(this.filterType(v,"60")),this.normalNews.set(this.filterStatus(this.allNormalNews(),"10")),this.toDoList.set(this.filterStatus(this.allTodoList(),"10")),this.checkedNormalNews.set(this.filterOverdue(this.filterStatus(this.allNormalNews(),"60"))),this.checkedToDoList.set(this.filterOverdue(this.filterStatus(this.allTodoList(),"60")))}upsertAllNews(v){this.originalNews.set(v),this.upsertNews(v)}formatNews(v){const I=[];return v.forEach(P=>{const N={_id:P._id,appId:P.appId,userCode:P.userCode,subject:P.subject,url:P.url,sharedData:P.sharedData,period:{start:new Date(P.period.start),end:new Date(P.period.end)},type:P.type,execTime:new Date(P.execTime),execStatus:P.execStatus,updatedBy:P.updatedBy,updatedAt:new Date(P.updatedAt)};I.push(N)}),I}subMyNews(v){var I=this;return(0,s.Z)(function*(){I.#e=new K.Subject;const P=(0,$.JSONCodec)();I.#t=I.#n.subscribe($.SubscribeType.Push,`news.news.setNews.${v.code}`),I.#t.pipe((0,K.mergeMap)(function(){var N=(0,s.Z)(function*(Y){var we,de=!1,xe=!1;try{for(var he,me=(0,g.Z)(Y);de=!(he=yield me.next()).done;de=!1){const _e=he.value;I.#e.next(P.decode(_e.data)),_e.ack()}}catch(_e){xe=!0,we=_e}finally{try{de&&null!=me.return&&(yield me.return())}finally{if(xe)throw we}}});return function(Y){return N.apply(this,arguments)}}())).subscribe(()=>{}),I.#e.subscribe(N=>{I.originalNews.mutate(Y=>{const de=I.formatNews([N.data]);Y.push(de[0])}),I.upsertNews(I.originalNews())})})()}static#o=this.\u0275fac=function(I){return new(I||S)};static#i=this.\u0275prov=e.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),se=(()=>{class S{constructor(){this.newsService=(0,e.inject)(ge),this.sharedService=(0,e.inject)(J.SharedService),this.#e=(0,e.inject)(X.Router)}#e;onNavNewsClick(v,I){if(v){const P=this.sharedService.setValue(I);this.#e.navigate([v],{state:{token:P}})}}onChangeStatus(v){var I=this;return(0,s.Z)(function*(){I.newsService.changeStatus(v)})()}static#t=this.\u0275fac=function(I){return new(I||S)};static#n=this.\u0275cmp=e.\u0275\u0275defineComponent({type:S,selectors:[["his-news-list"]],inputs:{news:"news"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["ShowNews",""],["completedTable",""],["customtemplate",""],[1,"p-datatable",3,"innerText"],[3,"value","tableStyle"],["pTemplate","body"],[1,"first-child"],[4,"ngIf"],[1,"nth-child",3,"click"],[1,"label-m"],[1,"last-child",3,"click"],["pButton","","pRipple","","type","button",1,"p-button-outlined","check-button",3,"label","click"],[1,"complete-first",3,"click"],[1,"complete-last",3,"click"]],template:function(I,P){if(1&I&&(e.\u0275\u0275template(0,Q,3,3,"ng-container",0),e.\u0275\u0275template(1,W,1,2,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(3,ae,2,3,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(5,T,2,3,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)),2&I){const N=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf",P.news&&P.news.length<1)("ngIfElse",N)}},dependencies:[V.CommonModule,V.NgIf,q.TableModule,q.Table,ne.PrimeTemplate,C.ButtonModule,C.ButtonDirective,H.TranslateModule,H.TranslatePipe],styles:[".check-button[_ngcontent-%COMP%]{width:88px;height:32px;padding:4px,12px,4px,12px;border-radius:20px;border:1px;gap:4px}[_nghost-%COMP%]     .p-datatable{height:100%;font-style:normal;font-weight:400;line-height:20px;letter-spacing:.16px;color:var(--surface-on-surface)}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr:last-child>td{border-bottom:none}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding:8px 0 8px 18px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.first-child{width:5%;min-width:45px;padding-left:0}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.first-child .p-button{min-width:60px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.nth-child{width:13%;min-width:167px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.last-child{width:82%;text-align:left}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.completed-first{width:16%}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.complete-last{width:84%;text-align:left}[_nghost-%COMP%]     .p-fieldset{border-radius:12px;padding-left:12px}[_nghost-%COMP%]     .p-fieldset .p-fieldset-content{padding:8px 0}"]})}return S})(),Ce=(()=>{class S{constructor(){this.news=(0,e.computed)(()=>this.newsService.originalNews()),this.normalNews=(0,e.computed)(()=>this.newsService.normalNews()),this.toDoList=(0,e.computed)(()=>this.newsService.toDoList()),this.checkedNormalNews=(0,e.computed)(()=>this.newsService.checkedNormalNews()),this.checkedToDoList=(0,e.computed)(()=>this.newsService.checkedToDoList()),this.query="",this.newsService=(0,e.inject)(ge),this.sharedService=(0,e.inject)(J.SharedService),this.userAccountService=(0,e.inject)(oe.UserAccountService),this.#e=(0,e.inject)(X.Router)}#e;onBackClick(){window.history.back()}onNavNewsClick(v,I){const P=this.sharedService.setValue(I);this.#e.navigate([v],{state:{token:P}})}filterSubject(){this.newsService.filterSubject(this.query)}filterReset(){this.newsService.filterReset()}static#t=this.\u0275fac=function(I){return new(I||S)};static#n=this.\u0275cmp=e.\u0275\u0275defineComponent({type:S,selectors:[["his-news-info"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:38,vars:32,consts:[[1,"content-container"],[1,"top-bar-container"],["styleClass","mr-2","size","xlarge","shape","circle",3,"image"],[1,"title"],[1,"toolbar-container"],[1,"icon-container"],["pButton","","pRipple","","type","button","icon","pi pi-angle-left",1,"p-button-rounded","p-button-secondary","p-button-outlined",3,"click"],[3,"innerText"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pinputtext","",1,"p-inputtext","p-component","p-element",3,"placeholder","ngModel","ngModelChange","keyup","keyup.excape"],[1,"flex","flex-column"],[1,"first",3,"legend","toggleable"],["pTemplate","expandicon"],["pTemplate","collapseicon"],[1,"news-container",3,"news"],[1,"second",3,"legend","toggleable"],[1,"third",3,"legend","toggleable"],[1,"fourth",3,"legend","toggleable"],[1,"pi","pi-chevron-down"],[1,"pi","pi-chevron-up"]],template:function(I,P){1&I&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"p-avatar",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5)(8,"button",6),e.\u0275\u0275listener("click",function(){return P.onBackClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div"),e.\u0275\u0275element(10,"h3",7),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div")(13,"span",8),e.\u0275\u0275element(14,"i",9),e.\u0275\u0275elementStart(15,"input",10),e.\u0275\u0275listener("ngModelChange",function(Y){return P.query=Y})("keyup",function(){return P.filterSubject()})("keyup.excape",function(){return P.filterReset()}),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(17,"div",11)(18,"p-fieldset",12),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275template(20,j,2,0,"ng-template",13),e.\u0275\u0275template(21,B,2,0,"ng-template",14),e.\u0275\u0275element(22,"his-news-list",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"p-fieldset",16),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275template(25,R,2,0,"ng-template",13),e.\u0275\u0275template(26,te,2,0,"ng-template",14),e.\u0275\u0275element(27,"his-news-list",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"p-fieldset",17),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275template(30,fe,2,0,"ng-template",13),e.\u0275\u0275template(31,ve,2,0,"ng-template",14),e.\u0275\u0275element(32,"his-news-list",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"p-fieldset",18),e.\u0275\u0275pipe(34,"translate"),e.\u0275\u0275template(35,Se,2,0,"ng-template",13),e.\u0275\u0275template(36,c,2,0,"ng-template",14),e.\u0275\u0275element(37,"his-news-list",15),e.\u0275\u0275elementEnd()()()),2&I&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("image",P.userAccountService.userImage().image),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",P.userAccountService.userAccount().userCode.display,",",e.\u0275\u0275pipeBind1(5,18,"\u6b61\u8fce\u56de\u4f86")," "),e.\u0275\u0275advance(6),e.\u0275\u0275property("innerText",e.\u0275\u0275pipeBind1(11,20,"\u6700\u65b0\u6d88\u606f")),e.\u0275\u0275advance(5),e.\u0275\u0275property("placeholder",e.\u0275\u0275pipeBind1(16,22,"\u641c\u5c0b"))("ngModel",P.query),e.\u0275\u0275advance(3),e.\u0275\u0275property("legend",e.\u0275\u0275pipeBind1(19,24,"\u5f85\u8fa6\u5de5\u4f5c"))("toggleable",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("news",P.toDoList()),e.\u0275\u0275advance(1),e.\u0275\u0275property("legend",e.\u0275\u0275pipeBind1(24,26,"\u516c\u544a\u8a0a\u606f"))("toggleable",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("news",P.normalNews()),e.\u0275\u0275advance(1),e.\u0275\u0275property("legend",e.\u0275\u0275pipeBind1(29,28,"\u5b8c\u6210\u5de5\u4f5c"))("toggleable",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("news",P.checkedToDoList()),e.\u0275\u0275advance(1),e.\u0275\u0275property("legend",e.\u0275\u0275pipeBind1(34,30,"\u5df2\u8b80\u8a0a\u606f"))("toggleable",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("news",P.checkedNormalNews()))},dependencies:[V.CommonModule,se,q.TableModule,ne.PrimeTemplate,re.FieldsetModule,re.Fieldset,C.ButtonModule,C.ButtonDirective,G.AvatarModule,G.Avatar,H.TranslateModule,H.TranslatePipe,ee.FormsModule,ee.DefaultValueAccessor,ee.NgControlStatus,ee.NgModel],styles:[".top-bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.icon-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.icon-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-style:normal;font-weight:700;line-height:2rem;letter-spacing:.03rem;color:var(--surface-on-surface)}.content-container[_ngcontent-%COMP%]{padding:32px;height:100%;gap:16px;display:flex;flex-direction:column;background-color:var(--surface-ground)}.flex-column[_ngcontent-%COMP%]{gap:26px}[_nghost-%COMP%]     p-fieldset{padding-left:12px}[_nghost-%COMP%]     p-fieldset .p-fieldset-toggleable .p-fieldset-legend{margin-left:-1px;width:129px;transition:background-color .2s,color .2s,box-shadow .2s}[_nghost-%COMP%]     p-fieldset .p-fieldset-toggleable .p-fieldset-legend a{min-height:34px;padding:var(--spacing-xs) var(--spacing-md)}[_nghost-%COMP%]     p-fieldset .p-fieldset-legend-text{font-weight:700}[_nghost-%COMP%]     p-fieldset .p-fieldset .p-fieldset-content{padding:8px 0}[_nghost-%COMP%]     p-fieldset .p-fieldset-legend>a{flex-direction:row-reverse}[_nghost-%COMP%]     p-fieldset .p-fieldset.p-fieldset-toggleable .p-fieldset-legend a .p-fieldset-toggler{margin-right:0;margin-left:10px}[_nghost-%COMP%]     p-fieldset.first .p-fieldset-toggleable .p-fieldset-legend{background-color:var(--tertiary-main)}[_nghost-%COMP%]     p-fieldset.first .p-fieldset-toggleable .p-fieldset-legend a{color:var(--white)}[_nghost-%COMP%]     p-fieldset.second .p-fieldset-toggleable .p-fieldset-legend{background-color:var(--primary-main)}[_nghost-%COMP%]     p-fieldset.second .p-fieldset-toggleable .p-fieldset-legend a{color:#f6f6f6}[_nghost-%COMP%]     p-fieldset.third .p-fieldset-toggleable .p-fieldset-legend{background-color:var(--surface-section)}[_nghost-%COMP%]     p-fieldset.third .p-fieldset-toggleable .p-fieldset-legend a{color:var(--surface-on-surface)}.title[_ngcontent-%COMP%]{padding-left:24px;font-size:28px;font-weight:700;line-height:40px;letter-spacing:1.12px;color:var(--primary-main)}.toolbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}.p-button[_ngcontent-%COMP%]{color:#fff;background:var(--primary-main);border:0 none;padding:4px 12px;font-size:1rem;transition:background-color .2s,border-color .2s,color .2s,box-shadow .2s,background-size .2s cubic-bezier(.64,.09,.08,1);border-radius:6px}.check-button[_ngcontent-%COMP%]{width:88px;height:32px;padding:4px,12px,4px,12px;border-radius:20px;border:1px;gap:4px}.p-input-icon-left[_ngcontent-%COMP%]{padding:0 3px 0 0;width:320px}.p-input-icon-left[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{top:30%}.p-inputtext[_ngcontent-%COMP%]{width:100%}.pi[_ngcontent-%COMP%]{width:17.51px;height:17.51px}"]})}return S})()},6488:(Me,ie,f)=>{f.r(ie),f.d(ie,{ServiceService:()=>e,UserAccountService:()=>K,UserProfileService:()=>$});var s=f(5863),g=f(9159);let e=(()=>{class V{constructor(){}static#e=this.\u0275fac=function(H){return new(H||V)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),K=(()=>{class V{constructor(){this.#e=(0,s.inject)(g.JetstreamWsService),this.userAccount=(0,s.signal)({}),this.userImage=(0,s.signal)({})}#e;getUserImage(C){return this.#e.request("UserImage.getUserImage",C)}static#t=this.\u0275fac=function(H){return new(H||V)};static#n=this.\u0275prov=s.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),$=(()=>{class V{constructor(){this.#e=(0,s.inject)(g.JetstreamWsService),this.userProfile=(0,s.signal)({})}#e;getUserProfile(C,H){return this.#e.request("appPortal.userProfile.find",{userCode:C,appId:H})}static#t=this.\u0275fac=function(H){return new(H||V)};static#n=this.\u0275prov=s.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},6984:(Me,ie,f)=>{f.d(ie,{D:()=>le});var s=f(5863),g=f(575),e=f(1189),K=f(7069),$=f(6701);function V(D,z){if(1&D&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementContainer(1,5),s.\u0275\u0275elementContainerEnd()),2&D){const k=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275property("ngTemplateOutlet",k.footerTemplate)}}function q(D,z){if(1&D){const k=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"div",4),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(k);const F=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(F.directToApp(F.myAppStore.url))}),s.\u0275\u0275elementContainer(2,5)(3,5),s.\u0275\u0275template(4,V,2,1,"ng-container",0),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}if(2&D){const k=s.\u0275\u0275nextContext(),W=s.\u0275\u0275reference(3),F=s.\u0275\u0275reference(5);s.\u0275\u0275advance(2),s.\u0275\u0275property("ngTemplateOutlet",W),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngTemplateOutlet",F),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",k.footerTemplate)}}function C(D,z){if(1&D){const k=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"div",6),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(k);const F=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(F.directToApp(F.myAppStore.url))}),s.\u0275\u0275elementContainer(2,5),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}if(2&D){s.\u0275\u0275nextContext();const k=s.\u0275\u0275reference(7);s.\u0275\u0275advance(2),s.\u0275\u0275property("ngTemplateOutlet",k)}}function H(D,z){if(1&D&&(s.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"span",9),s.\u0275\u0275text(3),s.\u0275\u0275elementEnd()()()),2&D){const k=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate1(" ",k.myAppStore.icon," ")}}function X(D,z){1&D&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275element(1,"span",15),s.\u0275\u0275elementContainerEnd())}function J(D,z){1&D&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275element(1,"span",16),s.\u0275\u0275elementContainerEnd())}function pe(D,z){if(1&D){const k=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"span",12),s.\u0275\u0275text(3),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"button",13),s.\u0275\u0275listener("click",function(F){s.\u0275\u0275restoreView(k);const ae=s.\u0275\u0275nextContext();return ae.changeFavorite(ae.myAppStore.appId),s.\u0275\u0275resetView(F.stopPropagation())}),s.\u0275\u0275template(5,X,2,0,"ng-container",0),s.\u0275\u0275template(6,J,2,0,"ng-container",0),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(7,"h5",14),s.\u0275\u0275text(8),s.\u0275\u0275elementEnd()()}if(2&D){const k=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(k.myAppStore.versionNo),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",1==k.myAppStore.isFavorite),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!0!==k.myAppStore.isFavorite),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(k.myAppStore.title)}}function ne(D,z){1&D&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275element(1,"span",15),s.\u0275\u0275elementContainerEnd())}function re(D,z){1&D&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275element(1,"span",16),s.\u0275\u0275elementContainerEnd())}function G(D,z){1&D&&(s.\u0275\u0275elementStart(0,"span"),s.\u0275\u0275text(1,"\u3001"),s.\u0275\u0275elementEnd())}function ee(D,z){if(1&D&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275text(1),s.\u0275\u0275template(2,G,2,0,"span",0),s.\u0275\u0275elementContainerEnd()),2&D){const k=z.$implicit,W=z.last;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",k.title,""),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!W)}}function oe(D,z){if(1&D){const k=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",17)(1,"button",13),s.\u0275\u0275listener("click",function(F){s.\u0275\u0275restoreView(k);const ae=s.\u0275\u0275nextContext();return ae.changeFavorite(ae.myAppStore.appId),s.\u0275\u0275resetView(F.stopPropagation())}),s.\u0275\u0275template(2,ne,2,0,"ng-container",0),s.\u0275\u0275template(3,re,2,0,"ng-container",0),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"div",8)(5,"span",9),s.\u0275\u0275text(6),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(7,"div",14),s.\u0275\u0275text(8),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"div",18),s.\u0275\u0275template(10,ee,3,2,"ng-container",19),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(11,"div",20),s.\u0275\u0275text(12),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(13,"div",20),s.\u0275\u0275text(14),s.\u0275\u0275elementEnd()()}if(2&D){const k=s.\u0275\u0275nextContext();s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",1==k.myAppStore.isFavorite),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!0!==k.myAppStore.isFavorite),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate1(" ",k.myAppStore.icon," "),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(k.myAppStore.title),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngForOf",k.myAppStore.appPages),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1("\u7dad\u8b77\u4eba\u54e1\uff1a",k.myAppStore.home.maintainer.display,""),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(k.myAppStore.versionNo)}}let le=(()=>{class D{constructor(){this.setChange=new s.EventEmitter,this.clickCard=new s.EventEmitter}directToApp(k){console.log("in component directToApp",k),this.clickCard.emit(k)}changeFavorite(k){this.setChange.emit(k)}static#e=this.\u0275fac=function(W){return new(W||D)};static#t=this.\u0275cmp=s.\u0275\u0275defineComponent({type:D,selectors:[["his-card-list"]],inputs:{myAppStore:"myAppStore",isListView:"isListView",headerTemplate:"headerTemplate",bodyTemplate:"bodyTemplate",footerTemplate:"footerTemplate"},outputs:{setChange:"setChange",clickCard:"clickCard"},standalone:!0,features:[s.\u0275\u0275StandaloneFeature],decls:8,vars:2,consts:[[4,"ngIf"],["gridViewHeader",""],["gridViewBody",""],["listViewHeader",""],[1,"p-card","p-commponent","app-grid-card",3,"click"],[3,"ngTemplateOutlet"],[1,"p-card","p-commponent","app-list-card",3,"click"],[1,"grid-header-container"],[1,"p-image","p-component"],[1,"material-symbols-outlined","icon-style"],[1,"grid-body-container"],[1,"btnBox"],[1,"subtitle","caption-s"],[3,"click"],[1,"title","label-l"],[1,"pi","pi-star-fill","selected"],[1,"pi","pi-star"],[1,"list-header-container"],[1,"content","caption-l"],[4,"ngFor","ngForOf"],[1,"subtitle","caption-m"]],template:function(W,F){1&W&&(s.\u0275\u0275template(0,q,5,3,"ng-container",0),s.\u0275\u0275template(1,C,3,1,"ng-container",0),s.\u0275\u0275template(2,H,4,1,"ng-template",null,1,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275template(4,pe,9,4,"ng-template",null,2,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275template(6,oe,15,7,"ng-template",null,3,s.\u0275\u0275templateRefExtractor)),2&W&&(s.\u0275\u0275property("ngIf",!F.isListView),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",F.isListView))},dependencies:[g.CommonModule,g.NgForOf,g.NgIf,g.NgTemplateOutlet,K.ImageModule,e.ButtonModule,$.RouterModule],styles:[".app-grid-card[_ngcontent-%COMP%]{display:flex;padding:var(--spacing-md) var(--spacing-sm);gap:8px;border-radius:12px;height:100px;cursor:pointer}.app-list-card[_ngcontent-%COMP%]{display:flex;padding:4px 12px;flex-direction:row;gap:8px;border-radius:12px}.grid-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.list-header-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:row;align-items:center;padding:var(--spacing-xs) var(--spacing-xxl);gap:var(--spacing-sm)}.list-header-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--surface-on-surface)}.list-header-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:5px;flex:1}.list-header-container[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{transition:all .3s}.list-header-container[_ngcontent-%COMP%]   .pi.selected[_ngcontent-%COMP%]{color:var(--yellow-500)}.grid-body-container[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}.grid-body-container[_ngcontent-%COMP%]   .btnBox[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;align-items:center;gap:var(--spacing-sm)}.grid-body-container[_ngcontent-%COMP%]   .btnBox[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{transition:all .3s}.grid-body-container[_ngcontent-%COMP%]   .btnBox[_ngcontent-%COMP%]   .pi.selected[_ngcontent-%COMP%]{color:var(--yellow-500)}button[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none}.icon-style[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;color:var(--surface-a);font-size:48px}[_nghost-%COMP%]     .p-button{padding:0;color:var(--surface-on-surface)}[_nghost-%COMP%]     .body-container .p-button.p-button-icon-only{height:2rem}[_nghost-%COMP%]     .body-container .p-button.p-button-icon-only .pi{font-size:.7rem}[_nghost-%COMP%]     .p-image.p-component{display:block;width:72px;height:72px;background-color:var(--primary-main);border-radius:18px;overflow:hidden;padding:8px;position:relative;background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--primary-main);box-shadow:0 2px 1px -1px #00000005,0 1px 1px #00000024,0 1px 3px #0000001f}[_nghost-%COMP%]     .p-image.p-component img{display:block;width:100%;height:100%}[_nghost-%COMP%]     .app-grid-card .p-button{height:2rem}[_nghost-%COMP%]     .app-grid-card.p-card{transition:all .3s}[_nghost-%COMP%]     .app-grid-card.p-card:hover{transform:translateY(-3px);border-bottom:3px solid var(--primary-main)}[_nghost-%COMP%]     .app-list-card.p-card{transition:all .3s}"]})}return D})()},2285:(Me,ie,f)=>{f.d(ie,{Z:()=>De});const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="ARRAYBUFFER not supported by this environment",e="UINT8ARRAY not supported by this environment";function K(r,t,o,n){let a,d,m;const b=t||[0],h=(o=o||0)>>>3,w=-1===n?3:0;for(a=0;a<r.length;a+=1)m=a+h,d=m>>>2,b.length<=d&&b.push(0),b[d]|=r[a]<<8*(w+n*(m%4));return{value:b,binLen:8*r.length+o}}function $(r,t,o){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(r){case"HEX":return function(n,a,d){return function(m,b,h,w){let O,u,x,E;if(m.length%2!=0)throw new Error("String of HEX type must be in byte increments");const A=b||[0],l=(h=h||0)>>>3,y=-1===w?3:0;for(O=0;O<m.length;O+=2){if(u=parseInt(m.substr(O,2),16),isNaN(u))throw new Error("String of HEX type contains invalid characters");for(E=(O>>>1)+l,x=E>>>2;A.length<=x;)A.push(0);A[x]|=u<<8*(y+w*(E%4))}return{value:A,binLen:4*m.length+h}}(n,a,d,o)};case"TEXT":return function(n,a,d){return function(m,b,h,w,O){let u,x,E,A,l,y,i,_,p=0;const M=h||[0],L=(w=w||0)>>>3;if("UTF8"===b)for(i=-1===O?3:0,E=0;E<m.length;E+=1)for(u=m.charCodeAt(E),x=[],128>u?x.push(u):2048>u?(x.push(192|u>>>6),x.push(128|63&u)):55296>u||57344<=u?x.push(224|u>>>12,128|u>>>6&63,128|63&u):(E+=1,u=65536+((1023&u)<<10|1023&m.charCodeAt(E)),x.push(240|u>>>18,128|u>>>12&63,128|u>>>6&63,128|63&u)),A=0;A<x.length;A+=1){for(y=p+L,l=y>>>2;M.length<=l;)M.push(0);M[l]|=x[A]<<8*(i+O*(y%4)),p+=1}else for(i=-1===O?2:0,_="UTF16LE"===b&&1!==O||"UTF16LE"!==b&&1===O,E=0;E<m.length;E+=1){for(u=m.charCodeAt(E),!0===_&&(A=255&u,u=A<<8|u>>>8),y=p+L,l=y>>>2;M.length<=l;)M.push(0);M[l]|=u<<8*(i+O*(y%4)),p+=2}return{value:M,binLen:8*p+w}}(n,t,a,d,o)};case"B64":return function(n,a,d){return function(m,b,h,w){let O,u,x,E,A,l,y,i=0;const _=b||[0],p=(h=h||0)>>>3,M=-1===w?3:0,L=m.indexOf("=");if(-1===m.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(m=m.replace(/=/g,""),-1!==L&&L<m.length)throw new Error("Invalid '=' found in base-64 string");for(u=0;u<m.length;u+=4){for(A=m.substr(u,4),E=0,x=0;x<A.length;x+=1)O=s.indexOf(A.charAt(x)),E|=O<<18-6*x;for(x=0;x<A.length-1;x+=1){for(y=i+p,l=y>>>2;_.length<=l;)_.push(0);_[l]|=(E>>>16-8*x&255)<<8*(M+w*(y%4)),i+=1}}return{value:_,binLen:8*i+h}}(n,a,d,o)};case"BYTES":return function(n,a,d){return function(m,b,h,w){let O,u,x,E;const A=b||[0],l=(h=h||0)>>>3,y=-1===w?3:0;for(u=0;u<m.length;u+=1)O=m.charCodeAt(u),E=u+l,x=E>>>2,A.length<=x&&A.push(0),A[x]|=O<<8*(y+w*(E%4));return{value:A,binLen:8*m.length+h}}(n,a,d,o)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(g)}return function(n,a,d){return b=a,h=d,w=o,K(new Uint8Array(n),b,h,w);var b,h,w};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(e)}return function(n,a,d){return K(n,a,d,o)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function V(r,t,o,n){switch(r){case"HEX":return function(a){return function(d,m,b,h){const w="0123456789abcdef";let O,u,x="";const E=m/8,A=-1===b?3:0;for(O=0;O<E;O+=1)u=d[O>>>2]>>>8*(A+b*(O%4)),x+=w.charAt(u>>>4&15)+w.charAt(15&u);return h.outputUpper?x.toUpperCase():x}(a,t,o,n)};case"B64":return function(a){return function(d,m,b,h){let w,O,u,x,E,A="";const l=m/8,y=-1===b?3:0;for(w=0;w<l;w+=3)for(x=w+1<l?d[w+1>>>2]:0,E=w+2<l?d[w+2>>>2]:0,u=(d[w>>>2]>>>8*(y+b*(w%4))&255)<<16|(x>>>8*(y+b*((w+1)%4))&255)<<8|E>>>8*(y+b*((w+2)%4))&255,O=0;O<4;O+=1)A+=8*w+6*O<=m?s.charAt(u>>>6*(3-O)&63):h.b64Pad;return A}(a,t,o,n)};case"BYTES":return function(a){return function(d,m,b){let h,w,O="";const u=m/8,x=-1===b?3:0;for(h=0;h<u;h+=1)w=d[h>>>2]>>>8*(x+b*(h%4))&255,O+=String.fromCharCode(w);return O}(a,t,o)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(g)}return function(a){return function(d,m,b){let h;const w=m/8,O=new ArrayBuffer(w),u=new Uint8Array(O),x=-1===b?3:0;for(h=0;h<w;h+=1)u[h]=d[h>>>2]>>>8*(x+b*(h%4))&255;return O}(a,t,o)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(e)}return function(a){return function(d,m,b){let h;const w=m/8,O=-1===b?3:0,u=new Uint8Array(w);for(h=0;h<w;h+=1)u[h]=d[h>>>2]>>>8*(O+b*(h%4))&255;return u}(a,t,o)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const q=4294967296,C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],H=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],X=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],J="Chosen SHA variant is not supported",pe="Cannot set numRounds with MAC";function ne(r,t){let o,n;const a=r.binLen>>>3,d=t.binLen>>>3,m=a<<3,b=4-a<<3;if(a%4!=0){for(o=0;o<d;o+=4)n=a+o>>>2,r.value[n]|=t.value[o>>>2]<<m,r.value.push(0),r.value[n+1]|=t.value[o>>>2]>>>b;return(r.value.length<<2)-4>=d+a&&r.value.pop(),{value:r.value,binLen:r.binLen+t.binLen}}return{value:r.value.concat(t.value),binLen:r.binLen+t.binLen}}function re(r){const t={outputUpper:!1,b64Pad:"=",outputLen:-1},o=r||{},n="Output length must be a multiple of 8";if(t.outputUpper=o.outputUpper||!1,o.b64Pad&&(t.b64Pad=o.b64Pad),o.outputLen){if(o.outputLen%8!=0)throw new Error(n);t.outputLen=o.outputLen}else if(o.shakeLen){if(o.shakeLen%8!=0)throw new Error(n);t.outputLen=o.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function G(r,t,o,n){const a=r+" must include a value and format";if(!t){if(!n)throw new Error(a);return n}if(void 0===t.value||!t.format)throw new Error(a);return $(t.format,t.encoding||"UTF8",o)(t.value)}class ee{constructor(t,o,n){const a=n||{};if(this.t=o,this.i=a.encoding||"UTF8",this.numRounds=a.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=t,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(t){let o,n=0;const a=this.m>>>5,d=this.C(t,this.h,this.u),m=d.binLen,b=d.value,h=m>>>5;for(o=0;o<h;o+=a)n+this.m<=m&&(this.U=this.v(b.slice(o,o+a),this.U),n+=this.m);return this.A+=n,this.h=b.slice(n>>>5),this.u=m%this.m,this.l=!0,this}getHash(t,o){let n,a,d=this.R;const m=re(o);if(this.K){if(-1===m.outputLen)throw new Error("Output length must be specified in options");d=m.outputLen}const b=V(t,d,this.T,m);if(this.H&&this.g)return b(this.g(m));for(a=this.F(this.h.slice(),this.u,this.A,this.L(this.U),d),n=1;n<this.numRounds;n+=1)this.K&&d%32!=0&&(a[a.length-1]&=16777215>>>24-d%32),a=this.F(a,d,0,this.B(this.o),d);return b(a)}setHMACKey(t,o,n){if(!this.M)throw new Error("Variant does not support HMAC");if(this.l)throw new Error("Cannot set MAC key after calling update");const a=$(o,(n||{}).encoding||"UTF8",this.T);this.k(a(t))}k(t){const o=this.m>>>3,n=o/4-1;let a;if(1!==this.numRounds)throw new Error(pe);if(this.H)throw new Error("MAC key already set");for(o<t.binLen/8&&(t.value=this.F(t.value,t.binLen,0,this.B(this.o),this.R));t.value.length<=n;)t.value.push(0);for(a=0;a<=n;a+=1)this.S[a]=909522486^t.value[a],this.p[a]=1549556828^t.value[a];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(t,o){const n=re(o);return V(t,this.R,this.T,n)(this.Y())}Y(){let t;if(!this.H)throw new Error("Cannot call getHMAC without first setting MAC key");const o=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return t=this.v(this.p,this.B(this.o)),t=this.F(o,this.R,this.m,t,this.R),t}}function oe(r,t){return r<<t|r>>>32-t}function Q(r,t){return r>>>t|r<<32-t}function le(r,t){return r>>>t}function D(r,t,o){return r^t^o}function z(r,t,o){return r&t^~r&o}function k(r,t,o){return r&t^r&o^t&o}function W(r){return Q(r,2)^Q(r,13)^Q(r,22)}function F(r,t){const o=(65535&r)+(65535&t);return(65535&(r>>>16)+(t>>>16)+(o>>>16))<<16|65535&o}function ae(r,t,o,n){const a=(65535&r)+(65535&t)+(65535&o)+(65535&n);return(65535&(r>>>16)+(t>>>16)+(o>>>16)+(n>>>16)+(a>>>16))<<16|65535&a}function U(r,t,o,n,a){const d=(65535&r)+(65535&t)+(65535&o)+(65535&n)+(65535&a);return(65535&(r>>>16)+(t>>>16)+(o>>>16)+(n>>>16)+(a>>>16)+(d>>>16))<<16|65535&d}function ce(r){return Q(r,7)^Q(r,18)^le(r,3)}function T(r){return Q(r,6)^Q(r,11)^Q(r,25)}function j(r){return[1732584193,4023233417,2562383102,271733878,3285377520]}function B(r,t){let o,n,a,d,m,b,h;const w=[];for(o=t[0],n=t[1],a=t[2],d=t[3],m=t[4],h=0;h<80;h+=1)w[h]=h<16?r[h]:oe(w[h-3]^w[h-8]^w[h-14]^w[h-16],1),b=h<20?U(oe(o,5),z(n,a,d),m,1518500249,w[h]):h<40?U(oe(o,5),D(n,a,d),m,1859775393,w[h]):h<60?U(oe(o,5),k(n,a,d),m,2400959708,w[h]):U(oe(o,5),D(n,a,d),m,3395469782,w[h]),m=d,d=a,a=oe(n,30),n=o,o=b;return t[0]=F(o,t[0]),t[1]=F(n,t[1]),t[2]=F(a,t[2]),t[3]=F(d,t[3]),t[4]=F(m,t[4]),t}function R(r,t,o,n){let a;const d=15+(t+65>>>9<<4),m=t+o;for(;r.length<=d;)r.push(0);for(r[t>>>5]|=128<<24-t%32,r[d]=4294967295&m,r[d-1]=m/q|0,a=0;a<r.length;a+=16)n=B(r.slice(a,a+16),n);return n}let te=class extends ee{constructor(r,t,o){if("SHA-1"!==r)throw new Error(J);super(r,t,o);const n=o||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=$(this.t,this.i,this.T),this.v=B,this.L=function(a){return a.slice()},this.B=j,this.F=R,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,n.hmacKey&&this.k(G("hmacKey",n.hmacKey,this.T))}};function fe(r){let t;return t="SHA-224"==r?H.slice():X.slice(),t}function ve(r,t){let o,n,a,d,m,b,h,w,O,u,x;const E=[];for(o=t[0],n=t[1],a=t[2],d=t[3],m=t[4],b=t[5],h=t[6],w=t[7],x=0;x<64;x+=1)E[x]=x<16?r[x]:ae(Q(A=E[x-2],17)^Q(A,19)^le(A,10),E[x-7],ce(E[x-15]),E[x-16]),O=U(w,T(m),z(m,b,h),C[x],E[x]),u=F(W(o),k(o,n,a)),w=h,h=b,b=m,m=F(d,O),d=a,a=n,n=o,o=F(O,u);var A;return t[0]=F(o,t[0]),t[1]=F(n,t[1]),t[2]=F(a,t[2]),t[3]=F(d,t[3]),t[4]=F(m,t[4]),t[5]=F(b,t[5]),t[6]=F(h,t[6]),t[7]=F(w,t[7]),t}let Se=class extends ee{constructor(r,t,o){if("SHA-224"!==r&&"SHA-256"!==r)throw new Error(J);super(r,t,o);const n=o||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=$(this.t,this.i,this.T),this.v=ve,this.L=function(a){return a.slice()},this.B=fe,this.F=function(a,d,m,b){return function(h,w,O,u,x){let E,A;const l=15+(w+65>>>9<<4),y=w+O;for(;h.length<=l;)h.push(0);for(h[w>>>5]|=128<<24-w%32,h[l]=4294967295&y,h[l-1]=y/q|0,E=0;E<h.length;E+=16)u=ve(h.slice(E,E+16),u);return A="SHA-224"===x?[u[0],u[1],u[2],u[3],u[4],u[5],u[6]]:u,A}(a,d,m,b,r)},this.U=fe(r),this.m=512,this.R="SHA-224"===r?224:256,this.K=!1,n.hmacKey&&this.k(G("hmacKey",n.hmacKey,this.T))}};class c{constructor(t,o){this.N=t,this.I=o}}function ge(r,t){let o;return t>32?(o=64-t,new c(r.I<<t|r.N>>>o,r.N<<t|r.I>>>o)):0!==t?(o=32-t,new c(r.N<<t|r.I>>>o,r.I<<t|r.N>>>o)):r}function se(r,t){let o;return t<32?(o=32-t,new c(r.N>>>t|r.I<<o,r.I>>>t|r.N<<o)):(o=64-t,new c(r.I>>>t|r.N<<o,r.N>>>t|r.I<<o))}function Ce(r,t){return new c(r.N>>>t,r.I>>>t|r.N<<32-t)}function S(r,t,o){return new c(r.N&t.N^r.N&o.N^t.N&o.N,r.I&t.I^r.I&o.I^t.I&o.I)}function Z(r){const t=se(r,28),o=se(r,34),n=se(r,39);return new c(t.N^o.N^n.N,t.I^o.I^n.I)}function v(r,t){let o,n;o=(65535&r.I)+(65535&t.I),n=(r.I>>>16)+(t.I>>>16)+(o>>>16);const a=(65535&n)<<16|65535&o;return o=(65535&r.N)+(65535&t.N)+(n>>>16),n=(r.N>>>16)+(t.N>>>16)+(o>>>16),new c((65535&n)<<16|65535&o,a)}function I(r,t,o,n){let a,d;a=(65535&r.I)+(65535&t.I)+(65535&o.I)+(65535&n.I),d=(r.I>>>16)+(t.I>>>16)+(o.I>>>16)+(n.I>>>16)+(a>>>16);const m=(65535&d)<<16|65535&a;return a=(65535&r.N)+(65535&t.N)+(65535&o.N)+(65535&n.N)+(d>>>16),d=(r.N>>>16)+(t.N>>>16)+(o.N>>>16)+(n.N>>>16)+(a>>>16),new c((65535&d)<<16|65535&a,m)}function P(r,t,o,n,a){let d,m;d=(65535&r.I)+(65535&t.I)+(65535&o.I)+(65535&n.I)+(65535&a.I),m=(r.I>>>16)+(t.I>>>16)+(o.I>>>16)+(n.I>>>16)+(a.I>>>16)+(d>>>16);const b=(65535&m)<<16|65535&d;return d=(65535&r.N)+(65535&t.N)+(65535&o.N)+(65535&n.N)+(65535&a.N)+(m>>>16),m=(r.N>>>16)+(t.N>>>16)+(o.N>>>16)+(n.N>>>16)+(a.N>>>16)+(d>>>16),new c((65535&m)<<16|65535&d,b)}function N(r,t){return new c(r.N^t.N,r.I^t.I)}function Y(r){const t=se(r,19),o=se(r,61),n=Ce(r,6);return new c(t.N^o.N^n.N,t.I^o.I^n.I)}function de(r){const t=se(r,1),o=se(r,8),n=Ce(r,7);return new c(t.N^o.N^n.N,t.I^o.I^n.I)}function xe(r){const t=se(r,14),o=se(r,18),n=se(r,41);return new c(t.N^o.N^n.N,t.I^o.I^n.I)}const we=[new c(C[0],3609767458),new c(C[1],602891725),new c(C[2],3964484399),new c(C[3],2173295548),new c(C[4],4081628472),new c(C[5],3053834265),new c(C[6],2937671579),new c(C[7],3664609560),new c(C[8],2734883394),new c(C[9],1164996542),new c(C[10],1323610764),new c(C[11],3590304994),new c(C[12],4068182383),new c(C[13],991336113),new c(C[14],633803317),new c(C[15],3479774868),new c(C[16],2666613458),new c(C[17],944711139),new c(C[18],2341262773),new c(C[19],2007800933),new c(C[20],1495990901),new c(C[21],1856431235),new c(C[22],3175218132),new c(C[23],2198950837),new c(C[24],3999719339),new c(C[25],766784016),new c(C[26],2566594879),new c(C[27],3203337956),new c(C[28],1034457026),new c(C[29],2466948901),new c(C[30],3758326383),new c(C[31],168717936),new c(C[32],1188179964),new c(C[33],1546045734),new c(C[34],1522805485),new c(C[35],2643833823),new c(C[36],2343527390),new c(C[37],1014477480),new c(C[38],1206759142),new c(C[39],344077627),new c(C[40],1290863460),new c(C[41],3158454273),new c(C[42],3505952657),new c(C[43],106217008),new c(C[44],3606008344),new c(C[45],1432725776),new c(C[46],1467031594),new c(C[47],851169720),new c(C[48],3100823752),new c(C[49],1363258195),new c(C[50],3750685593),new c(C[51],3785050280),new c(C[52],3318307427),new c(C[53],3812723403),new c(C[54],2003034995),new c(C[55],3602036899),new c(C[56],1575990012),new c(C[57],1125592928),new c(C[58],2716904306),new c(C[59],442776044),new c(C[60],593698344),new c(C[61],3733110249),new c(C[62],2999351573),new c(C[63],3815920427),new c(3391569614,3928383900),new c(3515267271,566280711),new c(3940187606,3454069534),new c(4118630271,4000239992),new c(116418474,1914138554),new c(174292421,2731055270),new c(289380356,3203993006),new c(460393269,320620315),new c(685471733,587496836),new c(852142971,1086792851),new c(1017036298,365543100),new c(1126000580,2618297676),new c(1288033470,3409855158),new c(1501505948,4234509866),new c(1607167915,987167468),new c(1816402316,1246189591)];function me(r){return"SHA-384"===r?[new c(3418070365,H[0]),new c(1654270250,H[1]),new c(2438529370,H[2]),new c(355462360,H[3]),new c(1731405415,H[4]),new c(41048885895,H[5]),new c(3675008525,H[6]),new c(1203062813,H[7])]:[new c(X[0],4089235720),new c(X[1],2227873595),new c(X[2],4271175723),new c(X[3],1595750129),new c(X[4],2917565137),new c(X[5],725511199),new c(X[6],4215389547),new c(X[7],327033209)]}function he(r,t){let o,n,a,d,m,b,h,w,O,u,x,E;const A=[];for(o=t[0],n=t[1],a=t[2],d=t[3],m=t[4],b=t[5],h=t[6],w=t[7],x=0;x<80;x+=1)x<16?(E=2*x,A[x]=new c(r[E],r[E+1])):A[x]=I(Y(A[x-2]),A[x-7],de(A[x-15]),A[x-16]),O=P(w,xe(m),new c((l=m).N&(y=b).N^~l.N&(i=h).N,l.I&y.I^~l.I&i.I),we[x],A[x]),u=v(Z(o),S(o,n,a)),w=h,h=b,b=m,m=v(d,O),d=a,a=n,n=o,o=v(O,u);var l,y,i;return t[0]=v(o,t[0]),t[1]=v(n,t[1]),t[2]=v(a,t[2]),t[3]=v(d,t[3]),t[4]=v(m,t[4]),t[5]=v(b,t[5]),t[6]=v(h,t[6]),t[7]=v(w,t[7]),t}let _e=class extends ee{constructor(r,t,o){if("SHA-384"!==r&&"SHA-512"!==r)throw new Error(J);super(r,t,o);const n=o||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=$(this.t,this.i,this.T),this.v=he,this.L=function(a){return a.slice()},this.B=me,this.F=function(a,d,m,b){return function(h,w,O,u,x){let E,A;const l=31+(w+129>>>10<<5),y=w+O;for(;h.length<=l;)h.push(0);for(h[w>>>5]|=128<<24-w%32,h[l]=4294967295&y,h[l-1]=y/q|0,E=0;E<h.length;E+=32)u=he(h.slice(E,E+32),u);return A="SHA-384"===x?[u[0].N,u[0].I,u[1].N,u[1].I,u[2].N,u[2].I,u[3].N,u[3].I,u[4].N,u[4].I,u[5].N,u[5].I]:[u[0].N,u[0].I,u[1].N,u[1].I,u[2].N,u[2].I,u[3].N,u[3].I,u[4].N,u[4].I,u[5].N,u[5].I,u[6].N,u[6].I,u[7].N,u[7].I],A}(a,d,m,b,r)},this.U=me(r),this.m=1024,this.R="SHA-384"===r?384:512,this.K=!1,n.hmacKey&&this.k(G("hmacKey",n.hmacKey,this.T))}};const ue=[new c(0,1),new c(0,32898),new c(2147483648,32906),new c(2147483648,2147516416),new c(0,32907),new c(0,2147483649),new c(2147483648,2147516545),new c(2147483648,32777),new c(0,138),new c(0,136),new c(0,2147516425),new c(0,2147483658),new c(0,2147516555),new c(2147483648,139),new c(2147483648,32905),new c(2147483648,32771),new c(2147483648,32770),new c(2147483648,128),new c(0,32778),new c(2147483648,2147483658),new c(2147483648,2147516545),new c(2147483648,32896),new c(0,2147483649),new c(2147483648,2147516424)],Ae=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function Pe(r){let t;const o=[];for(t=0;t<5;t+=1)o[t]=[new c(0,0),new c(0,0),new c(0,0),new c(0,0),new c(0,0)];return o}function ke(r){let t;const o=[];for(t=0;t<5;t+=1)o[t]=r[t].slice();return o}function be(r,t){let o,n,a,d;const m=[],b=[];if(null!==r)for(n=0;n<r.length;n+=2)t[(n>>>1)%5][(n>>>1)/5|0]=N(t[(n>>>1)%5][(n>>>1)/5|0],new c(r[n+1],r[n]));for(o=0;o<24;o+=1){for(d=Pe(),n=0;n<5;n+=1)m[n]=new c((h=t[n][0]).N^(w=t[n][1]).N^(O=t[n][2]).N^(u=t[n][3]).N^(x=t[n][4]).N,h.I^w.I^O.I^u.I^x.I);for(n=0;n<5;n+=1)b[n]=N(m[(n+4)%5],ge(m[(n+1)%5],1));for(n=0;n<5;n+=1)for(a=0;a<5;a+=1)t[n][a]=N(t[n][a],b[n]);for(n=0;n<5;n+=1)for(a=0;a<5;a+=1)d[a][(2*n+3*a)%5]=ge(t[n][a],Ae[n][a]);for(n=0;n<5;n+=1)for(a=0;a<5;a+=1)t[n][a]=N(d[n][a],new c(~d[(n+1)%5][a].N&d[(n+2)%5][a].N,~d[(n+1)%5][a].I&d[(n+2)%5][a].I));t[0][0]=N(t[0][0],ue[o])}var h,w,O,u,x;return t}function Oe(r){let t,o,n=0;const a=[0,0],d=[4294967295&r,r/q&2097151];for(t=6;t>=0;t--)o=d[t>>2]>>>8*t&255,0===o&&0===n||(a[n+1>>2]|=o<<8*(n+1),n+=1);return n=0!==n?n:1,a[0]|=n,{value:n+1>4?a:[a[0]],binLen:8+8*n}}function ye(r){return ne(Oe(r.binLen),r)}function Ie(r,t){let o,n=Oe(t);n=ne(n,r);const a=t>>>2,d=(a-n.value.length%a)%a;for(o=0;o<d;o++)n.value.push(0);return n.value}let Te=class extends ee{constructor(r,t,o){let n=6,a=0;super(r,t,o);const d=o||{};if(1!==this.numRounds){if(d.kmacKey||d.hmacKey)throw new Error(pe);if("CSHAKE128"===this.o||"CSHAKE256"===this.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=$(this.t,this.i,this.T),this.v=be,this.L=ke,this.B=Pe,this.U=Pe(),this.K=!1,r){case"SHA3-224":this.m=a=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=a=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=a=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=a=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":n=31,this.m=a=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":n=31,this.m=a=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":n=4,this.m=a=1344,this.X(o),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":n=4,this.m=a=1088,this.X(o),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=a=1344,n=this.O(o),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=a=1088,n=this.O(o),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(J)}this.F=function(m,b,h,w,O){return function(u,x,E,A,l,y,i){let _,p,M=0;const L=[],Ee=l>>>5,Ne=x>>>5;for(_=0;_<Ne&&x>=l;_+=Ee)A=be(u.slice(_,_+Ee),A),x-=l;for(u=u.slice(_),x%=l;u.length<Ee;)u.push(0);for(_=x>>>3,u[_>>2]^=y<<_%4*8,u[Ee-1]^=2147483648,A=be(u,A);32*L.length<i&&(p=A[M%5][M/5|0],L.push(p.I),!(32*L.length>=i));)L.push(p.N),M+=1,64*M%l==0&&(be(null,A),M=0);return L}(m,b,0,w,a,n,O)},d.hmacKey&&this.k(G("hmacKey",d.hmacKey,this.T))}O(r,t){const o=function(a){const d=a||{};return{funcName:G("funcName",d.funcName,1,{value:[],binLen:0}),customization:G("Customization",d.customization,1,{value:[],binLen:0})}}(r||{});t&&(o.funcName=t);const n=ne(ye(o.funcName),ye(o.customization));if(0!==o.customization.binLen||0!==o.funcName.binLen){const a=Ie(n,this.m>>>3);for(let d=0;d<a.length;d+=this.m>>>5)this.U=this.v(a.slice(d,d+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(r){const t=function(n){const a=n||{};return{kmacKey:G("kmacKey",a.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:G("Customization",a.customization,1,{value:[],binLen:0})}}(r||{});this.O(r,t.funcName);const o=Ie(ye(t.kmacKey),this.m>>>3);for(let n=0;n<o.length;n+=this.m>>>5)this.U=this.v(o.slice(n,n+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(r){const t=ne({value:this.h.slice(),binLen:this.u},function(o){let n,a,d=0;const m=[0,0],b=[4294967295&o,o/q&2097151];for(n=6;n>=0;n--)a=b[n>>2]>>>8*n&255,0===a&&0===d||(m[d>>2]|=a<<8*d,d+=1);return d=0!==d?d:1,m[d>>2]|=d<<8*d,{value:d+1>4?m:[m[0]],binLen:8+8*d}}(r.outputLen));return this.F(t.value,t.binLen,this.A,this.L(this.U),r.outputLen)}};class De{constructor(t,o,n){if("SHA-1"==t)this.P=new te(t,o,n);else if("SHA-224"==t||"SHA-256"==t)this.P=new Se(t,o,n);else if("SHA-384"==t||"SHA-512"==t)this.P=new _e(t,o,n);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw new Error(J);this.P=new Te(t,o,n)}}update(t){return this.P.update(t),this}getHash(t,o){return this.P.getHash(t,o)}setHMACKey(t,o,n){this.P.setHMACKey(t,o,n)}getHMAC(t,o){return this.P.getHMAC(t,o)}}}}]);