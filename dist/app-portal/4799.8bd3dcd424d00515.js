(self.webpackChunkapp_portal=self.webpackChunkapp_portal||[]).push([[4799,4864,9191,8877],{9191:(W,P,r)=>{r.r(P),r.d(P,{AppStoreComponent:()=>F,AppStoreService:()=>c});var t=r(5861),n=r(5863),e=r(6701),b=r(9159),A=r(4620),m=r(575),I=r(8426),y=r(743),M=r(1189),N=r(2998),k=r(7842),R=r(6107),V=r(6984),B=r(3433),E=r(6488),L=r(25);function h(u,U){if(1&u&&(n.\u0275\u0275elementStart(0,"span"),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&u){const l=U.$implicit;n.\u0275\u0275classMap(l.icon),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",l.label," ")}}function T(u,U){if(1&u){const l=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"his-card-list",19),n.\u0275\u0275listener("setChange",function(_){n.\u0275\u0275restoreView(l);const f=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(f.appStoreService.onFavoriteClick(_))})("clickCard",function(_){n.\u0275\u0275restoreView(l);const f=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(f.appStoreService.onNavAppClick(_))}),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()}if(2&u){const l=U.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("myAppStore",l)}}function S(u,U){if(1&u&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"div",15),n.\u0275\u0275element(2,"p-divider",16),n.\u0275\u0275elementStart(3,"div",17),n.\u0275\u0275template(4,T,2,1,"ng-container",18),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementContainerEnd()),2&u){const l=n.\u0275\u0275nextContext();n.\u0275\u0275advance(4),n.\u0275\u0275property("ngForOf",l.appStoreService.myAppStores())}}function p(u,U){if(1&u){const l=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"his-card-list",22),n.\u0275\u0275listener("setChange",function(_){n.\u0275\u0275restoreView(l);const f=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(f.appStoreService.onFavoriteClick(_))})("clickCard",function(_){n.\u0275\u0275restoreView(l);const f=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(f.appStoreService.onNavAppClick(_))}),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()}if(2&u){const l=U.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("myAppStore",l)("isListView",!0)}}function C(u,U){if(1&u&&(n.\u0275\u0275elementStart(0,"div",20),n.\u0275\u0275element(1,"p-divider",16),n.\u0275\u0275elementStart(2,"div",21),n.\u0275\u0275template(3,p,2,2,"ng-container",18),n.\u0275\u0275elementEnd()()),2&u){const l=n.\u0275\u0275nextContext();n.\u0275\u0275advance(3),n.\u0275\u0275property("ngForOf",l.appStoreService.myAppStores())}}let c=(()=>{class u{constructor(){this.myAppStores=(0,n.signal)([]),this.userAppStores=(0,n.signal)([]),this.appOpenedIndex=[],this.#e=(0,n.inject)(e.Router),this.#t=(0,n.inject)(b.JetstreamWsService),this.#n=(0,n.inject)(A.UserAccountService)}#e;#t;#n;convertToExtendedAppStores(l){return l.map(g=>({...g,isOpen:!1}))}getAppStoreList(l){return this.#t.request("appPortal.appStore.myAppStores",l)}getUserStoreList(l){return this.#t.request("appPortal.appStore.userAppStores",l)}getAppStoresByKeyword(l){return l?this.myAppStores().filter(g=>g.title.includes(l)):this.myAppStores()}getAppStore(l){return this.myAppStores().filter(_=>_.url===l)[0]}pubUserAppStoreFavorite(l){var g=this;return(0,t.Z)(function*(){yield g.#t.publish("appPortal.appStore.userFavorite",l)})()}onFavoriteClick(l){this.myAppStores.update(g=>g.map(_=>{if(_.appId===l){_.isFavorite=!_.isFavorite;const f=this.userAppStores().find(D=>D.appId===l);console.log("appId",l),console.log("userAppStoreID",f?.appId),f&&(f.isFavorite=_.isFavorite,this.pubUserAppStoreFavorite(f))}return _}))}onNavAppClick(l){this.#e.navigate([l])}setAppClose(l){if(this.myAppStores.update(g=>g.map(_=>(_.appId===l&&(_.isOpen=!1),_))),console.log(this.appOpenedIndex),this.appOpenedIndex.length>1){const g=this.appOpenedIndex.findIndex(_=>_.appId===l);this.appOpenedIndex.splice(g,1),this.#e.navigate([this.appOpenedIndex[this.appOpenedIndex.length-1].url])}else this.appOpenedIndex.splice(1,1),this.#e.navigateByUrl("/home")}setAppOpen(l){const g=this.myAppStores().filter(f=>f.appId===l)[0];g&&(this.myAppStores.update(f=>f.map(D=>(D.appId===l&&(D.isOpen=!0),D))),this.appOpenedIndex.find(f=>((f,D)=>f.url===D.url)(f,g))||this.appOpenedIndex.push(g))}static#i=this.\u0275fac=function(g){return new(g||u)};static#r=this.\u0275prov=n.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var O=Object.freeze({__proto__:null,default:[{icon:"material-symbols-outlined",label:"grid_view",value:"grid"},{icon:"material-symbols-outlined",label:"view_agenda",value:"list"}]});let F=(()=>{class u{constructor(){this.isGridView=(0,n.signal)(!0),this.Options=[],this.value="grid",this.appStoreService=(0,n.inject)(c),this.userAccountService=(0,n.inject)(E.UserAccountService),this.#e=(0,n.inject)(B.TranslateService)}#e;ngOnInit(){var l=this;return(0,t.Z)(function*(){l.Options=Object.values(O)[0]})()}onBackClick(){window.history.back()}onSelectedChange(){this.isGridView.set("grid"===this.value)}static#t=this.\u0275fac=function(g){return new(g||u)};static#n=this.\u0275cmp=n.\u0275\u0275defineComponent({type:u,selectors:[["his-app-store"]],standalone:!0,features:[n.\u0275\u0275StandaloneFeature],decls:21,vars:9,consts:[[1,"content-container"],[1,"top-bar-container"],["styleClass","mr-2","size","xlarge","shape","circle",3,"image"],[1,"title"],[1,"toolbar-container"],[1,"icon-container","title-box"],["pButton","","pRipple","","type","button","icon","pi pi-angle-left",1,"p-button-rounded","p-button-secondary","p-button-outlined",3,"click"],[1,"icon-container"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","\u67e5\u8a62"],["optionLabel","name","optionValue","value",3,"options","ngModel","ngModelChange","onOptionClick"],["pTemplate",""],[4,"ngIf","ngIfElse"],["listView",""],[1,"appstore-container"],[1,"first-class"],[1,"flex","flex-wrap","card-content"],[4,"ngFor","ngForOf"],[1,"grid-style",3,"myAppStore","setChange","clickCard"],[1,"appstore-container","listView"],[1,"flex","flex-wrap","list-content"],[1,"list-style",3,"myAppStore","isListView","setChange","clickCard"]],template:function(g,_){if(1&g&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1),n.\u0275\u0275element(2,"p-avatar",2),n.\u0275\u0275elementStart(3,"div",3),n.\u0275\u0275text(4),n.\u0275\u0275pipe(5,"translate"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(6,"div",4)(7,"div",5)(8,"button",6),n.\u0275\u0275listener("click",function(){return _.onBackClick()}),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"div")(10,"h3"),n.\u0275\u0275text(11,"\u7a0b\u5f0f\u96c6"),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(12,"div",7)(13,"span",8),n.\u0275\u0275element(14,"i",9)(15,"input",10),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(16,"p-selectButton",11),n.\u0275\u0275listener("ngModelChange",function(D){return _.value=D})("onOptionClick",function(){return _.onSelectedChange()}),n.\u0275\u0275template(17,h,2,3,"ng-template",12),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275template(18,S,5,1,"ng-container",13),n.\u0275\u0275template(19,C,4,1,"ng-template",null,14,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementEnd()),2&g){const f=n.\u0275\u0275reference(20);n.\u0275\u0275advance(2),n.\u0275\u0275propertyInterpolate("image",_.userAccountService.userImage().image),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate2(" ",_.userAccountService.userAccount().userCode.display,",",n.\u0275\u0275pipeBind1(5,7,"\u6b61\u8fce\u56de\u4f86")," "),n.\u0275\u0275advance(12),n.\u0275\u0275property("options",_.Options)("ngModel",_.value),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",_.isGridView())("ngIfElse",f)}},dependencies:[m.CommonModule,m.NgForOf,m.NgIf,M.ButtonModule,M.ButtonDirective,L.PrimeTemplate,k.DividerModule,k.Divider,y.SelectButtonModule,y.SelectButton,I.FormsModule,I.NgControlStatus,I.NgModel,N.InputTextModule,N.InputText,R.AvatarModule,R.Avatar,V.D,B.TranslateModule,B.TranslatePipe],styles:["[_nghost-%COMP%]     .grid-style{margin:6px;width:calc(20% - 12px);max-width:320px}[_nghost-%COMP%]     .grid-style.second-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--tertiary-main)}[_nghost-%COMP%]     .grid-style.third-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--indigo-500)}[_nghost-%COMP%]     .grid-style.fourth-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--orange-500)}[_nghost-%COMP%]     .list-style .p-image.p-component{width:56px;height:56px}[_nghost-%COMP%]     .p-selectbutton .p-button{border-radius:0}[_nghost-%COMP%]     .p-selectbutton .p-button:first-child{border-radius:6px 0 0 6px}[_nghost-%COMP%]     .p-selectbutton .p-button:last-child{border-radius:0 6px 6px 0}.content-container[_ngcontent-%COMP%]{padding:32px;height:100%;display:flex;flex-direction:column;background-color:var(--surface-ground);overflow:auto}.appstore-container[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-lg)}.appstore-container.listView[_ngcontent-%COMP%]{width:100%;margin:0 auto}.appstore-container[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{width:95%;margin:0 auto;transform:translate(-6px);padding-bottom:var(--spacing-md)}.appstore-container[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]{gap:12px}.top-bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.icon-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.icon-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-style:normal;font-weight:700;line-height:2rem;letter-spacing:.03rem;color:var(--surface-on-surface)}.list-style[_ngcontent-%COMP%]{cursor:pointer;width:100%}[_nghost-%COMP%]     .p-buttonset .p-button-icon-only{justify-content:center;width:2rem;height:2rem}[_nghost-%COMP%]     .p-buttonset .p-button-icon-only .p-button-icon{font-size:1rem;padding-left:3px}[_nghost-%COMP%]     .p-divider.p-divider-horizontal{margin:12px 0}[_nghost-%COMP%]     .first-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--primary-main);border-width:4px}[_nghost-%COMP%]     .second-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--tertiary-main);border-width:4px}[_nghost-%COMP%]     .third-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--indigo-500);border-width:4px}[_nghost-%COMP%]     .fourth-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--orange-500);border-width:4px}.title[_ngcontent-%COMP%]{padding-left:24px;font-size:28px;font-weight:700;line-height:40px;letter-spacing:1.12px;color:var(--primary-main)}.toolbar-container[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-lg);display:flex;justify-content:space-between;width:100%;margin:var(--spacing-lg) 0 var(--spacing-sm)}"]})}return u})()},4799:(W,P,r)=>{r.r(P),r.d(P,{UserProfileComponent:()=>B});var t=r(6107),n=r(1189),e=r(5863),b=r(575),A=r(931),m=r(6701),I=r(2182),y=r(6984),M=r(9191),N=r(3433),k=r(6488);function R(E,L){if(1&E){const h=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"his-card-list",13),e.\u0275\u0275listener("setChange",function(S){e.\u0275\u0275restoreView(h);const p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.appStoreService.onFavoriteClick(S))})("clickCard",function(S){e.\u0275\u0275restoreView(h);const p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.appStoreService.onNavAppClick(S))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&E){const h=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("myAppStore",h)}}function V(E,L){if(1&E&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,R,2,1,"ng-container",12),e.\u0275\u0275elementContainerEnd()),2&E){const h=L.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===h.isFavorite)}}let B=(()=>{class E{constructor(){this.appStoreService=(0,e.inject)(M.AppStoreService),this.newsService=(0,e.inject)(A.NewsService),this.userAccountService=(0,e.inject)(k.UserAccountService),this.#e=(0,e.inject)(m.Router),this.#t=(0,e.inject)(I.SharedService),this.#n=(0,e.inject)(N.TranslateService)}#e;#t;#n;onMoreNewsClick(){this.#t.sharedValue=null;const h=this.#t.setValue(this.userAccountService.userAccount());this.#e.navigate(["/news"],{state:{token:h}})}onNavNewsLinkClick(h,T){const S=this.#t.setValue(T);this.#e.navigate([h],{state:{token:S}})}onMoreAppListClick(){const h=this.#t.setValue(this.userAccountService.userAccount());this.#e.navigate(["/appStore"],{state:{token:h}})}static#i=this.\u0275fac=function(T){return new(T||E)};static#r=this.\u0275cmp=e.\u0275\u0275defineComponent({type:E,selectors:[["his-user-profile"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:24,vars:19,consts:[[1,"content-container"],[1,"top-bar-container"],["styleClass","mr-2","size","xlarge","shape","circle",3,"image"],[1,"title"],[1,"flex","flex-container"],[1,"newsArea","card","flex","justify-content-center","card-container"],[1,"see-more-container"],["pButton","","pRipple","",3,"label","click"],[1,"news-container",3,"news"],[1,"favoriteArea","card","flex","justify-content-center","card-container"],[1,"flex","grid-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"grid-style",3,"myAppStore","setChange","clickCard"]],template:function(T,S){1&T&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"p-avatar",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5)(8,"div",6)(9,"h3"),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",7),e.\u0275\u0275listener("click",function(){return S.onMoreNewsClick()}),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(14,"his-news-list",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",9)(16,"div",6)(17,"h3"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",7),e.\u0275\u0275listener("click",function(){return S.onMoreAppListClick()}),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",10),e.\u0275\u0275template(23,V,2,1,"ng-container",11),e.\u0275\u0275elementEnd()()()()),2&T&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("image",S.userAccountService.userImage().image),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",S.userAccountService.userAccount().userCode.display,",",e.\u0275\u0275pipeBind1(5,9,"\u6b61\u8fce\u56de\u4f86")," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,11,"\u6700\u65b0\u6d88\u606f")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(13,13,"\u67e5\u770b\u66f4\u591a")),e.\u0275\u0275advance(2),e.\u0275\u0275property("news",S.newsService.toDoList().concat(S.newsService.normalNews())),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,15,"\u6211\u7684\u6700\u611b")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(21,17,"\u67e5\u770b\u66f4\u591a")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",S.appStoreService.myAppStores()))},dependencies:[b.CommonModule,b.NgForOf,b.NgIf,t.AvatarModule,t.Avatar,n.ButtonModule,n.ButtonDirective,y.D,A.NewsListComponent,N.TranslateModule,N.TranslatePipe],styles:["[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr:last-child td{border-bottom:0}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr td{padding:7.5px 0}[_nghost-%COMP%]     td .p-button .p-button-label{line-height:1.5rem}his-card-list[_ngcontent-%COMP%]{padding:4px}.content-container[_ngcontent-%COMP%]{padding:32px;height:100%;gap:16px;display:flex;flex-direction:column;background-color:var(--surface-ground)}.top-bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.title[_ngcontent-%COMP%]{padding-left:24px;font-size:28px;font-weight:700;line-height:40px;letter-spacing:1.12px;color:var(--primary-main)}.flex-container[_ngcontent-%COMP%]{display:flex;gap:16px;flex:1;width:100%}.grid-container[_ngcontent-%COMP%]{margin:-4px;flex:1;width:100%;align-content:flex-start;flex-wrap:wrap}.newsArea[_ngcontent-%COMP%]{width:40.63%}.favoriteArea[_ngcontent-%COMP%]{flex:1}.favoriteArea[_ngcontent-%COMP%]   his-card-list[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.card-container[_ngcontent-%COMP%]{height:100%;border-radius:12px;background:var(--surface-section);padding:8px;display:flex;flex-direction:column;gap:8px}.see-more-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.news-container[_ngcontent-%COMP%]{background-color:var(--white);padding:var(--spacing-sm);border-radius:12px;overflow:hidden;width:100%;height:100%;box-shadow:0 2px 1px -1px #00000005,0 1px 1px #00000024,0 1px 3px #0000001f}.grid-style[_ngcontent-%COMP%]{cursor:pointer;width:33.3333333333%}"]})}return E})()},931:(W,P,r)=>{r.r(P),r.d(P,{NewsInfoComponent:()=>ee,NewsListComponent:()=>Y,NewsService:()=>z});var t=r(5861),n=r(6296),e=r(5863),b=r(5126),A=r(6753),m=r(575),I=r(1496),y=r(1189),M=r(3433),N=r(6701),k=r(2182),V=(r(4679),r(25)),B=r(9891),E=r(6107),L=r(8426),h=r(6488);function T(o,v){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"h1",4),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementContainerEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("innerText",e.\u0275\u0275pipeBind1(2,1,"\u6c92\u6709\u6700\u65b0\u6d88\u606f")))}function S(o,v){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span")(1,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const a=e.\u0275\u0275nextContext().$implicit,d=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(d.onChangeStatus(a))}),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()()}2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(2,1,"\u5b8c\u6210")))}function p(o,v){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",7),e.\u0275\u0275template(2,S,3,3,"span",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",9),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(i).$implicit,x=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(x.onNavNewsClick(d.url,d.sharedData))}),e.\u0275\u0275elementStart(4,"span",10),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"td",11),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(i).$implicit,x=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(x.onNavNewsClick(d.url,d.sharedData))}),e.\u0275\u0275elementStart(7,"span",10),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()()}if(2&o){const i=v.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","10"===i.execStatus.code),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.period.start.formatString("YYYY-MM-DD HH:mm")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.subject)}}const C=function(){return{width:"100%"}};function c(o,v){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"p-table",5),e.\u0275\u0275template(2,p,9,3,"ng-template",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&o){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("value",i.news)("tableStyle",e.\u0275\u0275pureFunction0(2,C))}}function w(o,v){if(1&o&&e.\u0275\u0275template(0,c,3,3,"ng-container",0),2&o){const i=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(4);e.\u0275\u0275property("ngIf",i.news&&"10"===i.news[0].execStatus.code)("ngIfElse",s)}}function O(o,v){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",13),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(i).$implicit,x=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(x.onNavNewsClick(d.url,d.sharedData))}),e.\u0275\u0275elementStart(2,"span",10),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"td",14),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(i).$implicit,x=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(x.onNavNewsClick(d.url,d.sharedData))}),e.\u0275\u0275elementStart(5,"span",10),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()}if(2&o){const i=v.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.period.start.formatString("YYYY-MM-DD HH:mm")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.subject)}}function F(o,v){if(1&o&&(e.\u0275\u0275elementStart(0,"p-table",5),e.\u0275\u0275template(1,O,7,2,"ng-template",6),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("value",i.news)("tableStyle",e.\u0275\u0275pureFunction0(2,C))}}function u(o,v){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span")(1,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const a=e.\u0275\u0275nextContext().$implicit,d=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(d.onChangeStatus(a))}),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()()}2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(2,1,"\u5b8c\u6210")))}function U(o,v){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",7),e.\u0275\u0275template(2,u,3,3,"span",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",9),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(i).$implicit,x=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(x.onNavNewsClick(d.url,d.sharedData))}),e.\u0275\u0275elementStart(4,"span",10),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"td",11),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(i).$implicit,x=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(x.onNavNewsClick(d.url,d.sharedData))}),e.\u0275\u0275elementStart(7,"span",10),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()()}if(2&o){const i=v.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","10"===i.execStatus.code),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.period.start.formatString("YYYY-MM-DD HH:mm")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.subject)}}function l(o,v){if(1&o&&(e.\u0275\u0275elementStart(0,"p-table",5),e.\u0275\u0275template(1,U,9,3,"ng-template",6),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("value",i.news)("tableStyle",e.\u0275\u0275pureFunction0(2,C))}}function g(o,v){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",19),e.\u0275\u0275elementEnd())}function _(o,v){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",20),e.\u0275\u0275elementEnd())}function f(o,v){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",19),e.\u0275\u0275elementEnd())}function D(o,v){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",20),e.\u0275\u0275elementEnd())}function J(o,v){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",19),e.\u0275\u0275elementEnd())}function Q(o,v){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",20),e.\u0275\u0275elementEnd())}function X(o,v){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",19),e.\u0275\u0275elementEnd())}function q(o,v){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"span",20),e.\u0275\u0275elementEnd())}let z=(()=>{class o{constructor(){this.originalNews=(0,e.signal)({}),this.allNormalNews=(0,e.signal)({}),this.allTodoList=(0,e.signal)({}),this.normalNews=(0,e.signal)({}),this.toDoList=(0,e.signal)({}),this.checkedNormalNews=(0,e.signal)({}),this.checkedToDoList=(0,e.signal)({}),this.#e=new b.Subject,this.#n=(0,e.inject)(A.JetstreamWsService)}#e;#t;#n;getInitNews(i){return this.#n.request("news.news.find",i)}changeStatus(i){const s=new Date;this.originalNews.mutate(a=>{const d=a.findIndex(x=>x._id==i._id);a.splice(d,1)}),i.execStatus={code:"60",display:"\u5df2\u8b80/\u5df2\u5b8c\u6210"},i.execTime=s,this.#n.publish(`news.news.setNews.${i.userCode.code}`,i)}filterType(i,s){return s?i.filter(a=>a.type.code==s):i}filterStatus(i,s){return s?i.filter(a=>a.execStatus.code==s):i}filterOverdue(i){const s=new Date;return i.filter(d=>s.valueOf()-d.execTime.valueOf()<864e5)}filterSubject(i){const s=this.originalNews();this.upsertNews(s.filter(a=>a.subject.match(i)))}filterReset(){this.upsertNews(this.originalNews())}upsertNews(i){this.allNormalNews.set(this.filterType(i,"10")),this.allTodoList.set(this.filterType(i,"60")),this.normalNews.set(this.filterStatus(this.allNormalNews(),"10")),this.toDoList.set(this.filterStatus(this.allTodoList(),"10")),this.checkedNormalNews.set(this.filterOverdue(this.filterStatus(this.allNormalNews(),"60"))),this.checkedToDoList.set(this.filterOverdue(this.filterStatus(this.allTodoList(),"60")))}upsertAllNews(i){this.originalNews.set(i),this.upsertNews(i)}formatNews(i){const s=[];return i.forEach(a=>{const d={_id:a._id,appId:a.appId,userCode:a.userCode,subject:a.subject,url:a.url,sharedData:a.sharedData,period:{start:new Date(a.period.start),end:new Date(a.period.end)},type:a.type,execTime:new Date(a.execTime),execStatus:a.execStatus,updatedBy:a.updatedBy,updatedAt:new Date(a.updatedAt)};s.push(d)}),s}subMyNews(i){var s=this;return(0,t.Z)(function*(){s.#e=new b.Subject;const a=(0,A.JSONCodec)();s.#t=s.#n.subscribe(A.SubscribeType.Push,`news.news.setNews.${i.code}`),s.#t.pipe((0,b.mergeMap)(function(){var d=(0,t.Z)(function*(x){var G,j=!1,H=!1;try{for(var Z,$=(0,n.Z)(x);j=!(Z=yield $.next()).done;j=!1){const K=Z.value;s.#e.next(a.decode(K.data)),K.ack()}}catch(K){H=!0,G=K}finally{try{j&&null!=$.return&&(yield $.return())}finally{if(H)throw G}}});return function(x){return d.apply(this,arguments)}}())).subscribe(()=>{}),s.#e.subscribe(d=>{s.originalNews.mutate(x=>{const j=s.formatNews([d.data]);x.push(j[0])}),s.upsertNews(s.originalNews())})})()}static#i=this.\u0275fac=function(s){return new(s||o)};static#r=this.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Y=(()=>{class o{constructor(){this.newsService=(0,e.inject)(z),this.sharedService=(0,e.inject)(k.SharedService),this.#e=(0,e.inject)(N.Router)}#e;onNavNewsClick(i,s){if(i){const a=this.sharedService.setValue(s);this.#e.navigate([i],{state:{token:a}})}}onChangeStatus(i){var s=this;return(0,t.Z)(function*(){s.newsService.changeStatus(i)})()}static#t=this.\u0275fac=function(s){return new(s||o)};static#n=this.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["his-news-list"]],inputs:{news:"news"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["ShowNews",""],["completedTable",""],["customtemplate",""],[1,"p-datatable",3,"innerText"],[3,"value","tableStyle"],["pTemplate","body"],[1,"first-child"],[4,"ngIf"],[1,"nth-child",3,"click"],[1,"label-m"],[1,"last-child",3,"click"],["pButton","","pRipple","","type","button",1,"p-button-outlined","check-button",3,"label","click"],[1,"complete-first",3,"click"],[1,"complete-last",3,"click"]],template:function(s,a){if(1&s&&(e.\u0275\u0275template(0,T,3,3,"ng-container",0),e.\u0275\u0275template(1,w,1,2,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(3,F,2,3,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(5,l,2,3,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)),2&s){const d=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf",a.news&&a.news.length<1)("ngIfElse",d)}},dependencies:[m.CommonModule,m.NgIf,I.TableModule,I.Table,V.PrimeTemplate,y.ButtonModule,y.ButtonDirective,M.TranslateModule,M.TranslatePipe],styles:[".check-button[_ngcontent-%COMP%]{width:88px;height:32px;padding:4px,12px,4px,12px;border-radius:20px;border:1px;gap:4px}[_nghost-%COMP%]     .p-datatable{height:100%;font-style:normal;font-weight:400;line-height:20px;letter-spacing:.16px;color:var(--surface-on-surface)}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr:last-child>td{border-bottom:none}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding:8px 0 8px 18px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.first-child{width:5%;min-width:45px;padding-left:0}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.first-child .p-button{min-width:60px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.nth-child{width:13%;min-width:167px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.last-child{width:82%;text-align:left}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.completed-first{width:16%}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.complete-last{width:84%;text-align:left}[_nghost-%COMP%]     .p-fieldset{border-radius:12px;padding-left:12px}[_nghost-%COMP%]     .p-fieldset .p-fieldset-content{padding:8px 0}"]})}return o})(),ee=(()=>{class o{constructor(){this.news=(0,e.computed)(()=>this.newsService.originalNews()),this.normalNews=(0,e.computed)(()=>this.newsService.normalNews()),this.toDoList=(0,e.computed)(()=>this.newsService.toDoList()),this.checkedNormalNews=(0,e.computed)(()=>this.newsService.checkedNormalNews()),this.checkedToDoList=(0,e.computed)(()=>this.newsService.checkedToDoList()),this.query="",this.newsService=(0,e.inject)(z),this.sharedService=(0,e.inject)(k.SharedService),this.userAccountService=(0,e.inject)(h.UserAccountService),this.#e=(0,e.inject)(N.Router)}#e;onBackClick(){window.history.back()}onNavNewsClick(i,s){const a=this.sharedService.setValue(s);this.#e.navigate([i],{state:{token:a}})}filterSubject(){this.newsService.filterSubject(this.query)}filterReset(){this.newsService.filterReset()}static#t=this.\u0275fac=function(s){return new(s||o)};static#n=this.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["his-news-info"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:38,vars:32,consts:[[1,"content-container"],[1,"top-bar-container"],["styleClass","mr-2","size","xlarge","shape","circle",3,"image"],[1,"title"],[1,"toolbar-container"],[1,"icon-container"],["pButton","","pRipple","","type","button","icon","pi pi-angle-left",1,"p-button-rounded","p-button-secondary","p-button-outlined",3,"click"],[3,"innerText"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pinputtext","",1,"p-inputtext","p-component","p-element",3,"placeholder","ngModel","ngModelChange","keyup","keyup.excape"],[1,"flex","flex-column"],[1,"first",3,"legend","toggleable"],["pTemplate","expandicon"],["pTemplate","collapseicon"],[1,"news-container",3,"news"],[1,"second",3,"legend","toggleable"],[1,"third",3,"legend","toggleable"],[1,"fourth",3,"legend","toggleable"],[1,"pi","pi-chevron-down"],[1,"pi","pi-chevron-up"]],template:function(s,a){1&s&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"p-avatar",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5)(8,"button",6),e.\u0275\u0275listener("click",function(){return a.onBackClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div"),e.\u0275\u0275element(10,"h3",7),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div")(13,"span",8),e.\u0275\u0275element(14,"i",9),e.\u0275\u0275elementStart(15,"input",10),e.\u0275\u0275listener("ngModelChange",function(x){return a.query=x})("keyup",function(){return a.filterSubject()})("keyup.excape",function(){return a.filterReset()}),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(17,"div",11)(18,"p-fieldset",12),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275template(20,g,2,0,"ng-template",13),e.\u0275\u0275template(21,_,2,0,"ng-template",14),e.\u0275\u0275element(22,"his-news-list",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"p-fieldset",16),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275template(25,f,2,0,"ng-template",13),e.\u0275\u0275template(26,D,2,0,"ng-template",14),e.\u0275\u0275element(27,"his-news-list",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"p-fieldset",17),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275template(30,J,2,0,"ng-template",13),e.\u0275\u0275template(31,Q,2,0,"ng-template",14),e.\u0275\u0275element(32,"his-news-list",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"p-fieldset",18),e.\u0275\u0275pipe(34,"translate"),e.\u0275\u0275template(35,X,2,0,"ng-template",13),e.\u0275\u0275template(36,q,2,0,"ng-template",14),e.\u0275\u0275element(37,"his-news-list",15),e.\u0275\u0275elementEnd()()()),2&s&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("image",a.userAccountService.userImage().image),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",a.userAccountService.userAccount().userCode.display,",",e.\u0275\u0275pipeBind1(5,18,"\u6b61\u8fce\u56de\u4f86")," "),e.\u0275\u0275advance(6),e.\u0275\u0275property("innerText",e.\u0275\u0275pipeBind1(11,20,"\u6700\u65b0\u6d88\u606f")),e.\u0275\u0275advance(5),e.\u0275\u0275property("placeholder",e.\u0275\u0275pipeBind1(16,22,"\u641c\u5c0b"))("ngModel",a.query),e.\u0275\u0275advance(3),e.\u0275\u0275property("legend",e.\u0275\u0275pipeBind1(19,24,"\u5f85\u8fa6\u5de5\u4f5c"))("toggleable",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("news",a.toDoList()),e.\u0275\u0275advance(1),e.\u0275\u0275property("legend",e.\u0275\u0275pipeBind1(24,26,"\u516c\u544a\u8a0a\u606f"))("toggleable",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("news",a.normalNews()),e.\u0275\u0275advance(1),e.\u0275\u0275property("legend",e.\u0275\u0275pipeBind1(29,28,"\u5b8c\u6210\u5de5\u4f5c"))("toggleable",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("news",a.checkedToDoList()),e.\u0275\u0275advance(1),e.\u0275\u0275property("legend",e.\u0275\u0275pipeBind1(34,30,"\u5df2\u8b80\u8a0a\u606f"))("toggleable",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("news",a.checkedNormalNews()))},dependencies:[m.CommonModule,Y,I.TableModule,V.PrimeTemplate,B.FieldsetModule,B.Fieldset,y.ButtonModule,y.ButtonDirective,E.AvatarModule,E.Avatar,M.TranslateModule,M.TranslatePipe,L.FormsModule,L.DefaultValueAccessor,L.NgControlStatus,L.NgModel],styles:[".top-bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.icon-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.icon-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-style:normal;font-weight:700;line-height:2rem;letter-spacing:.03rem;color:var(--surface-on-surface)}.content-container[_ngcontent-%COMP%]{padding:32px;height:100%;gap:16px;display:flex;flex-direction:column;background-color:var(--surface-ground)}.flex-column[_ngcontent-%COMP%]{gap:26px}[_nghost-%COMP%]     p-fieldset{padding-left:12px}[_nghost-%COMP%]     p-fieldset .p-fieldset-toggleable .p-fieldset-legend{margin-left:-1px;width:129px;transition:background-color .2s,color .2s,box-shadow .2s}[_nghost-%COMP%]     p-fieldset .p-fieldset-toggleable .p-fieldset-legend a{min-height:34px;padding:var(--spacing-xs) var(--spacing-md)}[_nghost-%COMP%]     p-fieldset .p-fieldset-legend-text{font-weight:700}[_nghost-%COMP%]     p-fieldset .p-fieldset .p-fieldset-content{padding:8px 0}[_nghost-%COMP%]     p-fieldset .p-fieldset-legend>a{flex-direction:row-reverse}[_nghost-%COMP%]     p-fieldset .p-fieldset.p-fieldset-toggleable .p-fieldset-legend a .p-fieldset-toggler{margin-right:0;margin-left:10px}[_nghost-%COMP%]     p-fieldset.first .p-fieldset-toggleable .p-fieldset-legend{background-color:var(--tertiary-main)}[_nghost-%COMP%]     p-fieldset.first .p-fieldset-toggleable .p-fieldset-legend a{color:var(--white)}[_nghost-%COMP%]     p-fieldset.second .p-fieldset-toggleable .p-fieldset-legend{background-color:var(--primary-main)}[_nghost-%COMP%]     p-fieldset.second .p-fieldset-toggleable .p-fieldset-legend a{color:#f6f6f6}[_nghost-%COMP%]     p-fieldset.third .p-fieldset-toggleable .p-fieldset-legend{background-color:var(--surface-section)}[_nghost-%COMP%]     p-fieldset.third .p-fieldset-toggleable .p-fieldset-legend a{color:var(--surface-on-surface)}.title[_ngcontent-%COMP%]{padding-left:24px;font-size:28px;font-weight:700;line-height:40px;letter-spacing:1.12px;color:var(--primary-main)}.toolbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}.p-button[_ngcontent-%COMP%]{color:#fff;background:var(--primary-main);border:0 none;padding:4px 12px;font-size:1rem;transition:background-color .2s,border-color .2s,color .2s,box-shadow .2s,background-size .2s cubic-bezier(.64,.09,.08,1);border-radius:6px}.check-button[_ngcontent-%COMP%]{width:88px;height:32px;padding:4px,12px,4px,12px;border-radius:20px;border:1px;gap:4px}.p-input-icon-left[_ngcontent-%COMP%]{padding:0 3px 0 0;width:320px}.p-input-icon-left[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{top:30%}.p-inputtext[_ngcontent-%COMP%]{width:100%}.pi[_ngcontent-%COMP%]{width:17.51px;height:17.51px}"]})}return o})()},6488:(W,P,r)=>{r.r(P),r.d(P,{ServiceService:()=>e,UserAccountService:()=>b,UserProfileService:()=>A});var t=r(5863),n=r(9159);let e=(()=>{class m{constructor(){}static#e=this.\u0275fac=function(M){return new(M||m)};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})(),b=(()=>{class m{constructor(){this.#e=(0,t.inject)(n.JetstreamWsService),this.userAccount=(0,t.signal)({}),this.userImage=(0,t.signal)({})}#e;getUserImage(y){return this.#e.request("UserImage.getUserImage",y)}static#t=this.\u0275fac=function(M){return new(M||m)};static#n=this.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})(),A=(()=>{class m{constructor(){this.#e=(0,t.inject)(n.JetstreamWsService),this.userProfile=(0,t.signal)({})}#e;getUserProfile(y,M){return this.#e.request("appPortal.userProfile.find",{userCode:y,appId:M})}static#t=this.\u0275fac=function(M){return new(M||m)};static#n=this.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},6984:(W,P,r)=>{r.d(P,{D:()=>S});var t=r(5863),n=r(575),e=r(1189),b=r(7069),A=r(6701);function m(p,C){if(1&p&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementContainer(1,5),t.\u0275\u0275elementContainerEnd()),2&p){const c=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",c.footerTemplate)}}function I(p,C){if(1&p){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",4),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(c);const O=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(O.directToApp(O.myAppStore.url))}),t.\u0275\u0275elementContainer(2,5)(3,5),t.\u0275\u0275template(4,m,2,1,"ng-container",0),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&p){const c=t.\u0275\u0275nextContext(),w=t.\u0275\u0275reference(3),O=t.\u0275\u0275reference(5);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",w),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",O),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.footerTemplate)}}function y(p,C){if(1&p){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",6),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(c);const O=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(O.directToApp(O.myAppStore.url))}),t.\u0275\u0275elementContainer(2,5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&p){t.\u0275\u0275nextContext();const c=t.\u0275\u0275reference(7);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",c)}}function M(p,C){if(1&p&&(t.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"span",9),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()()),2&p){const c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",c.myAppStore.icon," ")}}function N(p,C){1&p&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"span",15),t.\u0275\u0275elementContainerEnd())}function k(p,C){1&p&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"span",16),t.\u0275\u0275elementContainerEnd())}function R(p,C){if(1&p){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"span",12),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",13),t.\u0275\u0275listener("click",function(O){t.\u0275\u0275restoreView(c);const F=t.\u0275\u0275nextContext();return F.changeFavorite(F.myAppStore.appId),t.\u0275\u0275resetView(O.stopPropagation())}),t.\u0275\u0275template(5,N,2,0,"ng-container",0),t.\u0275\u0275template(6,k,2,0,"ng-container",0),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"h5",14),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()()}if(2&p){const c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(c.myAppStore.versionNo),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",1==c.myAppStore.isFavorite),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!0!==c.myAppStore.isFavorite),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(c.myAppStore.title)}}function V(p,C){1&p&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"span",15),t.\u0275\u0275elementContainerEnd())}function B(p,C){1&p&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"span",16),t.\u0275\u0275elementContainerEnd())}function E(p,C){1&p&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"\u3001"),t.\u0275\u0275elementEnd())}function L(p,C){if(1&p&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275template(2,E,2,0,"span",0),t.\u0275\u0275elementContainerEnd()),2&p){const c=C.$implicit,w=C.last;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",c.title,""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!w)}}function h(p,C){if(1&p){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",17)(1,"button",13),t.\u0275\u0275listener("click",function(O){t.\u0275\u0275restoreView(c);const F=t.\u0275\u0275nextContext();return F.changeFavorite(F.myAppStore.appId),t.\u0275\u0275resetView(O.stopPropagation())}),t.\u0275\u0275template(2,V,2,0,"ng-container",0),t.\u0275\u0275template(3,B,2,0,"ng-container",0),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",8)(5,"span",9),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",14),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",18),t.\u0275\u0275template(10,L,3,2,"ng-container",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"div",20),t.\u0275\u0275text(12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",20),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd()()}if(2&p){const c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",1==c.myAppStore.isFavorite),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!0!==c.myAppStore.isFavorite),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",c.myAppStore.icon," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(c.myAppStore.title),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",c.myAppStore.appPages),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("\u7dad\u8b77\u4eba\u54e1\uff1a",c.myAppStore.home.maintainer.display,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(c.myAppStore.versionNo)}}let S=(()=>{class p{constructor(){this.setChange=new t.EventEmitter,this.clickCard=new t.EventEmitter}directToApp(c){console.log("in component directToApp",c),this.clickCard.emit(c)}changeFavorite(c){this.setChange.emit(c)}static#e=this.\u0275fac=function(w){return new(w||p)};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:p,selectors:[["his-card-list"]],inputs:{myAppStore:"myAppStore",isListView:"isListView",headerTemplate:"headerTemplate",bodyTemplate:"bodyTemplate",footerTemplate:"footerTemplate"},outputs:{setChange:"setChange",clickCard:"clickCard"},standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:8,vars:2,consts:[[4,"ngIf"],["gridViewHeader",""],["gridViewBody",""],["listViewHeader",""],[1,"p-card","p-commponent","app-grid-card",3,"click"],[3,"ngTemplateOutlet"],[1,"p-card","p-commponent","app-list-card",3,"click"],[1,"grid-header-container"],[1,"p-image","p-component"],[1,"material-symbols-outlined","icon-style"],[1,"grid-body-container"],[1,"btnBox"],[1,"subtitle","caption-s"],[3,"click"],[1,"title","label-l"],[1,"pi","pi-star-fill","selected"],[1,"pi","pi-star"],[1,"list-header-container"],[1,"content","caption-l"],[4,"ngFor","ngForOf"],[1,"subtitle","caption-m"]],template:function(w,O){1&w&&(t.\u0275\u0275template(0,I,5,3,"ng-container",0),t.\u0275\u0275template(1,y,3,1,"ng-container",0),t.\u0275\u0275template(2,M,4,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,R,9,4,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(6,h,15,7,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)),2&w&&(t.\u0275\u0275property("ngIf",!O.isListView),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",O.isListView))},dependencies:[n.CommonModule,n.NgForOf,n.NgIf,n.NgTemplateOutlet,b.ImageModule,e.ButtonModule,A.RouterModule],styles:[".app-grid-card[_ngcontent-%COMP%]{display:flex;padding:var(--spacing-md) var(--spacing-sm);gap:8px;border-radius:12px;height:100px;cursor:pointer}.app-list-card[_ngcontent-%COMP%]{display:flex;padding:4px 12px;flex-direction:row;gap:8px;border-radius:12px}.grid-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.list-header-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:row;align-items:center;padding:var(--spacing-xs) var(--spacing-xxl);gap:var(--spacing-sm)}.list-header-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--surface-on-surface)}.list-header-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:5px;flex:1}.list-header-container[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{transition:all .3s}.list-header-container[_ngcontent-%COMP%]   .pi.selected[_ngcontent-%COMP%]{color:var(--yellow-500)}.grid-body-container[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}.grid-body-container[_ngcontent-%COMP%]   .btnBox[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;align-items:center;gap:var(--spacing-sm)}.grid-body-container[_ngcontent-%COMP%]   .btnBox[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{transition:all .3s}.grid-body-container[_ngcontent-%COMP%]   .btnBox[_ngcontent-%COMP%]   .pi.selected[_ngcontent-%COMP%]{color:var(--yellow-500)}button[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none}.icon-style[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;color:var(--surface-a);font-size:48px}[_nghost-%COMP%]     .p-button{padding:0;color:var(--surface-on-surface)}[_nghost-%COMP%]     .body-container .p-button.p-button-icon-only{height:2rem}[_nghost-%COMP%]     .body-container .p-button.p-button-icon-only .pi{font-size:.7rem}[_nghost-%COMP%]     .p-image.p-component{display:block;width:72px;height:72px;background-color:var(--primary-main);border-radius:18px;overflow:hidden;padding:8px;position:relative;background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--primary-main);box-shadow:0 2px 1px -1px #00000005,0 1px 1px #00000024,0 1px 3px #0000001f}[_nghost-%COMP%]     .p-image.p-component img{display:block;width:100%;height:100%}[_nghost-%COMP%]     .app-grid-card .p-button{height:2rem}[_nghost-%COMP%]     .app-grid-card.p-card{transition:all .3s}[_nghost-%COMP%]     .app-grid-card.p-card:hover{transform:translateY(-3px);border-bottom:3px solid var(--primary-main)}[_nghost-%COMP%]     .app-list-card.p-card{transition:all .3s}"]})}return p})()}}]);