import { Component, inject, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { AppStoreService } from './app-store.service';
import { SelectButtonModule } from 'primeng/selectbutton';
import { ButtonModule } from 'primeng/button';
import { InputTextModule } from 'primeng/inputtext';
import { DividerModule } from 'primeng/divider';
import { AvatarModule } from 'primeng/avatar';
import { SharedService } from '@his-base/shared';
import { CardListComponent } from '@his-directive/card-list/dist/card-list';
import { WsNatsService } from './ws-nats.service';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "primeng/button";
import * as i3 from "primeng/api";
import * as i4 from "primeng/divider";
import * as i5 from "primeng/selectbutton";
import * as i6 from "@angular/forms";
import * as i7 from "primeng/inputtext";
export class AppStoreComponent {
    constructor() {
        this.isGridView = signal(true);
        this.appStoreService = inject(AppStoreService);
        this.#sharedService = inject(SharedService);
        this.#wsNatsService = inject(WsNatsService);
        this.Options = [
            { icon: 'material-symbols-outlined', label: 'grid_view', value: 'grid' },
            { icon: 'material-symbols-outlined', label: 'view_agenda', value: 'list' },
        ];
        this.value = 'grid';
    }
    #sharedService;
    #wsNatsService;
    /** 返回上一頁
      * @memberof AppStoreComponent
    */
    onBackClick() {
        window.history.back();
    }
    /** 選擇應用程式列表顯示方式
      * @memberof AppStoreComponent
    */
    onSelectedChange() {
        if (this.value === 'grid') {
            this.isGridView.set(true);
        }
        else {
            this.isGridView.set(false);
        }
    }
    // eslint-disable-next-line @angular-eslint/use-lifecycle-interface
    async ngOnInit() {
        await this.#wsNatsService.connect();
        await this.appStoreService.initAppStore();
        // console.log(this.#sharedService.getValue(history.state.token));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.8", ngImport: i0, type: AppStoreComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.8", type: AppStoreComponent, isStandalone: true, selector: "his-app-store", ngImport: i0, template: "<!-- eslint-disable @angular-eslint/template/elements-content -->\n<div class=\"content-container\">\n  <div class=\"top-bar-container\">\n      <!-- <p-avatar\n        image=\"{{ userInfoService.userImage().image }}\"\n        styleClass=\"mr-2\"\n        size=\"xlarge\"\n        shape=\"circle\"\n      ></p-avatar> -->\n      <!-- <div class=\"title\" i18n>{{ userInfoService.userInfo().userCode.display }},\u6B61\u8FCE\u56DE\u4F86</div> -->\n  </div>\n  <div class=\"toolbar-container\">\n    <div class=\"icon-container title-box\">\n      <button\n        pButton\n        pRipple\n        type=\"button\"\n        icon=\"pi pi-angle-left\"\n        class=\"p-button-rounded p-button-secondary p-button-outlined\"\n        (click)=\"onBackClick()\"\n      ></button>\n      <div><h3>\u7A0B\u5F0F\u96C6</h3></div>\n    </div>\n    <div class=\"icon-container\">\n        <span class=\"p-input-icon-left\">\n          <i class=\"pi pi-search\"></i>\n          <input type=\"text\"  pInputText placeholder=\"\u67E5\u8A62\" />\n        </span>\n      <p-selectButton\n        [options]=\"Options\"\n        [(ngModel)]=\"value\"\n        optionLabel=\"name\"\n        optionValue=\"value\"\n        (onOptionClick)=\"onSelectedChange()\"\n      >\n      <ng-template let-item pTemplate>\n        <span [class]=\"item.icon\"> {{ item.label }} </span>\n      </ng-template>\n      </p-selectButton>\n    </div>\n  </div>\n  <ng-container *ngIf=\"isGridView(); else listView\">\n    <div class=\"appstore-container\">\n      <p-divider class=\"first-class\"></p-divider>\n      <div class=\"flex flex-wrap card-content\">\n        <ng-container\n          *ngFor=\"let myAppStore of appStoreService.myAppStores()\"\n        >\n          <his-card-list\n            class=\"grid-style\"\n            [myAppStore]=\"myAppStore\"\n            (setChange)=\"appStoreService.onFavoriteClick($event)\"\n            (clickCard)=\"appStoreService.onNavAppClick($event)\"\n            >\n          </his-card-list>\n        </ng-container>\n      </div>\n    </div>\n  </ng-container>\n  <ng-template #listView>\n    <div class=\"appstore-container listView\">\n      <p-divider class=\"first-class\"></p-divider>\n      <div class=\"flex flex-wrap list-content\">\n        <ng-container\n          *ngFor=\"let myAppStore of appStoreService.myAppStores()\"\n        >\n          <his-card-list\n            class=\"list-style\"\n            [myAppStore]=\"myAppStore\"\n            [isListView]=\"true\"\n            (setChange)=\"appStoreService.onFavoriteClick($event)\"\n            (clickCard)=\"appStoreService.onNavAppClick($event)\"\n            >\n          </his-card-list>\n        </ng-container>\n      </div>\n      </div>\n  </ng-template>\n</div>\n\n\n\n\n\n", styles: [":host ::ng-deep .grid-style{margin:6px;width:calc(20% - 12px);max-width:320px}:host ::ng-deep .grid-style.second-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--tertiary-main)}:host ::ng-deep .grid-style.third-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--indigo-500)}:host ::ng-deep .grid-style.fourth-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--orange-500)}:host ::ng-deep .list-style .p-image.p-component{width:56px;height:56px}:host ::ng-deep .p-selectbutton .p-button{border-radius:0}:host ::ng-deep .p-selectbutton .p-button:first-child{border-radius:6px 0 0 6px}:host ::ng-deep .p-selectbutton .p-button:last-child{border-radius:0 6px 6px 0}.content-container{padding:32px;height:100%;display:flex;flex-direction:column;background-color:var(--surface-ground);overflow:auto}.appstore-container{padding:var(--spacing-xs) var(--spacing-lg)}.appstore-container.listView{width:100%;margin:0 auto}.appstore-container .card-content{width:95%;margin:0 auto;transform:translate(-6px);padding-bottom:var(--spacing-md)}.appstore-container .list-content{gap:12px}.top-bar-container{display:flex;flex-direction:row;align-items:center}.icon-container{display:flex;justify-content:space-between;align-items:center;gap:8px}.icon-container h3{font-size:1.5rem;font-style:normal;font-weight:700;line-height:2rem;letter-spacing:.03rem;color:var(--surface-on-surface)}.list-style{cursor:pointer;width:100%}:host ::ng-deep .p-buttonset .p-button-icon-only{justify-content:center;width:2rem;height:2rem}:host ::ng-deep .p-buttonset .p-button-icon-only .p-button-icon{font-size:1rem;padding-left:3px}:host ::ng-deep .p-divider.p-divider-horizontal{margin:12px 0}:host ::ng-deep .first-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--primary-main);border-width:4px}:host ::ng-deep .second-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--tertiary-main);border-width:4px}:host ::ng-deep .third-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--indigo-500);border-width:4px}:host ::ng-deep .fourth-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--orange-500);border-width:4px}.title{padding-left:24px;font-size:28px;font-weight:700;line-height:40px;letter-spacing:1.12px;color:var(--primary-main)}.toolbar-container{padding:var(--spacing-xs) var(--spacing-lg);display:flex;justify-content:space-between;width:100%;margin:var(--spacing-lg) 0 var(--spacing-sm)}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: ButtonModule }, { kind: "directive", type: i2.ButtonDirective, selector: "[pButton]", inputs: ["iconPos", "loadingIcon", "label", "icon", "loading"] }, { kind: "directive", type: i3.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "ngmodule", type: DividerModule }, { kind: "component", type: i4.Divider, selector: "p-divider", inputs: ["style", "styleClass", "layout", "type", "align"] }, { kind: "ngmodule", type: SelectButtonModule }, { kind: "component", type: i5.SelectButton, selector: "p-selectButton", inputs: ["options", "optionLabel", "optionValue", "optionDisabled", "tabindex", "multiple", "style", "styleClass", "ariaLabelledBy", "disabled", "dataKey"], outputs: ["onOptionClick", "onChange"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i6.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i6.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: InputTextModule }, { kind: "directive", type: i7.InputText, selector: "[pInputText]" }, { kind: "ngmodule", type: AvatarModule }, { kind: "component", type: CardListComponent, selector: "his-card-list", inputs: ["myAppStore", "isListView", "headerTemplate", "bodyTemplate", "footerTemplate"], outputs: ["setChange", "clickCard"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.8", ngImport: i0, type: AppStoreComponent, decorators: [{
            type: Component,
            args: [{ selector: 'his-app-store', standalone: true, imports: [
                        CommonModule,
                        ButtonModule,
                        DividerModule,
                        SelectButtonModule,
                        FormsModule,
                        InputTextModule,
                        AvatarModule,
                        CardListComponent
                    ], template: "<!-- eslint-disable @angular-eslint/template/elements-content -->\n<div class=\"content-container\">\n  <div class=\"top-bar-container\">\n      <!-- <p-avatar\n        image=\"{{ userInfoService.userImage().image }}\"\n        styleClass=\"mr-2\"\n        size=\"xlarge\"\n        shape=\"circle\"\n      ></p-avatar> -->\n      <!-- <div class=\"title\" i18n>{{ userInfoService.userInfo().userCode.display }},\u6B61\u8FCE\u56DE\u4F86</div> -->\n  </div>\n  <div class=\"toolbar-container\">\n    <div class=\"icon-container title-box\">\n      <button\n        pButton\n        pRipple\n        type=\"button\"\n        icon=\"pi pi-angle-left\"\n        class=\"p-button-rounded p-button-secondary p-button-outlined\"\n        (click)=\"onBackClick()\"\n      ></button>\n      <div><h3>\u7A0B\u5F0F\u96C6</h3></div>\n    </div>\n    <div class=\"icon-container\">\n        <span class=\"p-input-icon-left\">\n          <i class=\"pi pi-search\"></i>\n          <input type=\"text\"  pInputText placeholder=\"\u67E5\u8A62\" />\n        </span>\n      <p-selectButton\n        [options]=\"Options\"\n        [(ngModel)]=\"value\"\n        optionLabel=\"name\"\n        optionValue=\"value\"\n        (onOptionClick)=\"onSelectedChange()\"\n      >\n      <ng-template let-item pTemplate>\n        <span [class]=\"item.icon\"> {{ item.label }} </span>\n      </ng-template>\n      </p-selectButton>\n    </div>\n  </div>\n  <ng-container *ngIf=\"isGridView(); else listView\">\n    <div class=\"appstore-container\">\n      <p-divider class=\"first-class\"></p-divider>\n      <div class=\"flex flex-wrap card-content\">\n        <ng-container\n          *ngFor=\"let myAppStore of appStoreService.myAppStores()\"\n        >\n          <his-card-list\n            class=\"grid-style\"\n            [myAppStore]=\"myAppStore\"\n            (setChange)=\"appStoreService.onFavoriteClick($event)\"\n            (clickCard)=\"appStoreService.onNavAppClick($event)\"\n            >\n          </his-card-list>\n        </ng-container>\n      </div>\n    </div>\n  </ng-container>\n  <ng-template #listView>\n    <div class=\"appstore-container listView\">\n      <p-divider class=\"first-class\"></p-divider>\n      <div class=\"flex flex-wrap list-content\">\n        <ng-container\n          *ngFor=\"let myAppStore of appStoreService.myAppStores()\"\n        >\n          <his-card-list\n            class=\"list-style\"\n            [myAppStore]=\"myAppStore\"\n            [isListView]=\"true\"\n            (setChange)=\"appStoreService.onFavoriteClick($event)\"\n            (clickCard)=\"appStoreService.onNavAppClick($event)\"\n            >\n          </his-card-list>\n        </ng-container>\n      </div>\n      </div>\n  </ng-template>\n</div>\n\n\n\n\n\n", styles: [":host ::ng-deep .grid-style{margin:6px;width:calc(20% - 12px);max-width:320px}:host ::ng-deep .grid-style.second-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--tertiary-main)}:host ::ng-deep .grid-style.third-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--indigo-500)}:host ::ng-deep .grid-style.fourth-class .p-image.p-component{background:linear-gradient(0deg,rgba(0,0,0,.2) 0%,rgba(0,0,0,0) 100%),var(--orange-500)}:host ::ng-deep .list-style .p-image.p-component{width:56px;height:56px}:host ::ng-deep .p-selectbutton .p-button{border-radius:0}:host ::ng-deep .p-selectbutton .p-button:first-child{border-radius:6px 0 0 6px}:host ::ng-deep .p-selectbutton .p-button:last-child{border-radius:0 6px 6px 0}.content-container{padding:32px;height:100%;display:flex;flex-direction:column;background-color:var(--surface-ground);overflow:auto}.appstore-container{padding:var(--spacing-xs) var(--spacing-lg)}.appstore-container.listView{width:100%;margin:0 auto}.appstore-container .card-content{width:95%;margin:0 auto;transform:translate(-6px);padding-bottom:var(--spacing-md)}.appstore-container .list-content{gap:12px}.top-bar-container{display:flex;flex-direction:row;align-items:center}.icon-container{display:flex;justify-content:space-between;align-items:center;gap:8px}.icon-container h3{font-size:1.5rem;font-style:normal;font-weight:700;line-height:2rem;letter-spacing:.03rem;color:var(--surface-on-surface)}.list-style{cursor:pointer;width:100%}:host ::ng-deep .p-buttonset .p-button-icon-only{justify-content:center;width:2rem;height:2rem}:host ::ng-deep .p-buttonset .p-button-icon-only .p-button-icon{font-size:1rem;padding-left:3px}:host ::ng-deep .p-divider.p-divider-horizontal{margin:12px 0}:host ::ng-deep .first-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--primary-main);border-width:4px}:host ::ng-deep .second-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--tertiary-main);border-width:4px}:host ::ng-deep .third-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--indigo-500);border-width:4px}:host ::ng-deep .fourth-class .p-divider-solid.p-divider-horizontal:before{border-color:var(--orange-500);border-width:4px}.title{padding-left:24px;font-size:28px;font-weight:700;line-height:40px;letter-spacing:1.12px;color:var(--primary-main)}.toolbar-container{padding:var(--spacing-xs) var(--spacing-lg);display:flex;justify-content:space-between;width:100%;margin:var(--spacing-lg) 0 var(--spacing-sm)}\n"] }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLXN0b3JlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2FwcC1zdG9yZS9zcmMvbGliL2FwcC1zdG9yZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9hcHAtc3RvcmUvc3JjL2xpYi9hcHAtc3RvcmUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzFELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzFELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDcEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0seUNBQXlDLENBQUE7QUFDM0UsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDOzs7Ozs7Ozs7QUFzQmxELE1BQU0sT0FBTyxpQkFBaUI7SUFoQjlCO1FBa0JFLGVBQVUsR0FBRyxNQUFNLENBQVUsSUFBSSxDQUFDLENBQUM7UUFDbkMsb0JBQWUsR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDMUMsbUJBQWMsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDdkMsbUJBQWMsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDdkMsWUFBTyxHQUFVO1lBQ2YsRUFBRSxJQUFJLEVBQUUsMkJBQTJCLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFDO1lBQ3ZFLEVBQUUsSUFBSSxFQUFFLDJCQUEyQixFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBQztTQUMxRSxDQUFDO1FBQ0YsVUFBSyxHQUFHLE1BQU0sQ0FBQztLQTRCaEI7SUFsQ0MsY0FBYyxDQUF5QjtJQUN2QyxjQUFjLENBQXlCO0lBUXZDOztNQUVFO0lBQ0YsV0FBVztRQUNULE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVEOztNQUVFO0lBQ0YsZ0JBQWdCO1FBQ2QsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLE1BQU0sRUFBRTtZQUN6QixJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMzQjthQUFNO1lBQ0wsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDNUI7SUFDSCxDQUFDO0lBRUQsbUVBQW1FO0lBQ25FLEtBQUssQ0FBQyxRQUFRO1FBQ1osTUFBTSxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3BDLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUMxQyxrRUFBa0U7SUFDcEUsQ0FBQzs4R0FwQ1UsaUJBQWlCO2tHQUFqQixpQkFBaUIseUVDakM5Qiwrc0ZBb0ZBLDhsRkQvREksWUFBWSwrUEFDWixZQUFZLDZRQUNaLGFBQWEsMEpBQ2Isa0JBQWtCLDZTQUNsQixXQUFXLDhWQUNYLGVBQWUsbUdBQ2YsWUFBWSwrQkFDWixpQkFBaUI7OzJGQUtSLGlCQUFpQjtrQkFoQjdCLFNBQVM7K0JBQ0UsZUFBZSxjQUNiLElBQUksV0FDUDt3QkFDUCxZQUFZO3dCQUNaLFlBQVk7d0JBQ1osYUFBYTt3QkFDYixrQkFBa0I7d0JBQ2xCLFdBQVc7d0JBQ1gsZUFBZTt3QkFDZixZQUFZO3dCQUNaLGlCQUFpQjtxQkFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIGluamVjdCwgc2lnbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBBcHBTdG9yZVNlcnZpY2UgfSBmcm9tICcuL2FwcC1zdG9yZS5zZXJ2aWNlJztcbmltcG9ydCB7IFNlbGVjdEJ1dHRvbk1vZHVsZSB9IGZyb20gJ3ByaW1lbmcvc2VsZWN0YnV0dG9uJztcbmltcG9ydCB7IEJ1dHRvbk1vZHVsZSB9IGZyb20gJ3ByaW1lbmcvYnV0dG9uJztcbmltcG9ydCB7IElucHV0VGV4dE1vZHVsZSB9IGZyb20gJ3ByaW1lbmcvaW5wdXR0ZXh0JztcbmltcG9ydCB7IERpdmlkZXJNb2R1bGUgfSBmcm9tICdwcmltZW5nL2RpdmlkZXInO1xuaW1wb3J0IHsgQXZhdGFyTW9kdWxlIH0gZnJvbSAncHJpbWVuZy9hdmF0YXInO1xuaW1wb3J0IHsgU2hhcmVkU2VydmljZSB9IGZyb20gJ0BoaXMtYmFzZS9zaGFyZWQnO1xuaW1wb3J0IHsgQ2FyZExpc3RDb21wb25lbnQgfSBmcm9tICdAaGlzLWRpcmVjdGl2ZS9jYXJkLWxpc3QvZGlzdC9jYXJkLWxpc3QnXG5pbXBvcnQgeyBXc05hdHNTZXJ2aWNlIH0gZnJvbSAnLi93cy1uYXRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgVXNlckFjY291bnQgfSBmcm9tICdAaGlzLXZpZXdtb2RlbC9hcHAtcG9ydGFsL2Rpc3QnO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuXG5cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnaGlzLWFwcC1zdG9yZScsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgQnV0dG9uTW9kdWxlLFxuICAgIERpdmlkZXJNb2R1bGUsXG4gICAgU2VsZWN0QnV0dG9uTW9kdWxlLFxuICAgIEZvcm1zTW9kdWxlLFxuICAgIElucHV0VGV4dE1vZHVsZSxcbiAgICBBdmF0YXJNb2R1bGUsXG4gICAgQ2FyZExpc3RDb21wb25lbnRcbiAgXSxcbiAgdGVtcGxhdGVVcmw6ICcuL2FwcC1zdG9yZS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2FwcC1zdG9yZS5jb21wb25lbnQuc2NzcyddLFxufSlcbmV4cG9ydCBjbGFzcyBBcHBTdG9yZUNvbXBvbmVudCB7XG5cbiAgaXNHcmlkVmlldyA9IHNpZ25hbDxib29sZWFuPih0cnVlKTtcbiAgYXBwU3RvcmVTZXJ2aWNlID0gaW5qZWN0KEFwcFN0b3JlU2VydmljZSk7XG4gICNzaGFyZWRTZXJ2aWNlID0gaW5qZWN0KFNoYXJlZFNlcnZpY2UpO1xuICAjd3NOYXRzU2VydmljZSA9IGluamVjdChXc05hdHNTZXJ2aWNlKTtcbiAgT3B0aW9uczogYW55W10gPSBbXG4gICAgeyBpY29uOiAnbWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCcsIGxhYmVsOiAnZ3JpZF92aWV3JyAsdmFsdWU6ICdncmlkJ30sXG4gICAgeyBpY29uOiAnbWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCcsIGxhYmVsOiAndmlld19hZ2VuZGEnICx2YWx1ZTogJ2xpc3QnfSxcbiAgXTtcbiAgdmFsdWUgPSAnZ3JpZCc7XG5cblxuICAvKiog6L+U5Zue5LiK5LiA6aCBXG4gICAgKiBAbWVtYmVyb2YgQXBwU3RvcmVDb21wb25lbnRcbiAgKi9cbiAgb25CYWNrQ2xpY2soKSB7XG4gICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICB9XG5cbiAgLyoqIOmBuOaTh+aHieeUqOeoi+W8j+WIl+ihqOmhr+ekuuaWueW8j1xuICAgICogQG1lbWJlcm9mIEFwcFN0b3JlQ29tcG9uZW50XG4gICovXG4gIG9uU2VsZWN0ZWRDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMudmFsdWUgPT09ICdncmlkJykge1xuICAgICAgdGhpcy5pc0dyaWRWaWV3LnNldCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pc0dyaWRWaWV3LnNldChmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC91c2UtbGlmZWN5Y2xlLWludGVyZmFjZVxuICBhc3luYyBuZ09uSW5pdCgpe1xuICAgIGF3YWl0IHRoaXMuI3dzTmF0c1NlcnZpY2UuY29ubmVjdCgpO1xuICAgIGF3YWl0IHRoaXMuYXBwU3RvcmVTZXJ2aWNlLmluaXRBcHBTdG9yZSgpO1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuI3NoYXJlZFNlcnZpY2UuZ2V0VmFsdWUoaGlzdG9yeS5zdGF0ZS50b2tlbikpO1xuICB9XG5cbn1cbiIsIjwhLS0gZXNsaW50LWRpc2FibGUgQGFuZ3VsYXItZXNsaW50L3RlbXBsYXRlL2VsZW1lbnRzLWNvbnRlbnQgLS0+XG48ZGl2IGNsYXNzPVwiY29udGVudC1jb250YWluZXJcIj5cbiAgPGRpdiBjbGFzcz1cInRvcC1iYXItY29udGFpbmVyXCI+XG4gICAgICA8IS0tIDxwLWF2YXRhclxuICAgICAgICBpbWFnZT1cInt7IHVzZXJJbmZvU2VydmljZS51c2VySW1hZ2UoKS5pbWFnZSB9fVwiXG4gICAgICAgIHN0eWxlQ2xhc3M9XCJtci0yXCJcbiAgICAgICAgc2l6ZT1cInhsYXJnZVwiXG4gICAgICAgIHNoYXBlPVwiY2lyY2xlXCJcbiAgICAgID48L3AtYXZhdGFyPiAtLT5cbiAgICAgIDwhLS0gPGRpdiBjbGFzcz1cInRpdGxlXCIgaTE4bj57eyB1c2VySW5mb1NlcnZpY2UudXNlckluZm8oKS51c2VyQ29kZS5kaXNwbGF5IH19LOatoei/juWbnuS+hjwvZGl2PiAtLT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJ0b29sYmFyLWNvbnRhaW5lclwiPlxuICAgIDxkaXYgY2xhc3M9XCJpY29uLWNvbnRhaW5lciB0aXRsZS1ib3hcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgcEJ1dHRvblxuICAgICAgICBwUmlwcGxlXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBpY29uPVwicGkgcGktYW5nbGUtbGVmdFwiXG4gICAgICAgIGNsYXNzPVwicC1idXR0b24tcm91bmRlZCBwLWJ1dHRvbi1zZWNvbmRhcnkgcC1idXR0b24tb3V0bGluZWRcIlxuICAgICAgICAoY2xpY2spPVwib25CYWNrQ2xpY2soKVwiXG4gICAgICA+PC9idXR0b24+XG4gICAgICA8ZGl2PjxoMz7nqIvlvI/pm4Y8L2gzPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJpY29uLWNvbnRhaW5lclwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInAtaW5wdXQtaWNvbi1sZWZ0XCI+XG4gICAgICAgICAgPGkgY2xhc3M9XCJwaSBwaS1zZWFyY2hcIj48L2k+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgIHBJbnB1dFRleHQgcGxhY2Vob2xkZXI9XCLmn6XoqaJcIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8cC1zZWxlY3RCdXR0b25cbiAgICAgICAgW29wdGlvbnNdPVwiT3B0aW9uc1wiXG4gICAgICAgIFsobmdNb2RlbCldPVwidmFsdWVcIlxuICAgICAgICBvcHRpb25MYWJlbD1cIm5hbWVcIlxuICAgICAgICBvcHRpb25WYWx1ZT1cInZhbHVlXCJcbiAgICAgICAgKG9uT3B0aW9uQ2xpY2spPVwib25TZWxlY3RlZENoYW5nZSgpXCJcbiAgICAgID5cbiAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtaXRlbSBwVGVtcGxhdGU+XG4gICAgICAgIDxzcGFuIFtjbGFzc109XCJpdGVtLmljb25cIj4ge3sgaXRlbS5sYWJlbCB9fSA8L3NwYW4+XG4gICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgPC9wLXNlbGVjdEJ1dHRvbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJpc0dyaWRWaWV3KCk7IGVsc2UgbGlzdFZpZXdcIj5cbiAgICA8ZGl2IGNsYXNzPVwiYXBwc3RvcmUtY29udGFpbmVyXCI+XG4gICAgICA8cC1kaXZpZGVyIGNsYXNzPVwiZmlyc3QtY2xhc3NcIj48L3AtZGl2aWRlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtd3JhcCBjYXJkLWNvbnRlbnRcIj5cbiAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICpuZ0Zvcj1cImxldCBteUFwcFN0b3JlIG9mIGFwcFN0b3JlU2VydmljZS5teUFwcFN0b3JlcygpXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxoaXMtY2FyZC1saXN0XG4gICAgICAgICAgICBjbGFzcz1cImdyaWQtc3R5bGVcIlxuICAgICAgICAgICAgW215QXBwU3RvcmVdPVwibXlBcHBTdG9yZVwiXG4gICAgICAgICAgICAoc2V0Q2hhbmdlKT1cImFwcFN0b3JlU2VydmljZS5vbkZhdm9yaXRlQ2xpY2soJGV2ZW50KVwiXG4gICAgICAgICAgICAoY2xpY2tDYXJkKT1cImFwcFN0b3JlU2VydmljZS5vbk5hdkFwcENsaWNrKCRldmVudClcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgIDwvaGlzLWNhcmQtbGlzdD5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9uZy1jb250YWluZXI+XG4gIDxuZy10ZW1wbGF0ZSAjbGlzdFZpZXc+XG4gICAgPGRpdiBjbGFzcz1cImFwcHN0b3JlLWNvbnRhaW5lciBsaXN0Vmlld1wiPlxuICAgICAgPHAtZGl2aWRlciBjbGFzcz1cImZpcnN0LWNsYXNzXCI+PC9wLWRpdmlkZXI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LXdyYXAgbGlzdC1jb250ZW50XCI+XG4gICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAqbmdGb3I9XCJsZXQgbXlBcHBTdG9yZSBvZiBhcHBTdG9yZVNlcnZpY2UubXlBcHBTdG9yZXMoKVwiXG4gICAgICAgID5cbiAgICAgICAgICA8aGlzLWNhcmQtbGlzdFxuICAgICAgICAgICAgY2xhc3M9XCJsaXN0LXN0eWxlXCJcbiAgICAgICAgICAgIFtteUFwcFN0b3JlXT1cIm15QXBwU3RvcmVcIlxuICAgICAgICAgICAgW2lzTGlzdFZpZXddPVwidHJ1ZVwiXG4gICAgICAgICAgICAoc2V0Q2hhbmdlKT1cImFwcFN0b3JlU2VydmljZS5vbkZhdm9yaXRlQ2xpY2soJGV2ZW50KVwiXG4gICAgICAgICAgICAoY2xpY2tDYXJkKT1cImFwcFN0b3JlU2VydmljZS5vbk5hdkFwcENsaWNrKCRldmVudClcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgIDwvaGlzLWNhcmQtbGlzdD5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICA8L25nLXRlbXBsYXRlPlxuPC9kaXY+XG5cblxuXG5cblxuIl19