{"version":3,"file":"his-view-app-store.mjs","sources":["../../../app-store/src/environments/environment.ts","../../../app-store/src/lib/ws-nats.service.ts","../../../app-store/src/lib/app-store.service.ts","../../../app-store/src/lib/app-store.component.ts","../../../app-store/src/lib/app-store.component.html","../../../app-store/src/public-api.ts","../../../app-store/src/his-view-app-store.ts"],"sourcesContent":["export const environment = {\n  wsUrl: 'ws://localhost:8080'\n}\n","import { Injectable, inject } from '@angular/core';\nimport { JetstreamWsService } from '@his-base/jetstream-ws/dist';\nimport { environment } from '../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WsNatsService {\n\n  #natsUrl = environment.wsUrl;\n\n  #jetStreamWsService = inject(JetstreamWsService);\n\n  async connect() {\n    console.log('connected')\n    await this.#jetStreamWsService.connect(this.#natsUrl);\n  }\n\n  async disconnect() {\n    // 連線關閉前，會先將目前訂閱給排空\n    await this.#jetStreamWsService.drain();\n  }\n}\n","import { UserAccount } from '@his-viewmodel/app-portal/dist/app/user-account';\nimport { lastValueFrom } from 'rxjs';\nimport { Injectable, inject, signal } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UserAppStore } from \"@his-viewmodel/app-portal/dist\";\nimport { MyAppStore } from \"@his-viewmodel/app-portal/dist\";\nimport { AppStore } from \"@his-viewmodel/app-portal/dist\";\nimport { JSONCodec, JetstreamWsService, TransferInfo } from '@his-base/jetstream-ws/dist';\nimport { SharedService } from '@his-base/shared';\nimport { WsNatsService } from './ws-nats.service';\nimport * as _ from 'lodash';\n\n\ntype ExtendedMyAppStore = MyAppStore & {\n  isOpen: boolean;\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppStoreService {\n\n  /** 目前使用者應用程式原始內容\n   * @type {ExtendedMyAppStore}\n   * @memberof AppStoreService\n  */\n  myAppStores = signal<ExtendedMyAppStore[]>([])\n\n\n  /** 所有使用者的應用程式\n   * @type {UserAppStore}\n   * @memberof AppStoreService\n   */\n  userAppStores = signal<UserAppStore[]>([])\n\n  appOpenedIndex = [] as AppStore[]\n\n  #router = inject(Router);\n  #jetStreamWsService = inject(JetstreamWsService);\n  #sharedService = inject(SharedService);\n  #wsNatsService = inject(WsNatsService);\n\n  /** 擴展MyAppStore到ExtendedMyAppStore\n   * @param {MyAppStore[]} appStores\n   * @memberof AppStoreService\n   */\n  convertToExtended(appStores: MyAppStore[]): ExtendedMyAppStore[] {\n      return appStores.map(appStore => ({...appStore,isOpen: true}));\n  }\n\n  /** 取得全部應用程式清單\n   * @param {string} payload\n   * @memberof AppStoreService\n   */\n  async getAppStoreList(payload: string) {\n    // @ts-ignore\n    // 需帶入指定的主題跟要傳遞的資料\n    this.#jetStreamWsService.request('UserAppStore.myAppStore', payload).subscribe((result: any) => {\n      this.myAppStores.set(this.convertToExtended(result as unknown as MyAppStore[]))\n    });\n  }\n\n  /** 取得全部使用者應用程式清單\n    * @param {string} payload\n    * @memberof AppStoreService\n    */\n  async getUserStoreList(payload: string) {\n    // @ts-ignore\n    // 需帶入指定的主題跟要傳遞的資料\n    this.#jetStreamWsService.request('UserAppStore.list', payload).subscribe((result: any) => {\n      this.userAppStores.set(result as unknown as UserAppStore[])\n    })\n  }\n\n  /** 取得全部應用程式清單\n   * @param {string} keyword\n   * @memberof AppStoreService\n   */\n  getAppStoresByKeyword(keyword?: string): MyAppStore[] {\n    if (keyword) {\n      return this.myAppStores().filter((myAppStore) => myAppStore.title.includes(keyword))\n    }\n    else {\n      return this.myAppStores()\n    }\n  }\n\n  /** 取得目前應用程式資料\n   * @param {string} appUrl\n   * @memberof AppStoreService\n   */\n  getAppStore(appUrl: string): MyAppStore {\n    const myAppStore = this.myAppStores().filter((myAppStore) => myAppStore.url === appUrl)[0]\n    return myAppStore;\n  }\n\n  /** publish 更新後使用者最愛應用程式到NATS\n   * @param {UserAppStore} payload\n   * @memberof AppStoreService\n   */\n  async pubUserAppStoreFavorite(payload: UserAppStore) {\n    // 需帶入指定發布主題以及要傳送的訊息\n    await this.#jetStreamWsService.publish('UserAppStore.update.isFavorite', payload);\n  }\n\n  /** 初始化MyAppStore\n   * @param {UserAccount} userAccount\n   * @memberof AppStoreService\n   */\n  async initAppStore() {\n    const userAccount:UserAccount =  await this.#sharedService.getValue(history.state.token);\n    console.log(\"get token\", userAccount)\n    await this.getAppStoreList(userAccount.userCode.code)\n    await this.getUserStoreList(userAccount.userCode.code)\n  }\n\n  /** 應用程式點擊我的最愛icon\n   * @param {string} appId\n   * @memberof AppStoreService\n   */\n  onFavoriteClick(appId: string):void {\n    this.myAppStores.update(myAppStoreArray => {\n      console.log(\"userAppStores\", this.userAppStores())\n      return myAppStoreArray.map(myAppStore => {\n        if (myAppStore.appId === appId) {\n          // 切换 isFavorite 值\n          myAppStore.isFavorite = !myAppStore.isFavorite;\n          // 在 userAppStores 中找到相應的項目更新它的 isFavorite\n          const userAppStore = this.userAppStores().find(userAppStore => userAppStore.appId === appId);\n          console.log('appId', appId);\n          console.log('userAppStoreID', userAppStore?.appId);\n          if (userAppStore) {\n              userAppStore.isFavorite = myAppStore.isFavorite;\n              this.pubUserAppStoreFavorite(userAppStore)\n            }\n        }\n        return myAppStore;\n      });\n    });\n  }\n\n  /** 跳轉到module federation page\n   * @param {string} appUrl\n   * @memberof AppStoreService\n   */\n  onNavAppClick(appUrl: number):void{\n    this.#router.navigate([appUrl])\n  }\n\n    /** 設定應用程式關閉\n   * @param {string} appId\n   * @memberof AppStoreService\n  */\n    setAppClose(appId: string): void {\n      this.myAppStores.update(apps => apps.map(app => { app.appId === appId ? app.isOpen = false : app; return app }))\n      console.log(this.appOpenedIndex)\n\n      if (this.appOpenedIndex.length > 1) {\n        const index = this.appOpenedIndex.findIndex(app => app._id === appId)\n        this.appOpenedIndex.splice(index, 1);\n        console.log(index)\n        console.log(this.appOpenedIndex[this.appOpenedIndex.length - 1])\n        // window.open(this.appOpenedIndex[this.appOpenedIndex.length-1].appUrl,\"_top\")\n        this.#router.navigate([this.appOpenedIndex[this.appOpenedIndex.length - 1].url])\n      }\n      else {\n        this.appOpenedIndex.splice(1, 1);\n        this.#router.navigateByUrl('/home')\n      }\n    }\n}\n\n\n\n\n","import { Component, inject, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AppStoreService } from './app-store.service';\nimport { SelectButtonModule } from 'primeng/selectbutton';\nimport { ButtonModule } from 'primeng/button';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { DividerModule } from 'primeng/divider';\nimport { AvatarModule } from 'primeng/avatar';\nimport { SharedService } from '@his-base/shared';\nimport { CardListComponent } from '@his-directive/card-list/dist/card-list'\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { UserAccountService } from 'dist/service';\nimport * as SelectButtonOption from '../assets/option/ SelectButtonOption.json'\nimport * as _ from 'lodash';\n\n\n\n@Component({\n  selector: 'his-app-store',\n  standalone: true,\n  imports: [\n    CommonModule,\n    ButtonModule,\n    DividerModule,\n    SelectButtonModule,\n    FormsModule,\n    InputTextModule,\n    AvatarModule,\n    CardListComponent,\n    TranslateModule\n  ],\n  templateUrl: './app-store.component.html',\n  styleUrls: ['./app-store.component.scss'],\n})\nexport class AppStoreComponent {\n\n  isGridView = signal<boolean>(true);\n  Options: string[] = [];\n  value = 'grid';\n  appStoreService = inject(AppStoreService);\n  userAccountService = inject(UserAccountService);\n  #sharedService = inject(SharedService);\n  #translate = inject(TranslateService)\n\n\n\n\n  async ngOnInit(){\n    this.#translate.setDefaultLang(`zh-Hant`)\n    this.Options = Object.values(SelectButtonOption)[0] as unknown as string[];\n  }\n\n  /** 返回上一頁\n    * @memberof AppStoreComponent\n  */\n  onBackClick() {\n    window.history.back();\n  }\n\n  /** 選擇應用程式列表顯示方式\n    * @memberof AppStoreComponent\n  */\n  onSelectedChange() {\n    if (this.value === 'grid') {\n      this.isGridView.set(true);\n    } else {\n      this.isGridView.set(false);\n    }\n  }\n\n}\n","<!-- eslint-disable @angular-eslint/template/elements-content -->\n<div class=\"content-container\">\n  <div class=\"top-bar-container\">\n    <p-avatar\n    image=\"{{ userAccountService.userImage().image }}\"\n    styleClass=\"mr-2\"\n    size=\"xlarge\"\n    shape=\"circle\"\n  ></p-avatar>\n  <div class=\"title\">\n    {{ userAccountService.userAccount().userCode.display }},{{'歡迎回來'| translate}}\n  </div>\n  </div>\n  <div class=\"toolbar-container\">\n    <div class=\"icon-container title-box\">\n      <button\n        pButton\n        pRipple\n        type=\"button\"\n        icon=\"pi pi-angle-left\"\n        class=\"p-button-rounded p-button-secondary p-button-outlined\"\n        (click)=\"onBackClick()\"\n      ></button>\n      <div><h3>程式集</h3></div>\n    </div>\n    <div class=\"icon-container\">\n        <span class=\"p-input-icon-left\">\n          <i class=\"pi pi-search\"></i>\n          <input type=\"text\"  pInputText placeholder=\"查詢\" />\n        </span>\n      <p-selectButton\n        [options]=\"Options\"\n        [(ngModel)]=\"value\"\n        optionLabel=\"name\"\n        optionValue=\"value\"\n        (onOptionClick)=\"onSelectedChange()\"\n      >\n      <ng-template let-item pTemplate>\n        <span [class]=\"item.icon\"> {{ item.label }} </span>\n      </ng-template>\n      </p-selectButton>\n    </div>\n  </div>\n  <ng-container *ngIf=\"isGridView(); else listView\">\n    <div class=\"appstore-container\">\n      <p-divider class=\"first-class\"></p-divider>\n      <div class=\"flex flex-wrap card-content\">\n        <ng-container\n          *ngFor=\"let myAppStore of appStoreService.myAppStores()\"\n        >\n          <his-card-list\n            class=\"grid-style\"\n            [myAppStore]=\"myAppStore\"\n            (setChange)=\"appStoreService.onFavoriteClick($event)\"\n            (clickCard)=\"appStoreService.onNavAppClick($event)\"\n            >\n          </his-card-list>\n        </ng-container>\n      </div>\n    </div>\n  </ng-container>\n  <ng-template #listView>\n    <div class=\"appstore-container listView\">\n      <p-divider class=\"first-class\"></p-divider>\n      <div class=\"flex flex-wrap list-content\">\n        <ng-container\n          *ngFor=\"let myAppStore of appStoreService.myAppStores()\"\n        >\n          <his-card-list\n            class=\"list-style\"\n            [myAppStore]=\"myAppStore\"\n            [isListView]=\"true\"\n            (setChange)=\"appStoreService.onFavoriteClick($event)\"\n            (clickCard)=\"appStoreService.onNavAppClick($event)\"\n            >\n          </his-card-list>\n        </ng-container>\n      </div>\n      </div>\n  </ng-template>\n</div>\n\n\n\n\n\n","/*\n * Public API Surface of app-store\n */\n\nexport * from './lib/app-store.service';\nexport * from './lib/app-store.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}