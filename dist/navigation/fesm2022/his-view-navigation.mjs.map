{"version":3,"file":"his-view-navigation.mjs","sources":["../../../navigation/src/lib/navigation.service.ts","../../../navigation/src/lib/navigation.component.ts","../../../navigation/src/lib/navigation.component.html","../../../navigation/src/public-api.ts","../../../navigation/src/his-view-navigation.ts"],"sourcesContent":["import { Injectable, Signal, computed, inject,signal } from '@angular/core';\nimport { NavigationEnd, Router, RouterEvent } from '@angular/router';\nimport { filter } from 'rxjs';\nimport { toSignal } from '@angular/core/rxjs-interop';\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavigationService {\n\n  isCollapsed = signal(true);\n  router = inject(Router);\n  event$ = this.router.events.pipe(\n    filter((e): e is NavigationEnd => e instanceof NavigationEnd),\n  );\n  routerSignal: Signal<RouterEvent | undefined> = toSignal(this.event$);\n\n  isShowBody: Signal<boolean> = computed(() => {\n    if (!this.routerSignal()) return false;\n    if (!(this.routerSignal() instanceof NavigationEnd)) return false;\n\n    let event = this.routerSignal() as NavigationEnd;\n    console.log(\"is the view?\", event.urlAfterRedirects !== '/appStore' && event.urlAfterRedirects !== '/home' && event.urlAfterRedirects !== '/news')\n    return event.urlAfterRedirects !== '/appStore' && event.urlAfterRedirects !== '/home' && event.urlAfterRedirects !== '/news';\n  });\n\n\n    /** navigation收合\n    * @memberof NavigationService\n  */\n    onCollapsClick(): void {\n      this.isCollapsed.set(!this.isCollapsed());\n    }\n}\n\n\n","import { Component, EventEmitter, Input, Output, computed, inject, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ButtonModule } from 'primeng/button';\nimport {AppStore} from '@his-viewmodel/app-portal/dist'\nimport { NavigationService } from './navigation.service';\n@Component({\n  selector: 'his-navigation',\n  standalone: true,\n  imports: [CommonModule,ButtonModule],\n  templateUrl: './navigation.component.html',\n  styleUrls: ['./navigation.component.scss'],\n  providers: [NavigationService]\n})\nexport class NavigationComponent {\n\n  @Output() setCollapsed = new EventEmitter<any>;\n\n  appInfo = signal<AppStore>({} as AppStore)\n  navigationService = inject(NavigationService);\n  collapsedButtonIcon = computed(() => {\n    if (\n      !this.navigationService.isCollapsed() &&\n      this.navigationService.isShowBody()\n    ) {\n      console.log('pi pi-angle-double-left')\n      return 'pi pi-angle-double-left';\n    }\n    return 'pi pi-angle-double-right';\n  });\n\n  /** 開合導覽列\n   * @memberof NavigationComponent\n   */\n  changeCollapsed(isCollapsed:boolean): void {\n    this.navigationService.onCollapsClick()\n    this.setCollapsed.emit(!isCollapsed);\n  }\n}\n","\n  <div class=\"navigation-container\">\n    <div class=\"navigation-header\" [ngClass]=\"{'collapsed-inactive': !navigationService.isCollapsed}\">\n      <ng-container *ngIf=\"navigationService.isCollapsed\">\n        <div class=\"m-1\">\n          <span class=\"material-symbols-outlined\">\n            {{appInfo().icon}}\n          </span>\n        </div>\n        <div>\n          <div>{{appInfo().title}}</div>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"navigationService.isShowBody()\">\n        <button\n          pButton\n          pRipple\n          type=\"button\"\n          (click)=\"changeCollapsed(navigationService.isCollapsed())\"\n          icon=\"{{ this.collapsedButtonIcon() }}\"\n          class=\"p-button-rounded p-button-text\"\n        > </button>\n      </ng-container>\n    </div>\n    <!-- <ng-container *ngIf=\"navigationService.isShowBody()\">\n      <his-navigation-body class=\"navigation-body\" [bodyItems]=\"navigationBodyItems()\" [iscollapsed]=\"navigationService.isCollapseNavigation()\"></his-navigation-body>\n    </ng-container>\n    <his-navigation-footer></his-navigation-footer> -->\n  </div>\n\n","/*\n * Public API Surface of navigation\n */\n\nexport * from './lib/navigation.service';\nexport * from './lib/navigation.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;;;;MAOa,iBAAiB,CAAA;AAH9B,IAAA,WAAA,GAAA;AAKE,QAAA,IAAA,CAAA,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,QAAA,IAAA,CAAA,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;QACxB,IAAM,CAAA,MAAA,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAC9B,MAAM,CAAC,CAAC,CAAC,KAAyB,CAAC,YAAY,aAAa,CAAC,CAC9D,CAAC;AACF,QAAA,IAAA,CAAA,YAAY,GAAoC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAEtE,QAAA,IAAA,CAAA,UAAU,GAAoB,QAAQ,CAAC,MAAK;AAC1C,YAAA,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;AAAE,gBAAA,OAAO,KAAK,CAAC;YACvC,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE,YAAY,aAAa,CAAC;AAAE,gBAAA,OAAO,KAAK,CAAC;AAElE,YAAA,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,EAAmB,CAAC;YACjD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC,iBAAiB,KAAK,WAAW,IAAI,KAAK,CAAC,iBAAiB,KAAK,OAAO,IAAI,KAAK,CAAC,iBAAiB,KAAK,OAAO,CAAC,CAAA;AAClJ,YAAA,OAAO,KAAK,CAAC,iBAAiB,KAAK,WAAW,IAAI,KAAK,CAAC,iBAAiB,KAAK,OAAO,IAAI,KAAK,CAAC,iBAAiB,KAAK,OAAO,CAAC;AAC/H,SAAC,CAAC,CAAC;AASJ,KAAA;AANG;;AAEA;IACA,cAAc,GAAA;QACZ,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;KAC3C;8GAxBQ,iBAAiB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA,EAAA;AAAjB,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,iBAAiB,cAFhB,MAAM,EAAA,CAAA,CAAA,EAAA;;2FAEP,iBAAiB,EAAA,UAAA,EAAA,CAAA;kBAH7B,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA,CAAA;;;MCOY,mBAAmB,CAAA;AARhC,IAAA,WAAA,GAAA;QAUY,IAAY,CAAA,YAAA,GAAG,IAAI,YAAiB,CAAC;AAE/C,QAAA,IAAA,CAAA,OAAO,GAAG,MAAM,CAAW,EAAc,CAAC,CAAA;AAC1C,QAAA,IAAA,CAAA,iBAAiB,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC;AAC9C,QAAA,IAAA,CAAA,mBAAmB,GAAG,QAAQ,CAAC,MAAK;AAClC,YAAA,IACE,CAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE;AACrC,gBAAA,IAAI,CAAC,iBAAiB,CAAC,UAAU,EAAE,EACnC;AACA,gBAAA,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAA;AACtC,gBAAA,OAAO,yBAAyB,CAAC;AAClC,aAAA;AACD,YAAA,OAAO,0BAA0B,CAAC;AACpC,SAAC,CAAC,CAAC;AASJ,KAAA;AAPC;;AAEG;AACH,IAAA,eAAe,CAAC,WAAmB,EAAA;AACjC,QAAA,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,CAAA;QACvC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,CAAC;KACtC;8GAvBU,mBAAmB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;kGAAnB,mBAAmB,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,OAAA,EAAA,EAAA,YAAA,EAAA,cAAA,EAAA,EAAA,SAAA,EAFnB,CAAC,iBAAiB,CAAC,0BCXhC,gpCA8BA,EAAA,MAAA,EAAA,CAAA,ipCAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,UAAA,EAAA,IAAA,EDtBY,YAAY,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,UAAA,EAAA,IAAA,EAAC,YAAY,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,aAAA,EAAA,OAAA,EAAA,MAAA,EAAA,SAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA;;2FAKxB,mBAAmB,EAAA,UAAA,EAAA,CAAA;kBAR/B,SAAS;+BACE,gBAAgB,EAAA,UAAA,EACd,IAAI,EAAA,OAAA,EACP,CAAC,YAAY,EAAC,YAAY,CAAC,EAAA,SAAA,EAGzB,CAAC,iBAAiB,CAAC,EAAA,QAAA,EAAA,gpCAAA,EAAA,MAAA,EAAA,CAAA,ipCAAA,CAAA,EAAA,CAAA;8BAIpB,YAAY,EAAA,CAAA;sBAArB,MAAM;;;AEfT;;AAEG;;ACFH;;AAEG;;;;"}