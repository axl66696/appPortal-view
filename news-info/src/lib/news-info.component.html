<!-- eslint-disable @angular-eslint/template/elements-content -->
<div class="content-container">
  <div class="top-bar-container">
    <p-avatar
    image="{{ userAccountService.userImage().image }}"
        styleClass="mr-2"
        size="xlarge"
        shape="circle"
      ></p-avatar>
      <div class="title">
        {{ userAccountService.userAccount().userCode.display }},{{'歡迎回來'| translate}}
      </div>
  </div>
  <div class="toolbar-container">
      <div class="icon-container">
        <button
          pButton
          pRipple
          type="button"
          icon="pi pi-angle-left"
          class="p-button-rounded p-button-secondary p-button-outlined"
          (click)="onBackClick()"
        ></button>
        <div><h3 [innerText]="'latestNews'|translate"></h3></div>
      </div>
      <div>
        <span class="p-input-icon-left" >
          <i class="pi pi-search"></i>
          <input type="text" pinputtext="" [placeholder]="'search'|translate" class="p-inputtext p-component p-element" [(ngModel)]="query" (keyup)="filterSubject()" (keyup.excape)="filterReset()">
        </span>
      </div>
  </div>
  <div class="flex flex-column">
    <p-fieldset [legend]="'todolist'|translate" [toggleable]="true" class="first">
      <ng-template pTemplate="expandicon">
        <div >
          <span class="pi pi-chevron-down"></span>
        </div>
      </ng-template>
      <ng-template pTemplate="collapseicon">
        <div>
          <span class="pi pi-chevron-up"></span>
        </div>
      </ng-template>
      <his-news-list
        [news]="toDoList()"
        class="news-container"
      ></his-news-list>
    </p-fieldset>

    <p-fieldset [legend]="'normalNews'|translate" [toggleable]="true" class="second">
      <ng-template pTemplate="expandicon">
        <div>
          <span class="pi pi-chevron-down"></span>
        </div>
      </ng-template>
      <ng-template pTemplate="collapseicon">
        <div>
          <span class="pi pi-chevron-up"></span>
        </div>
      </ng-template>
      <his-news-list
        [news]="normalNews()"
        class="news-container"
      ></his-news-list>
    </p-fieldset>

    <p-fieldset [legend]="'checkedToDoList'|translate" [toggleable]="true" class="third">
      <ng-template pTemplate="expandicon">
        <div>
          <span class="pi pi-chevron-down"></span>
        </div>
      </ng-template>
      <ng-template pTemplate="collapseicon">
        <div>
          <span class="pi pi-chevron-up"></span>
        </div>
      </ng-template>
      <his-news-list
        [news]="checkedToDoList()"
        class="news-container"
      ></his-news-list>
    </p-fieldset>

    <p-fieldset [legend]="'checkedNormalNews'|translate" [toggleable]="true" class="fourth">
      <ng-template pTemplate="expandicon">
        <div>
          <span class="pi pi-chevron-down"></span>
        </div>
      </ng-template>
      <ng-template pTemplate="collapseicon">
        <div>
          <span class="pi pi-chevron-up"></span>
        </div>
      </ng-template>
      <his-news-list
        [news]="checkedNormalNews()"
        class="news-container"
      ></his-news-list>
    </p-fieldset>
  </div>
</div>


